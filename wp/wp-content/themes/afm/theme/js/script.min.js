(()=>{var J0=Object.create;var Wc=Object.defineProperty;var V0=Object.getOwnPropertyDescriptor;var K0=Object.getOwnPropertyNames;var Z0=Object.getPrototypeOf,Y0=Object.prototype.hasOwnProperty;var Q0=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),eb=(r,t)=>{for(var i in t)Wc(r,i,{get:t[i],enumerable:!0})},tb=(r,t,i,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of K0(t))!Y0.call(r,a)&&a!==i&&Wc(r,a,{get:()=>t[a],enumerable:!(o=V0(t,a))||o.enumerable});return r};var od=(r,t,i)=>(i=r!=null?J0(Z0(r)):{},tb(t||!r||!r.__esModule?Wc(i,"default",{value:r,enumerable:!0}):i,r));var Jl=Q0((Bs,Ho)=>{(function(){var r,t="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",_=500,b="__lodash_placeholder__",x=1,F=2,w=4,R=1,O=2,M=1,q=2,N=4,k=8,U=16,ne=32,V=64,J=128,pe=256,_e=512,De=30,Ve="...",Ee=800,Cn=16,ki=1,Ni=2,$i=3,Pn=1/0,ln=9007199254740991,Go=17976931348623157e292,K=NaN,fe=4294967295,Oe=fe-1,qt=fe>>>1,En=[["ary",J],["bind",M],["bindKey",q],["curry",k],["curryRight",U],["flip",_e],["partial",ne],["partialRight",V],["rearg",pe]],Ot="[object Arguments]",ft="[object Array]",it="[object AsyncFunction]",Ke="[object Boolean]",fn="[object Date]",Bi="[object DOMException]",wt="[object Error]",ht="[object Function]",$r="[object GeneratorFunction]",Qe="[object Map]",Qn="[object Number]",Gt="[object Null]",Mt="[object Object]",Ui="[object Promise]",Di="[object Proxy]",er="[object RegExp]",Me="[object Set]",dt="[object String]",Br="[object Symbol]",Ur="[object Undefined]",yt="[object WeakMap]",Dr="[object WeakSet]",Fe="[object ArrayBuffer]",In="[object DataView]",Wi="[object Float32Array]",Rn="[object Float64Array]",Tn="[object Int8Array]",bt="[object Int16Array]",Wr="[object Int32Array]",On="[object Uint8Array]",zi="[object Uint8ClampedArray]",zr="[object Uint16Array]",Hi="[object Uint32Array]",qi=/\b__p \+= '';/g,Us=/\b(__p \+=) '' \+/g,Ds=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gi=/&(?:amp|lt|gt|quot|#39);/g,Ws=/[&<>"']/g,ji=RegExp(Gi.source),zs=RegExp(Ws.source),Xi=/<%-([\s\S]+?)%>/g,hn=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hs=/^\w*$/,qs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hr=/[\\^$.*+?()[\]{}|]/g,Ji=RegExp(Hr.source),nr=/^\s+/,Mu=/\s/,Fu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jo=/\{\n\/\* \[wrapped with (.+)\] \*/,Xo=/,? & /,Gs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Jo=/[()=,{}\[\]\/\s]/,js=/\\(\\)?/g,Vo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xs=/\w*$/,Ko=/^[-+]0x[0-9a-f]+$/i,Lu=/^0b[01]+$/i,qr=/^\[object .+?Constructor\]$/,Zo=/^0o[0-7]+$/i,Vi=/^(?:0|[1-9]\d*)$/,Ki=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rr=/($^)/,Zi=/['\n\r\u2028\u2029\\]/g,dn="\\ud800-\\udfff",Yo="\\u0300-\\u036f",Ft="\\ufe20-\\ufe2f",jt="\\u20d0-\\u20ff",Js=Yo+Ft+jt,Yi="\\u2700-\\u27bf",pn="a-z\\xdf-\\xf6\\xf8-\\xff",Qo="\\xac\\xb1\\xd7\\xf7",ea="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ta="\\u2000-\\u206f",$e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vs="A-Z\\xc0-\\xd6\\xd8-\\xde",Ks="\\ufe0e\\ufe0f",T=Qo+ea+ta+$e,z="['\u2019]",ce="["+dn+"]",E="["+T+"]",I="["+Js+"]",ee="\\d+",X="["+Yi+"]",xe="["+pn+"]",je="[^"+dn+T+ee+Yi+pn+Vs+"]",Mn="\\ud83c[\\udffb-\\udfff]",ir="(?:"+I+"|"+Mn+")",Le="[^"+dn+"]",st="(?:\\ud83c[\\udde6-\\uddff]){2}",Xt="[\\ud800-\\udbff][\\udc00-\\udfff]",Jt="["+Vs+"]",ot="\\u200d",Vt="(?:"+xe+"|"+je+")",sr="(?:"+Jt+"|"+je+")",na="(?:"+z+"(?:d|ll|m|re|s|t|ve))?",Qi="(?:"+z+"(?:D|LL|M|RE|S|T|VE))?",Vl=ir+"?",Kl="["+Ks+"]?",Yp="(?:"+ot+"(?:"+[Le,st,Xt].join("|")+")"+Kl+Vl+")*",Qp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",em="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zl=Kl+Vl+Yp,tm="(?:"+[X,st,Xt].join("|")+")"+Zl,nm="(?:"+[Le+I+"?",I,st,Xt,ce].join("|")+")",rm=RegExp(z,"g"),im=RegExp(I,"g"),ku=RegExp(Mn+"(?="+Mn+")|"+nm+Zl,"g"),sm=RegExp([Jt+"?"+xe+"+"+na+"(?="+[E,Jt,"$"].join("|")+")",sr+"+"+Qi+"(?="+[E,Jt+Vt,"$"].join("|")+")",Jt+"?"+Vt+"+"+na,Jt+"+"+Qi,em,Qp,ee,tm].join("|"),"g"),om=RegExp("["+ot+dn+Js+Ks+"]"),am=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,um=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cm=-1,ye={};ye[Wi]=ye[Rn]=ye[Tn]=ye[bt]=ye[Wr]=ye[On]=ye[zi]=ye[zr]=ye[Hi]=!0,ye[Ot]=ye[ft]=ye[Fe]=ye[Ke]=ye[In]=ye[fn]=ye[wt]=ye[ht]=ye[Qe]=ye[Qn]=ye[Mt]=ye[er]=ye[Me]=ye[dt]=ye[yt]=!1;var we={};we[Ot]=we[ft]=we[Fe]=we[In]=we[Ke]=we[fn]=we[Wi]=we[Rn]=we[Tn]=we[bt]=we[Wr]=we[Qe]=we[Qn]=we[Mt]=we[er]=we[Me]=we[dt]=we[Br]=we[On]=we[zi]=we[zr]=we[Hi]=!0,we[wt]=we[ht]=we[yt]=!1;var lm={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pm=parseFloat,mm=parseInt,Yl=typeof global=="object"&&global&&global.Object===Object&&global,_m=typeof self=="object"&&self&&self.Object===Object&&self,Xe=Yl||_m||Function("return this")(),Nu=typeof Bs=="object"&&Bs&&!Bs.nodeType&&Bs,Gr=Nu&&typeof Ho=="object"&&Ho&&!Ho.nodeType&&Ho,Ql=Gr&&Gr.exports===Nu,$u=Ql&&Yl.process,Lt=function(){try{var g=Gr&&Gr.require&&Gr.require("util").types;return g||$u&&$u.binding&&$u.binding("util")}catch{}}(),ef=Lt&&Lt.isArrayBuffer,tf=Lt&&Lt.isDate,nf=Lt&&Lt.isMap,rf=Lt&&Lt.isRegExp,sf=Lt&&Lt.isSet,of=Lt&&Lt.isTypedArray;function xt(g,A,y){switch(y.length){case 0:return g.call(A);case 1:return g.call(A,y[0]);case 2:return g.call(A,y[0],y[1]);case 3:return g.call(A,y[0],y[1],y[2])}return g.apply(A,y)}function gm(g,A,y,$){for(var Z=-1,he=g==null?0:g.length;++Z<he;){var We=g[Z];A($,We,y(We),g)}return $}function kt(g,A){for(var y=-1,$=g==null?0:g.length;++y<$&&A(g[y],y,g)!==!1;);return g}function vm(g,A){for(var y=g==null?0:g.length;y--&&A(g[y],y,g)!==!1;);return g}function af(g,A){for(var y=-1,$=g==null?0:g.length;++y<$;)if(!A(g[y],y,g))return!1;return!0}function or(g,A){for(var y=-1,$=g==null?0:g.length,Z=0,he=[];++y<$;){var We=g[y];A(We,y,g)&&(he[Z++]=We)}return he}function ra(g,A){var y=g==null?0:g.length;return!!y&&es(g,A,0)>-1}function Bu(g,A,y){for(var $=-1,Z=g==null?0:g.length;++$<Z;)if(y(A,g[$]))return!0;return!1}function Ae(g,A){for(var y=-1,$=g==null?0:g.length,Z=Array($);++y<$;)Z[y]=A(g[y],y,g);return Z}function ar(g,A){for(var y=-1,$=A.length,Z=g.length;++y<$;)g[Z+y]=A[y];return g}function Uu(g,A,y,$){var Z=-1,he=g==null?0:g.length;for($&&he&&(y=g[++Z]);++Z<he;)y=A(y,g[Z],Z,g);return y}function wm(g,A,y,$){var Z=g==null?0:g.length;for($&&Z&&(y=g[--Z]);Z--;)y=A(y,g[Z],Z,g);return y}function Du(g,A){for(var y=-1,$=g==null?0:g.length;++y<$;)if(A(g[y],y,g))return!0;return!1}var ym=Wu("length");function bm(g){return g.split("")}function xm(g){return g.match(Gs)||[]}function uf(g,A,y){var $;return y(g,function(Z,he,We){if(A(Z,he,We))return $=he,!1}),$}function ia(g,A,y,$){for(var Z=g.length,he=y+($?1:-1);$?he--:++he<Z;)if(A(g[he],he,g))return he;return-1}function es(g,A,y){return A===A?Lm(g,A,y):ia(g,cf,y)}function Am(g,A,y,$){for(var Z=y-1,he=g.length;++Z<he;)if($(g[Z],A))return Z;return-1}function cf(g){return g!==g}function lf(g,A){var y=g==null?0:g.length;return y?Hu(g,A)/y:K}function Wu(g){return function(A){return A==null?r:A[g]}}function zu(g){return function(A){return g==null?r:g[A]}}function ff(g,A,y,$,Z){return Z(g,function(he,We,ge){y=$?($=!1,he):A(y,he,We,ge)}),y}function Sm(g,A){var y=g.length;for(g.sort(A);y--;)g[y]=g[y].value;return g}function Hu(g,A){for(var y,$=-1,Z=g.length;++$<Z;){var he=A(g[$]);he!==r&&(y=y===r?he:y+he)}return y}function qu(g,A){for(var y=-1,$=Array(g);++y<g;)$[y]=A(y);return $}function Cm(g,A){return Ae(A,function(y){return[y,g[y]]})}function hf(g){return g&&g.slice(0,_f(g)+1).replace(nr,"")}function At(g){return function(A){return g(A)}}function Gu(g,A){return Ae(A,function(y){return g[y]})}function Zs(g,A){return g.has(A)}function df(g,A){for(var y=-1,$=g.length;++y<$&&es(A,g[y],0)>-1;);return y}function pf(g,A){for(var y=g.length;y--&&es(A,g[y],0)>-1;);return y}function Pm(g,A){for(var y=g.length,$=0;y--;)g[y]===A&&++$;return $}var Em=zu(lm),Im=zu(fm);function Rm(g){return"\\"+dm[g]}function Tm(g,A){return g==null?r:g[A]}function ts(g){return om.test(g)}function Om(g){return am.test(g)}function Mm(g){for(var A,y=[];!(A=g.next()).done;)y.push(A.value);return y}function ju(g){var A=-1,y=Array(g.size);return g.forEach(function($,Z){y[++A]=[Z,$]}),y}function mf(g,A){return function(y){return g(A(y))}}function ur(g,A){for(var y=-1,$=g.length,Z=0,he=[];++y<$;){var We=g[y];(We===A||We===b)&&(g[y]=b,he[Z++]=y)}return he}function sa(g){var A=-1,y=Array(g.size);return g.forEach(function($){y[++A]=$}),y}function Fm(g){var A=-1,y=Array(g.size);return g.forEach(function($){y[++A]=[$,$]}),y}function Lm(g,A,y){for(var $=y-1,Z=g.length;++$<Z;)if(g[$]===A)return $;return-1}function km(g,A,y){for(var $=y+1;$--;)if(g[$]===A)return $;return $}function ns(g){return ts(g)?$m(g):ym(g)}function Kt(g){return ts(g)?Bm(g):bm(g)}function _f(g){for(var A=g.length;A--&&Mu.test(g.charAt(A)););return A}var Nm=zu(hm);function $m(g){for(var A=ku.lastIndex=0;ku.test(g);)++A;return A}function Bm(g){return g.match(ku)||[]}function Um(g){return g.match(sm)||[]}var Dm=function g(A){A=A==null?Xe:cr.defaults(Xe.Object(),A,cr.pick(Xe,um));var y=A.Array,$=A.Date,Z=A.Error,he=A.Function,We=A.Math,ge=A.Object,Xu=A.RegExp,Wm=A.String,Nt=A.TypeError,oa=y.prototype,zm=he.prototype,rs=ge.prototype,aa=A["__core-js_shared__"],ua=zm.toString,me=rs.hasOwnProperty,Hm=0,gf=function(){var e=/[^.]+$/.exec(aa&&aa.keys&&aa.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ca=rs.toString,qm=ua.call(ge),Gm=Xe._,jm=Xu("^"+ua.call(me).replace(Hr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),la=Ql?A.Buffer:r,lr=A.Symbol,fa=A.Uint8Array,vf=la?la.allocUnsafe:r,ha=mf(ge.getPrototypeOf,ge),wf=ge.create,yf=rs.propertyIsEnumerable,da=oa.splice,bf=lr?lr.isConcatSpreadable:r,Ys=lr?lr.iterator:r,jr=lr?lr.toStringTag:r,pa=function(){try{var e=Zr(ge,"defineProperty");return e({},"",{}),e}catch{}}(),Xm=A.clearTimeout!==Xe.clearTimeout&&A.clearTimeout,Jm=$&&$.now!==Xe.Date.now&&$.now,Vm=A.setTimeout!==Xe.setTimeout&&A.setTimeout,ma=We.ceil,_a=We.floor,Ju=ge.getOwnPropertySymbols,Km=la?la.isBuffer:r,xf=A.isFinite,Zm=oa.join,Ym=mf(ge.keys,ge),ze=We.max,et=We.min,Qm=$.now,e_=A.parseInt,Af=We.random,t_=oa.reverse,Vu=Zr(A,"DataView"),Qs=Zr(A,"Map"),Ku=Zr(A,"Promise"),is=Zr(A,"Set"),eo=Zr(A,"WeakMap"),to=Zr(ge,"create"),ga=eo&&new eo,ss={},n_=Yr(Vu),r_=Yr(Qs),i_=Yr(Ku),s_=Yr(is),o_=Yr(eo),va=lr?lr.prototype:r,no=va?va.valueOf:r,Sf=va?va.toString:r;function f(e){if(Ie(e)&&!Q(e)&&!(e instanceof ae)){if(e instanceof $t)return e;if(me.call(e,"__wrapped__"))return Ch(e)}return new $t(e)}var os=function(){function e(){}return function(n){if(!Se(n))return{};if(wf)return wf(n);e.prototype=n;var s=new e;return e.prototype=r,s}}();function wa(){}function $t(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=r}f.templateSettings={escape:Xi,evaluate:hn,interpolate:tr,variable:"",imports:{_:f}},f.prototype=wa.prototype,f.prototype.constructor=f,$t.prototype=os(wa.prototype),$t.prototype.constructor=$t;function ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function a_(){var e=new ae(this.__wrapped__);return e.__actions__=mt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mt(this.__views__),e}function u_(){if(this.__filtered__){var e=new ae(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function c_(){var e=this.__wrapped__.value(),n=this.__dir__,s=Q(e),u=n<0,l=s?e.length:0,h=bg(0,l,this.__views__),p=h.start,m=h.end,v=m-p,S=u?m:p-1,C=this.__iteratees__,P=C.length,L=0,B=et(v,this.__takeCount__);if(!s||!u&&l==v&&B==v)return Jf(e,this.__actions__);var G=[];e:for(;v--&&L<B;){S+=n;for(var re=-1,j=e[S];++re<P;){var se=C[re],ue=se.iteratee,Pt=se.type,ct=ue(j);if(Pt==Ni)j=ct;else if(!ct){if(Pt==ki)continue e;break e}}G[L++]=j}return G}ae.prototype=os(wa.prototype),ae.prototype.constructor=ae;function Xr(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var u=e[n];this.set(u[0],u[1])}}function l_(){this.__data__=to?to(null):{},this.size=0}function f_(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function h_(e){var n=this.__data__;if(to){var s=n[e];return s===d?r:s}return me.call(n,e)?n[e]:r}function d_(e){var n=this.__data__;return to?n[e]!==r:me.call(n,e)}function p_(e,n){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=to&&n===r?d:n,this}Xr.prototype.clear=l_,Xr.prototype.delete=f_,Xr.prototype.get=h_,Xr.prototype.has=d_,Xr.prototype.set=p_;function Fn(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var u=e[n];this.set(u[0],u[1])}}function m_(){this.__data__=[],this.size=0}function __(e){var n=this.__data__,s=ya(n,e);if(s<0)return!1;var u=n.length-1;return s==u?n.pop():da.call(n,s,1),--this.size,!0}function g_(e){var n=this.__data__,s=ya(n,e);return s<0?r:n[s][1]}function v_(e){return ya(this.__data__,e)>-1}function w_(e,n){var s=this.__data__,u=ya(s,e);return u<0?(++this.size,s.push([e,n])):s[u][1]=n,this}Fn.prototype.clear=m_,Fn.prototype.delete=__,Fn.prototype.get=g_,Fn.prototype.has=v_,Fn.prototype.set=w_;function Ln(e){var n=-1,s=e==null?0:e.length;for(this.clear();++n<s;){var u=e[n];this.set(u[0],u[1])}}function y_(){this.size=0,this.__data__={hash:new Xr,map:new(Qs||Fn),string:new Xr}}function b_(e){var n=Ma(this,e).delete(e);return this.size-=n?1:0,n}function x_(e){return Ma(this,e).get(e)}function A_(e){return Ma(this,e).has(e)}function S_(e,n){var s=Ma(this,e),u=s.size;return s.set(e,n),this.size+=s.size==u?0:1,this}Ln.prototype.clear=y_,Ln.prototype.delete=b_,Ln.prototype.get=x_,Ln.prototype.has=A_,Ln.prototype.set=S_;function Jr(e){var n=-1,s=e==null?0:e.length;for(this.__data__=new Ln;++n<s;)this.add(e[n])}function C_(e){return this.__data__.set(e,d),this}function P_(e){return this.__data__.has(e)}Jr.prototype.add=Jr.prototype.push=C_,Jr.prototype.has=P_;function Zt(e){var n=this.__data__=new Fn(e);this.size=n.size}function E_(){this.__data__=new Fn,this.size=0}function I_(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}function R_(e){return this.__data__.get(e)}function T_(e){return this.__data__.has(e)}function O_(e,n){var s=this.__data__;if(s instanceof Fn){var u=s.__data__;if(!Qs||u.length<i-1)return u.push([e,n]),this.size=++s.size,this;s=this.__data__=new Ln(u)}return s.set(e,n),this.size=s.size,this}Zt.prototype.clear=E_,Zt.prototype.delete=I_,Zt.prototype.get=R_,Zt.prototype.has=T_,Zt.prototype.set=O_;function Cf(e,n){var s=Q(e),u=!s&&Qr(e),l=!s&&!u&&mr(e),h=!s&&!u&&!l&&ls(e),p=s||u||l||h,m=p?qu(e.length,Wm):[],v=m.length;for(var S in e)(n||me.call(e,S))&&!(p&&(S=="length"||l&&(S=="offset"||S=="parent")||h&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||Bn(S,v)))&&m.push(S);return m}function Pf(e){var n=e.length;return n?e[ac(0,n-1)]:r}function M_(e,n){return Fa(mt(e),Vr(n,0,e.length))}function F_(e){return Fa(mt(e))}function Zu(e,n,s){(s!==r&&!Yt(e[n],s)||s===r&&!(n in e))&&kn(e,n,s)}function ro(e,n,s){var u=e[n];(!(me.call(e,n)&&Yt(u,s))||s===r&&!(n in e))&&kn(e,n,s)}function ya(e,n){for(var s=e.length;s--;)if(Yt(e[s][0],n))return s;return-1}function L_(e,n,s,u){return fr(e,function(l,h,p){n(u,l,s(l),p)}),u}function Ef(e,n){return e&&_n(n,Je(n),e)}function k_(e,n){return e&&_n(n,gt(n),e)}function kn(e,n,s){n=="__proto__"&&pa?pa(e,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[n]=s}function Yu(e,n){for(var s=-1,u=n.length,l=y(u),h=e==null;++s<u;)l[s]=h?r:Mc(e,n[s]);return l}function Vr(e,n,s){return e===e&&(s!==r&&(e=e<=s?e:s),n!==r&&(e=e>=n?e:n)),e}function Bt(e,n,s,u,l,h){var p,m=n&x,v=n&F,S=n&w;if(s&&(p=l?s(e,u,l,h):s(e)),p!==r)return p;if(!Se(e))return e;var C=Q(e);if(C){if(p=Ag(e),!m)return mt(e,p)}else{var P=tt(e),L=P==ht||P==$r;if(mr(e))return Zf(e,m);if(P==Mt||P==Ot||L&&!l){if(p=v||L?{}:_h(e),!m)return v?hg(e,k_(p,e)):fg(e,Ef(p,e))}else{if(!we[P])return l?e:{};p=Sg(e,P,m)}}h||(h=new Zt);var B=h.get(e);if(B)return B;h.set(e,p),Gh(e)?e.forEach(function(j){p.add(Bt(j,n,s,j,e,h))}):Hh(e)&&e.forEach(function(j,se){p.set(se,Bt(j,n,s,se,e,h))});var G=S?v?vc:gc:v?gt:Je,re=C?r:G(e);return kt(re||e,function(j,se){re&&(se=j,j=e[se]),ro(p,se,Bt(j,n,s,se,e,h))}),p}function N_(e){var n=Je(e);return function(s){return If(s,e,n)}}function If(e,n,s){var u=s.length;if(e==null)return!u;for(e=ge(e);u--;){var l=s[u],h=n[l],p=e[l];if(p===r&&!(l in e)||!h(p))return!1}return!0}function Rf(e,n,s){if(typeof e!="function")throw new Nt(a);return lo(function(){e.apply(r,s)},n)}function io(e,n,s,u){var l=-1,h=ra,p=!0,m=e.length,v=[],S=n.length;if(!m)return v;s&&(n=Ae(n,At(s))),u?(h=Bu,p=!1):n.length>=i&&(h=Zs,p=!1,n=new Jr(n));e:for(;++l<m;){var C=e[l],P=s==null?C:s(C);if(C=u||C!==0?C:0,p&&P===P){for(var L=S;L--;)if(n[L]===P)continue e;v.push(C)}else h(n,P,u)||v.push(C)}return v}var fr=nh(mn),Tf=nh(ec,!0);function $_(e,n){var s=!0;return fr(e,function(u,l,h){return s=!!n(u,l,h),s}),s}function ba(e,n,s){for(var u=-1,l=e.length;++u<l;){var h=e[u],p=n(h);if(p!=null&&(m===r?p===p&&!Ct(p):s(p,m)))var m=p,v=h}return v}function B_(e,n,s,u){var l=e.length;for(s=te(s),s<0&&(s=-s>l?0:l+s),u=u===r||u>l?l:te(u),u<0&&(u+=l),u=s>u?0:Xh(u);s<u;)e[s++]=n;return e}function Of(e,n){var s=[];return fr(e,function(u,l,h){n(u,l,h)&&s.push(u)}),s}function Ze(e,n,s,u,l){var h=-1,p=e.length;for(s||(s=Pg),l||(l=[]);++h<p;){var m=e[h];n>0&&s(m)?n>1?Ze(m,n-1,s,u,l):ar(l,m):u||(l[l.length]=m)}return l}var Qu=rh(),Mf=rh(!0);function mn(e,n){return e&&Qu(e,n,Je)}function ec(e,n){return e&&Mf(e,n,Je)}function xa(e,n){return or(n,function(s){return Un(e[s])})}function Kr(e,n){n=dr(n,e);for(var s=0,u=n.length;e!=null&&s<u;)e=e[gn(n[s++])];return s&&s==u?e:r}function Ff(e,n,s){var u=n(e);return Q(e)?u:ar(u,s(e))}function at(e){return e==null?e===r?Ur:Gt:jr&&jr in ge(e)?yg(e):Fg(e)}function tc(e,n){return e>n}function U_(e,n){return e!=null&&me.call(e,n)}function D_(e,n){return e!=null&&n in ge(e)}function W_(e,n,s){return e>=et(n,s)&&e<ze(n,s)}function nc(e,n,s){for(var u=s?Bu:ra,l=e[0].length,h=e.length,p=h,m=y(h),v=1/0,S=[];p--;){var C=e[p];p&&n&&(C=Ae(C,At(n))),v=et(C.length,v),m[p]=!s&&(n||l>=120&&C.length>=120)?new Jr(p&&C):r}C=e[0];var P=-1,L=m[0];e:for(;++P<l&&S.length<v;){var B=C[P],G=n?n(B):B;if(B=s||B!==0?B:0,!(L?Zs(L,G):u(S,G,s))){for(p=h;--p;){var re=m[p];if(!(re?Zs(re,G):u(e[p],G,s)))continue e}L&&L.push(G),S.push(B)}}return S}function z_(e,n,s,u){return mn(e,function(l,h,p){n(u,s(l),h,p)}),u}function so(e,n,s){n=dr(n,e),e=yh(e,n);var u=e==null?e:e[gn(Dt(n))];return u==null?r:xt(u,e,s)}function Lf(e){return Ie(e)&&at(e)==Ot}function H_(e){return Ie(e)&&at(e)==Fe}function q_(e){return Ie(e)&&at(e)==fn}function oo(e,n,s,u,l){return e===n?!0:e==null||n==null||!Ie(e)&&!Ie(n)?e!==e&&n!==n:G_(e,n,s,u,oo,l)}function G_(e,n,s,u,l,h){var p=Q(e),m=Q(n),v=p?ft:tt(e),S=m?ft:tt(n);v=v==Ot?Mt:v,S=S==Ot?Mt:S;var C=v==Mt,P=S==Mt,L=v==S;if(L&&mr(e)){if(!mr(n))return!1;p=!0,C=!1}if(L&&!C)return h||(h=new Zt),p||ls(e)?dh(e,n,s,u,l,h):vg(e,n,v,s,u,l,h);if(!(s&R)){var B=C&&me.call(e,"__wrapped__"),G=P&&me.call(n,"__wrapped__");if(B||G){var re=B?e.value():e,j=G?n.value():n;return h||(h=new Zt),l(re,j,s,u,h)}}return L?(h||(h=new Zt),wg(e,n,s,u,l,h)):!1}function j_(e){return Ie(e)&&tt(e)==Qe}function rc(e,n,s,u){var l=s.length,h=l,p=!u;if(e==null)return!h;for(e=ge(e);l--;){var m=s[l];if(p&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++l<h;){m=s[l];var v=m[0],S=e[v],C=m[1];if(p&&m[2]){if(S===r&&!(v in e))return!1}else{var P=new Zt;if(u)var L=u(S,C,v,e,n,P);if(!(L===r?oo(C,S,R|O,u,P):L))return!1}}return!0}function kf(e){if(!Se(e)||Ig(e))return!1;var n=Un(e)?jm:qr;return n.test(Yr(e))}function X_(e){return Ie(e)&&at(e)==er}function J_(e){return Ie(e)&&tt(e)==Me}function V_(e){return Ie(e)&&Ua(e.length)&&!!ye[at(e)]}function Nf(e){return typeof e=="function"?e:e==null?vt:typeof e=="object"?Q(e)?Uf(e[0],e[1]):Bf(e):id(e)}function ic(e){if(!co(e))return Ym(e);var n=[];for(var s in ge(e))me.call(e,s)&&s!="constructor"&&n.push(s);return n}function K_(e){if(!Se(e))return Mg(e);var n=co(e),s=[];for(var u in e)u=="constructor"&&(n||!me.call(e,u))||s.push(u);return s}function sc(e,n){return e<n}function $f(e,n){var s=-1,u=_t(e)?y(e.length):[];return fr(e,function(l,h,p){u[++s]=n(l,h,p)}),u}function Bf(e){var n=yc(e);return n.length==1&&n[0][2]?vh(n[0][0],n[0][1]):function(s){return s===e||rc(s,e,n)}}function Uf(e,n){return xc(e)&&gh(n)?vh(gn(e),n):function(s){var u=Mc(s,e);return u===r&&u===n?Fc(s,e):oo(n,u,R|O)}}function Aa(e,n,s,u,l){e!==n&&Qu(n,function(h,p){if(l||(l=new Zt),Se(h))Z_(e,n,p,s,Aa,u,l);else{var m=u?u(Sc(e,p),h,p+"",e,n,l):r;m===r&&(m=h),Zu(e,p,m)}},gt)}function Z_(e,n,s,u,l,h,p){var m=Sc(e,s),v=Sc(n,s),S=p.get(v);if(S){Zu(e,s,S);return}var C=h?h(m,v,s+"",e,n,p):r,P=C===r;if(P){var L=Q(v),B=!L&&mr(v),G=!L&&!B&&ls(v);C=v,L||B||G?Q(m)?C=m:ke(m)?C=mt(m):B?(P=!1,C=Zf(v,!0)):G?(P=!1,C=Yf(v,!0)):C=[]:fo(v)||Qr(v)?(C=m,Qr(m)?C=Jh(m):(!Se(m)||Un(m))&&(C=_h(v))):P=!1}P&&(p.set(v,C),l(C,v,u,h,p),p.delete(v)),Zu(e,s,C)}function Df(e,n){var s=e.length;if(s)return n+=n<0?s:0,Bn(n,s)?e[n]:r}function Wf(e,n,s){n.length?n=Ae(n,function(h){return Q(h)?function(p){return Kr(p,h.length===1?h[0]:h)}:h}):n=[vt];var u=-1;n=Ae(n,At(H()));var l=$f(e,function(h,p,m){var v=Ae(n,function(S){return S(h)});return{criteria:v,index:++u,value:h}});return Sm(l,function(h,p){return lg(h,p,s)})}function Y_(e,n){return zf(e,n,function(s,u){return Fc(e,u)})}function zf(e,n,s){for(var u=-1,l=n.length,h={};++u<l;){var p=n[u],m=Kr(e,p);s(m,p)&&ao(h,dr(p,e),m)}return h}function Q_(e){return function(n){return Kr(n,e)}}function oc(e,n,s,u){var l=u?Am:es,h=-1,p=n.length,m=e;for(e===n&&(n=mt(n)),s&&(m=Ae(e,At(s)));++h<p;)for(var v=0,S=n[h],C=s?s(S):S;(v=l(m,C,v,u))>-1;)m!==e&&da.call(m,v,1),da.call(e,v,1);return e}function Hf(e,n){for(var s=e?n.length:0,u=s-1;s--;){var l=n[s];if(s==u||l!==h){var h=l;Bn(l)?da.call(e,l,1):lc(e,l)}}return e}function ac(e,n){return e+_a(Af()*(n-e+1))}function eg(e,n,s,u){for(var l=-1,h=ze(ma((n-e)/(s||1)),0),p=y(h);h--;)p[u?h:++l]=e,e+=s;return p}function uc(e,n){var s="";if(!e||n<1||n>ln)return s;do n%2&&(s+=e),n=_a(n/2),n&&(e+=e);while(n);return s}function ie(e,n){return Cc(wh(e,n,vt),e+"")}function tg(e){return Pf(fs(e))}function ng(e,n){var s=fs(e);return Fa(s,Vr(n,0,s.length))}function ao(e,n,s,u){if(!Se(e))return e;n=dr(n,e);for(var l=-1,h=n.length,p=h-1,m=e;m!=null&&++l<h;){var v=gn(n[l]),S=s;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(l!=p){var C=m[v];S=u?u(C,v,m):r,S===r&&(S=Se(C)?C:Bn(n[l+1])?[]:{})}ro(m,v,S),m=m[v]}return e}var qf=ga?function(e,n){return ga.set(e,n),e}:vt,rg=pa?function(e,n){return pa(e,"toString",{configurable:!0,enumerable:!1,value:kc(n),writable:!0})}:vt;function ig(e){return Fa(fs(e))}function Ut(e,n,s){var u=-1,l=e.length;n<0&&(n=-n>l?0:l+n),s=s>l?l:s,s<0&&(s+=l),l=n>s?0:s-n>>>0,n>>>=0;for(var h=y(l);++u<l;)h[u]=e[u+n];return h}function sg(e,n){var s;return fr(e,function(u,l,h){return s=n(u,l,h),!s}),!!s}function Sa(e,n,s){var u=0,l=e==null?u:e.length;if(typeof n=="number"&&n===n&&l<=qt){for(;u<l;){var h=u+l>>>1,p=e[h];p!==null&&!Ct(p)&&(s?p<=n:p<n)?u=h+1:l=h}return l}return cc(e,n,vt,s)}function cc(e,n,s,u){var l=0,h=e==null?0:e.length;if(h===0)return 0;n=s(n);for(var p=n!==n,m=n===null,v=Ct(n),S=n===r;l<h;){var C=_a((l+h)/2),P=s(e[C]),L=P!==r,B=P===null,G=P===P,re=Ct(P);if(p)var j=u||G;else S?j=G&&(u||L):m?j=G&&L&&(u||!B):v?j=G&&L&&!B&&(u||!re):B||re?j=!1:j=u?P<=n:P<n;j?l=C+1:h=C}return et(h,Oe)}function Gf(e,n){for(var s=-1,u=e.length,l=0,h=[];++s<u;){var p=e[s],m=n?n(p):p;if(!s||!Yt(m,v)){var v=m;h[l++]=p===0?0:p}}return h}function jf(e){return typeof e=="number"?e:Ct(e)?K:+e}function St(e){if(typeof e=="string")return e;if(Q(e))return Ae(e,St)+"";if(Ct(e))return Sf?Sf.call(e):"";var n=e+"";return n=="0"&&1/e==-Pn?"-0":n}function hr(e,n,s){var u=-1,l=ra,h=e.length,p=!0,m=[],v=m;if(s)p=!1,l=Bu;else if(h>=i){var S=n?null:_g(e);if(S)return sa(S);p=!1,l=Zs,v=new Jr}else v=n?[]:m;e:for(;++u<h;){var C=e[u],P=n?n(C):C;if(C=s||C!==0?C:0,p&&P===P){for(var L=v.length;L--;)if(v[L]===P)continue e;n&&v.push(P),m.push(C)}else l(v,P,s)||(v!==m&&v.push(P),m.push(C))}return m}function lc(e,n){return n=dr(n,e),e=yh(e,n),e==null||delete e[gn(Dt(n))]}function Xf(e,n,s,u){return ao(e,n,s(Kr(e,n)),u)}function Ca(e,n,s,u){for(var l=e.length,h=u?l:-1;(u?h--:++h<l)&&n(e[h],h,e););return s?Ut(e,u?0:h,u?h+1:l):Ut(e,u?h+1:0,u?l:h)}function Jf(e,n){var s=e;return s instanceof ae&&(s=s.value()),Uu(n,function(u,l){return l.func.apply(l.thisArg,ar([u],l.args))},s)}function fc(e,n,s){var u=e.length;if(u<2)return u?hr(e[0]):[];for(var l=-1,h=y(u);++l<u;)for(var p=e[l],m=-1;++m<u;)m!=l&&(h[l]=io(h[l]||p,e[m],n,s));return hr(Ze(h,1),n,s)}function Vf(e,n,s){for(var u=-1,l=e.length,h=n.length,p={};++u<l;){var m=u<h?n[u]:r;s(p,e[u],m)}return p}function hc(e){return ke(e)?e:[]}function dc(e){return typeof e=="function"?e:vt}function dr(e,n){return Q(e)?e:xc(e,n)?[e]:Sh(de(e))}var og=ie;function pr(e,n,s){var u=e.length;return s=s===r?u:s,!n&&s>=u?e:Ut(e,n,s)}var Kf=Xm||function(e){return Xe.clearTimeout(e)};function Zf(e,n){if(n)return e.slice();var s=e.length,u=vf?vf(s):new e.constructor(s);return e.copy(u),u}function pc(e){var n=new e.constructor(e.byteLength);return new fa(n).set(new fa(e)),n}function ag(e,n){var s=n?pc(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}function ug(e){var n=new e.constructor(e.source,Xs.exec(e));return n.lastIndex=e.lastIndex,n}function cg(e){return no?ge(no.call(e)):{}}function Yf(e,n){var s=n?pc(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function Qf(e,n){if(e!==n){var s=e!==r,u=e===null,l=e===e,h=Ct(e),p=n!==r,m=n===null,v=n===n,S=Ct(n);if(!m&&!S&&!h&&e>n||h&&p&&v&&!m&&!S||u&&p&&v||!s&&v||!l)return 1;if(!u&&!h&&!S&&e<n||S&&s&&l&&!u&&!h||m&&s&&l||!p&&l||!v)return-1}return 0}function lg(e,n,s){for(var u=-1,l=e.criteria,h=n.criteria,p=l.length,m=s.length;++u<p;){var v=Qf(l[u],h[u]);if(v){if(u>=m)return v;var S=s[u];return v*(S=="desc"?-1:1)}}return e.index-n.index}function eh(e,n,s,u){for(var l=-1,h=e.length,p=s.length,m=-1,v=n.length,S=ze(h-p,0),C=y(v+S),P=!u;++m<v;)C[m]=n[m];for(;++l<p;)(P||l<h)&&(C[s[l]]=e[l]);for(;S--;)C[m++]=e[l++];return C}function th(e,n,s,u){for(var l=-1,h=e.length,p=-1,m=s.length,v=-1,S=n.length,C=ze(h-m,0),P=y(C+S),L=!u;++l<C;)P[l]=e[l];for(var B=l;++v<S;)P[B+v]=n[v];for(;++p<m;)(L||l<h)&&(P[B+s[p]]=e[l++]);return P}function mt(e,n){var s=-1,u=e.length;for(n||(n=y(u));++s<u;)n[s]=e[s];return n}function _n(e,n,s,u){var l=!s;s||(s={});for(var h=-1,p=n.length;++h<p;){var m=n[h],v=u?u(s[m],e[m],m,s,e):r;v===r&&(v=e[m]),l?kn(s,m,v):ro(s,m,v)}return s}function fg(e,n){return _n(e,bc(e),n)}function hg(e,n){return _n(e,ph(e),n)}function Pa(e,n){return function(s,u){var l=Q(s)?gm:L_,h=n?n():{};return l(s,e,H(u,2),h)}}function as(e){return ie(function(n,s){var u=-1,l=s.length,h=l>1?s[l-1]:r,p=l>2?s[2]:r;for(h=e.length>3&&typeof h=="function"?(l--,h):r,p&&ut(s[0],s[1],p)&&(h=l<3?r:h,l=1),n=ge(n);++u<l;){var m=s[u];m&&e(n,m,u,h)}return n})}function nh(e,n){return function(s,u){if(s==null)return s;if(!_t(s))return e(s,u);for(var l=s.length,h=n?l:-1,p=ge(s);(n?h--:++h<l)&&u(p[h],h,p)!==!1;);return s}}function rh(e){return function(n,s,u){for(var l=-1,h=ge(n),p=u(n),m=p.length;m--;){var v=p[e?m:++l];if(s(h[v],v,h)===!1)break}return n}}function dg(e,n,s){var u=n&M,l=uo(e);function h(){var p=this&&this!==Xe&&this instanceof h?l:e;return p.apply(u?s:this,arguments)}return h}function ih(e){return function(n){n=de(n);var s=ts(n)?Kt(n):r,u=s?s[0]:n.charAt(0),l=s?pr(s,1).join(""):n.slice(1);return u[e]()+l}}function us(e){return function(n){return Uu(nd(td(n).replace(rm,"")),e,"")}}function uo(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var s=os(e.prototype),u=e.apply(s,n);return Se(u)?u:s}}function pg(e,n,s){var u=uo(e);function l(){for(var h=arguments.length,p=y(h),m=h,v=cs(l);m--;)p[m]=arguments[m];var S=h<3&&p[0]!==v&&p[h-1]!==v?[]:ur(p,v);if(h-=S.length,h<s)return ch(e,n,Ea,l.placeholder,r,p,S,r,r,s-h);var C=this&&this!==Xe&&this instanceof l?u:e;return xt(C,this,p)}return l}function sh(e){return function(n,s,u){var l=ge(n);if(!_t(n)){var h=H(s,3);n=Je(n),s=function(m){return h(l[m],m,l)}}var p=e(n,s,u);return p>-1?l[h?n[p]:p]:r}}function oh(e){return $n(function(n){var s=n.length,u=s,l=$t.prototype.thru;for(e&&n.reverse();u--;){var h=n[u];if(typeof h!="function")throw new Nt(a);if(l&&!p&&Oa(h)=="wrapper")var p=new $t([],!0)}for(u=p?u:s;++u<s;){h=n[u];var m=Oa(h),v=m=="wrapper"?wc(h):r;v&&Ac(v[0])&&v[1]==(J|k|ne|pe)&&!v[4].length&&v[9]==1?p=p[Oa(v[0])].apply(p,v[3]):p=h.length==1&&Ac(h)?p[m]():p.thru(h)}return function(){var S=arguments,C=S[0];if(p&&S.length==1&&Q(C))return p.plant(C).value();for(var P=0,L=s?n[P].apply(this,S):C;++P<s;)L=n[P].call(this,L);return L}})}function Ea(e,n,s,u,l,h,p,m,v,S){var C=n&J,P=n&M,L=n&q,B=n&(k|U),G=n&_e,re=L?r:uo(e);function j(){for(var se=arguments.length,ue=y(se),Pt=se;Pt--;)ue[Pt]=arguments[Pt];if(B)var ct=cs(j),Et=Pm(ue,ct);if(u&&(ue=eh(ue,u,l,B)),h&&(ue=th(ue,h,p,B)),se-=Et,B&&se<S){var Ne=ur(ue,ct);return ch(e,n,Ea,j.placeholder,s,ue,Ne,m,v,S-se)}var Qt=P?s:this,Wn=L?Qt[e]:e;return se=ue.length,m?ue=Lg(ue,m):G&&se>1&&ue.reverse(),C&&v<se&&(ue.length=v),this&&this!==Xe&&this instanceof j&&(Wn=re||uo(Wn)),Wn.apply(Qt,ue)}return j}function ah(e,n){return function(s,u){return z_(s,e,n(u),{})}}function Ia(e,n){return function(s,u){var l;if(s===r&&u===r)return n;if(s!==r&&(l=s),u!==r){if(l===r)return u;typeof s=="string"||typeof u=="string"?(s=St(s),u=St(u)):(s=jf(s),u=jf(u)),l=e(s,u)}return l}}function mc(e){return $n(function(n){return n=Ae(n,At(H())),ie(function(s){var u=this;return e(n,function(l){return xt(l,u,s)})})})}function Ra(e,n){n=n===r?" ":St(n);var s=n.length;if(s<2)return s?uc(n,e):n;var u=uc(n,ma(e/ns(n)));return ts(n)?pr(Kt(u),0,e).join(""):u.slice(0,e)}function mg(e,n,s,u){var l=n&M,h=uo(e);function p(){for(var m=-1,v=arguments.length,S=-1,C=u.length,P=y(C+v),L=this&&this!==Xe&&this instanceof p?h:e;++S<C;)P[S]=u[S];for(;v--;)P[S++]=arguments[++m];return xt(L,l?s:this,P)}return p}function uh(e){return function(n,s,u){return u&&typeof u!="number"&&ut(n,s,u)&&(s=u=r),n=Dn(n),s===r?(s=n,n=0):s=Dn(s),u=u===r?n<s?1:-1:Dn(u),eg(n,s,u,e)}}function Ta(e){return function(n,s){return typeof n=="string"&&typeof s=="string"||(n=Wt(n),s=Wt(s)),e(n,s)}}function ch(e,n,s,u,l,h,p,m,v,S){var C=n&k,P=C?p:r,L=C?r:p,B=C?h:r,G=C?r:h;n|=C?ne:V,n&=~(C?V:ne),n&N||(n&=~(M|q));var re=[e,n,l,B,P,G,L,m,v,S],j=s.apply(r,re);return Ac(e)&&bh(j,re),j.placeholder=u,xh(j,e,n)}function _c(e){var n=We[e];return function(s,u){if(s=Wt(s),u=u==null?0:et(te(u),292),u&&xf(s)){var l=(de(s)+"e").split("e"),h=n(l[0]+"e"+(+l[1]+u));return l=(de(h)+"e").split("e"),+(l[0]+"e"+(+l[1]-u))}return n(s)}}var _g=is&&1/sa(new is([,-0]))[1]==Pn?function(e){return new is(e)}:Bc;function lh(e){return function(n){var s=tt(n);return s==Qe?ju(n):s==Me?Fm(n):Cm(n,e(n))}}function Nn(e,n,s,u,l,h,p,m){var v=n&q;if(!v&&typeof e!="function")throw new Nt(a);var S=u?u.length:0;if(S||(n&=~(ne|V),u=l=r),p=p===r?p:ze(te(p),0),m=m===r?m:te(m),S-=l?l.length:0,n&V){var C=u,P=l;u=l=r}var L=v?r:wc(e),B=[e,n,s,u,l,C,P,h,p,m];if(L&&Og(B,L),e=B[0],n=B[1],s=B[2],u=B[3],l=B[4],m=B[9]=B[9]===r?v?0:e.length:ze(B[9]-S,0),!m&&n&(k|U)&&(n&=~(k|U)),!n||n==M)var G=dg(e,n,s);else n==k||n==U?G=pg(e,n,m):(n==ne||n==(M|ne))&&!l.length?G=mg(e,n,s,u):G=Ea.apply(r,B);var re=L?qf:bh;return xh(re(G,B),e,n)}function fh(e,n,s,u){return e===r||Yt(e,rs[s])&&!me.call(u,s)?n:e}function hh(e,n,s,u,l,h){return Se(e)&&Se(n)&&(h.set(n,e),Aa(e,n,r,hh,h),h.delete(n)),e}function gg(e){return fo(e)?r:e}function dh(e,n,s,u,l,h){var p=s&R,m=e.length,v=n.length;if(m!=v&&!(p&&v>m))return!1;var S=h.get(e),C=h.get(n);if(S&&C)return S==n&&C==e;var P=-1,L=!0,B=s&O?new Jr:r;for(h.set(e,n),h.set(n,e);++P<m;){var G=e[P],re=n[P];if(u)var j=p?u(re,G,P,n,e,h):u(G,re,P,e,n,h);if(j!==r){if(j)continue;L=!1;break}if(B){if(!Du(n,function(se,ue){if(!Zs(B,ue)&&(G===se||l(G,se,s,u,h)))return B.push(ue)})){L=!1;break}}else if(!(G===re||l(G,re,s,u,h))){L=!1;break}}return h.delete(e),h.delete(n),L}function vg(e,n,s,u,l,h,p){switch(s){case In:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Fe:return!(e.byteLength!=n.byteLength||!h(new fa(e),new fa(n)));case Ke:case fn:case Qn:return Yt(+e,+n);case wt:return e.name==n.name&&e.message==n.message;case er:case dt:return e==n+"";case Qe:var m=ju;case Me:var v=u&R;if(m||(m=sa),e.size!=n.size&&!v)return!1;var S=p.get(e);if(S)return S==n;u|=O,p.set(e,n);var C=dh(m(e),m(n),u,l,h,p);return p.delete(e),C;case Br:if(no)return no.call(e)==no.call(n)}return!1}function wg(e,n,s,u,l,h){var p=s&R,m=gc(e),v=m.length,S=gc(n),C=S.length;if(v!=C&&!p)return!1;for(var P=v;P--;){var L=m[P];if(!(p?L in n:me.call(n,L)))return!1}var B=h.get(e),G=h.get(n);if(B&&G)return B==n&&G==e;var re=!0;h.set(e,n),h.set(n,e);for(var j=p;++P<v;){L=m[P];var se=e[L],ue=n[L];if(u)var Pt=p?u(ue,se,L,n,e,h):u(se,ue,L,e,n,h);if(!(Pt===r?se===ue||l(se,ue,s,u,h):Pt)){re=!1;break}j||(j=L=="constructor")}if(re&&!j){var ct=e.constructor,Et=n.constructor;ct!=Et&&"constructor"in e&&"constructor"in n&&!(typeof ct=="function"&&ct instanceof ct&&typeof Et=="function"&&Et instanceof Et)&&(re=!1)}return h.delete(e),h.delete(n),re}function $n(e){return Cc(wh(e,r,Ih),e+"")}function gc(e){return Ff(e,Je,bc)}function vc(e){return Ff(e,gt,ph)}var wc=ga?function(e){return ga.get(e)}:Bc;function Oa(e){for(var n=e.name+"",s=ss[n],u=me.call(ss,n)?s.length:0;u--;){var l=s[u],h=l.func;if(h==null||h==e)return l.name}return n}function cs(e){var n=me.call(f,"placeholder")?f:e;return n.placeholder}function H(){var e=f.iteratee||Nc;return e=e===Nc?Nf:e,arguments.length?e(arguments[0],arguments[1]):e}function Ma(e,n){var s=e.__data__;return Eg(n)?s[typeof n=="string"?"string":"hash"]:s.map}function yc(e){for(var n=Je(e),s=n.length;s--;){var u=n[s],l=e[u];n[s]=[u,l,gh(l)]}return n}function Zr(e,n){var s=Tm(e,n);return kf(s)?s:r}function yg(e){var n=me.call(e,jr),s=e[jr];try{e[jr]=r;var u=!0}catch{}var l=ca.call(e);return u&&(n?e[jr]=s:delete e[jr]),l}var bc=Ju?function(e){return e==null?[]:(e=ge(e),or(Ju(e),function(n){return yf.call(e,n)}))}:Uc,ph=Ju?function(e){for(var n=[];e;)ar(n,bc(e)),e=ha(e);return n}:Uc,tt=at;(Vu&&tt(new Vu(new ArrayBuffer(1)))!=In||Qs&&tt(new Qs)!=Qe||Ku&&tt(Ku.resolve())!=Ui||is&&tt(new is)!=Me||eo&&tt(new eo)!=yt)&&(tt=function(e){var n=at(e),s=n==Mt?e.constructor:r,u=s?Yr(s):"";if(u)switch(u){case n_:return In;case r_:return Qe;case i_:return Ui;case s_:return Me;case o_:return yt}return n});function bg(e,n,s){for(var u=-1,l=s.length;++u<l;){var h=s[u],p=h.size;switch(h.type){case"drop":e+=p;break;case"dropRight":n-=p;break;case"take":n=et(n,e+p);break;case"takeRight":e=ze(e,n-p);break}}return{start:e,end:n}}function xg(e){var n=e.match(jo);return n?n[1].split(Xo):[]}function mh(e,n,s){n=dr(n,e);for(var u=-1,l=n.length,h=!1;++u<l;){var p=gn(n[u]);if(!(h=e!=null&&s(e,p)))break;e=e[p]}return h||++u!=l?h:(l=e==null?0:e.length,!!l&&Ua(l)&&Bn(p,l)&&(Q(e)||Qr(e)))}function Ag(e){var n=e.length,s=new e.constructor(n);return n&&typeof e[0]=="string"&&me.call(e,"index")&&(s.index=e.index,s.input=e.input),s}function _h(e){return typeof e.constructor=="function"&&!co(e)?os(ha(e)):{}}function Sg(e,n,s){var u=e.constructor;switch(n){case Fe:return pc(e);case Ke:case fn:return new u(+e);case In:return ag(e,s);case Wi:case Rn:case Tn:case bt:case Wr:case On:case zi:case zr:case Hi:return Yf(e,s);case Qe:return new u;case Qn:case dt:return new u(e);case er:return ug(e);case Me:return new u;case Br:return cg(e)}}function Cg(e,n){var s=n.length;if(!s)return e;var u=s-1;return n[u]=(s>1?"& ":"")+n[u],n=n.join(s>2?", ":" "),e.replace(Fu,`{
/* [wrapped with `+n+`] */
`)}function Pg(e){return Q(e)||Qr(e)||!!(bf&&e&&e[bf])}function Bn(e,n){var s=typeof e;return n=n??ln,!!n&&(s=="number"||s!="symbol"&&Vi.test(e))&&e>-1&&e%1==0&&e<n}function ut(e,n,s){if(!Se(s))return!1;var u=typeof n;return(u=="number"?_t(s)&&Bn(n,s.length):u=="string"&&n in s)?Yt(s[n],e):!1}function xc(e,n){if(Q(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Ct(e)?!0:Hs.test(e)||!pt.test(e)||n!=null&&e in ge(n)}function Eg(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Ac(e){var n=Oa(e),s=f[n];if(typeof s!="function"||!(n in ae.prototype))return!1;if(e===s)return!0;var u=wc(s);return!!u&&e===u[0]}function Ig(e){return!!gf&&gf in e}var Rg=aa?Un:Dc;function co(e){var n=e&&e.constructor,s=typeof n=="function"&&n.prototype||rs;return e===s}function gh(e){return e===e&&!Se(e)}function vh(e,n){return function(s){return s==null?!1:s[e]===n&&(n!==r||e in ge(s))}}function Tg(e){var n=$a(e,function(u){return s.size===_&&s.clear(),u}),s=n.cache;return n}function Og(e,n){var s=e[1],u=n[1],l=s|u,h=l<(M|q|J),p=u==J&&s==k||u==J&&s==pe&&e[7].length<=n[8]||u==(J|pe)&&n[7].length<=n[8]&&s==k;if(!(h||p))return e;u&M&&(e[2]=n[2],l|=s&M?0:N);var m=n[3];if(m){var v=e[3];e[3]=v?eh(v,m,n[4]):m,e[4]=v?ur(e[3],b):n[4]}return m=n[5],m&&(v=e[5],e[5]=v?th(v,m,n[6]):m,e[6]=v?ur(e[5],b):n[6]),m=n[7],m&&(e[7]=m),u&J&&(e[8]=e[8]==null?n[8]:et(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=l,e}function Mg(e){var n=[];if(e!=null)for(var s in ge(e))n.push(s);return n}function Fg(e){return ca.call(e)}function wh(e,n,s){return n=ze(n===r?e.length-1:n,0),function(){for(var u=arguments,l=-1,h=ze(u.length-n,0),p=y(h);++l<h;)p[l]=u[n+l];l=-1;for(var m=y(n+1);++l<n;)m[l]=u[l];return m[n]=s(p),xt(e,this,m)}}function yh(e,n){return n.length<2?e:Kr(e,Ut(n,0,-1))}function Lg(e,n){for(var s=e.length,u=et(n.length,s),l=mt(e);u--;){var h=n[u];e[u]=Bn(h,s)?l[h]:r}return e}function Sc(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var bh=Ah(qf),lo=Vm||function(e,n){return Xe.setTimeout(e,n)},Cc=Ah(rg);function xh(e,n,s){var u=n+"";return Cc(e,Cg(u,kg(xg(u),s)))}function Ah(e){var n=0,s=0;return function(){var u=Qm(),l=Cn-(u-s);if(s=u,l>0){if(++n>=Ee)return arguments[0]}else n=0;return e.apply(r,arguments)}}function Fa(e,n){var s=-1,u=e.length,l=u-1;for(n=n===r?u:n;++s<n;){var h=ac(s,l),p=e[h];e[h]=e[s],e[s]=p}return e.length=n,e}var Sh=Tg(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(qs,function(s,u,l,h){n.push(l?h.replace(js,"$1"):u||s)}),n});function gn(e){if(typeof e=="string"||Ct(e))return e;var n=e+"";return n=="0"&&1/e==-Pn?"-0":n}function Yr(e){if(e!=null){try{return ua.call(e)}catch{}try{return e+""}catch{}}return""}function kg(e,n){return kt(En,function(s){var u="_."+s[0];n&s[1]&&!ra(e,u)&&e.push(u)}),e.sort()}function Ch(e){if(e instanceof ae)return e.clone();var n=new $t(e.__wrapped__,e.__chain__);return n.__actions__=mt(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Ng(e,n,s){(s?ut(e,n,s):n===r)?n=1:n=ze(te(n),0);var u=e==null?0:e.length;if(!u||n<1)return[];for(var l=0,h=0,p=y(ma(u/n));l<u;)p[h++]=Ut(e,l,l+=n);return p}function $g(e){for(var n=-1,s=e==null?0:e.length,u=0,l=[];++n<s;){var h=e[n];h&&(l[u++]=h)}return l}function Bg(){var e=arguments.length;if(!e)return[];for(var n=y(e-1),s=arguments[0],u=e;u--;)n[u-1]=arguments[u];return ar(Q(s)?mt(s):[s],Ze(n,1))}var Ug=ie(function(e,n){return ke(e)?io(e,Ze(n,1,ke,!0)):[]}),Dg=ie(function(e,n){var s=Dt(n);return ke(s)&&(s=r),ke(e)?io(e,Ze(n,1,ke,!0),H(s,2)):[]}),Wg=ie(function(e,n){var s=Dt(n);return ke(s)&&(s=r),ke(e)?io(e,Ze(n,1,ke,!0),r,s):[]});function zg(e,n,s){var u=e==null?0:e.length;return u?(n=s||n===r?1:te(n),Ut(e,n<0?0:n,u)):[]}function Hg(e,n,s){var u=e==null?0:e.length;return u?(n=s||n===r?1:te(n),n=u-n,Ut(e,0,n<0?0:n)):[]}function qg(e,n){return e&&e.length?Ca(e,H(n,3),!0,!0):[]}function Gg(e,n){return e&&e.length?Ca(e,H(n,3),!0):[]}function jg(e,n,s,u){var l=e==null?0:e.length;return l?(s&&typeof s!="number"&&ut(e,n,s)&&(s=0,u=l),B_(e,n,s,u)):[]}function Ph(e,n,s){var u=e==null?0:e.length;if(!u)return-1;var l=s==null?0:te(s);return l<0&&(l=ze(u+l,0)),ia(e,H(n,3),l)}function Eh(e,n,s){var u=e==null?0:e.length;if(!u)return-1;var l=u-1;return s!==r&&(l=te(s),l=s<0?ze(u+l,0):et(l,u-1)),ia(e,H(n,3),l,!0)}function Ih(e){var n=e==null?0:e.length;return n?Ze(e,1):[]}function Xg(e){var n=e==null?0:e.length;return n?Ze(e,Pn):[]}function Jg(e,n){var s=e==null?0:e.length;return s?(n=n===r?1:te(n),Ze(e,n)):[]}function Vg(e){for(var n=-1,s=e==null?0:e.length,u={};++n<s;){var l=e[n];u[l[0]]=l[1]}return u}function Rh(e){return e&&e.length?e[0]:r}function Kg(e,n,s){var u=e==null?0:e.length;if(!u)return-1;var l=s==null?0:te(s);return l<0&&(l=ze(u+l,0)),es(e,n,l)}function Zg(e){var n=e==null?0:e.length;return n?Ut(e,0,-1):[]}var Yg=ie(function(e){var n=Ae(e,hc);return n.length&&n[0]===e[0]?nc(n):[]}),Qg=ie(function(e){var n=Dt(e),s=Ae(e,hc);return n===Dt(s)?n=r:s.pop(),s.length&&s[0]===e[0]?nc(s,H(n,2)):[]}),ev=ie(function(e){var n=Dt(e),s=Ae(e,hc);return n=typeof n=="function"?n:r,n&&s.pop(),s.length&&s[0]===e[0]?nc(s,r,n):[]});function tv(e,n){return e==null?"":Zm.call(e,n)}function Dt(e){var n=e==null?0:e.length;return n?e[n-1]:r}function nv(e,n,s){var u=e==null?0:e.length;if(!u)return-1;var l=u;return s!==r&&(l=te(s),l=l<0?ze(u+l,0):et(l,u-1)),n===n?km(e,n,l):ia(e,cf,l,!0)}function rv(e,n){return e&&e.length?Df(e,te(n)):r}var iv=ie(Th);function Th(e,n){return e&&e.length&&n&&n.length?oc(e,n):e}function sv(e,n,s){return e&&e.length&&n&&n.length?oc(e,n,H(s,2)):e}function ov(e,n,s){return e&&e.length&&n&&n.length?oc(e,n,r,s):e}var av=$n(function(e,n){var s=e==null?0:e.length,u=Yu(e,n);return Hf(e,Ae(n,function(l){return Bn(l,s)?+l:l}).sort(Qf)),u});function uv(e,n){var s=[];if(!(e&&e.length))return s;var u=-1,l=[],h=e.length;for(n=H(n,3);++u<h;){var p=e[u];n(p,u,e)&&(s.push(p),l.push(u))}return Hf(e,l),s}function Pc(e){return e==null?e:t_.call(e)}function cv(e,n,s){var u=e==null?0:e.length;return u?(s&&typeof s!="number"&&ut(e,n,s)?(n=0,s=u):(n=n==null?0:te(n),s=s===r?u:te(s)),Ut(e,n,s)):[]}function lv(e,n){return Sa(e,n)}function fv(e,n,s){return cc(e,n,H(s,2))}function hv(e,n){var s=e==null?0:e.length;if(s){var u=Sa(e,n);if(u<s&&Yt(e[u],n))return u}return-1}function dv(e,n){return Sa(e,n,!0)}function pv(e,n,s){return cc(e,n,H(s,2),!0)}function mv(e,n){var s=e==null?0:e.length;if(s){var u=Sa(e,n,!0)-1;if(Yt(e[u],n))return u}return-1}function _v(e){return e&&e.length?Gf(e):[]}function gv(e,n){return e&&e.length?Gf(e,H(n,2)):[]}function vv(e){var n=e==null?0:e.length;return n?Ut(e,1,n):[]}function wv(e,n,s){return e&&e.length?(n=s||n===r?1:te(n),Ut(e,0,n<0?0:n)):[]}function yv(e,n,s){var u=e==null?0:e.length;return u?(n=s||n===r?1:te(n),n=u-n,Ut(e,n<0?0:n,u)):[]}function bv(e,n){return e&&e.length?Ca(e,H(n,3),!1,!0):[]}function xv(e,n){return e&&e.length?Ca(e,H(n,3)):[]}var Av=ie(function(e){return hr(Ze(e,1,ke,!0))}),Sv=ie(function(e){var n=Dt(e);return ke(n)&&(n=r),hr(Ze(e,1,ke,!0),H(n,2))}),Cv=ie(function(e){var n=Dt(e);return n=typeof n=="function"?n:r,hr(Ze(e,1,ke,!0),r,n)});function Pv(e){return e&&e.length?hr(e):[]}function Ev(e,n){return e&&e.length?hr(e,H(n,2)):[]}function Iv(e,n){return n=typeof n=="function"?n:r,e&&e.length?hr(e,r,n):[]}function Ec(e){if(!(e&&e.length))return[];var n=0;return e=or(e,function(s){if(ke(s))return n=ze(s.length,n),!0}),qu(n,function(s){return Ae(e,Wu(s))})}function Oh(e,n){if(!(e&&e.length))return[];var s=Ec(e);return n==null?s:Ae(s,function(u){return xt(n,r,u)})}var Rv=ie(function(e,n){return ke(e)?io(e,n):[]}),Tv=ie(function(e){return fc(or(e,ke))}),Ov=ie(function(e){var n=Dt(e);return ke(n)&&(n=r),fc(or(e,ke),H(n,2))}),Mv=ie(function(e){var n=Dt(e);return n=typeof n=="function"?n:r,fc(or(e,ke),r,n)}),Fv=ie(Ec);function Lv(e,n){return Vf(e||[],n||[],ro)}function kv(e,n){return Vf(e||[],n||[],ao)}var Nv=ie(function(e){var n=e.length,s=n>1?e[n-1]:r;return s=typeof s=="function"?(e.pop(),s):r,Oh(e,s)});function Mh(e){var n=f(e);return n.__chain__=!0,n}function $v(e,n){return n(e),e}function La(e,n){return n(e)}var Bv=$n(function(e){var n=e.length,s=n?e[0]:0,u=this.__wrapped__,l=function(h){return Yu(h,e)};return n>1||this.__actions__.length||!(u instanceof ae)||!Bn(s)?this.thru(l):(u=u.slice(s,+s+(n?1:0)),u.__actions__.push({func:La,args:[l],thisArg:r}),new $t(u,this.__chain__).thru(function(h){return n&&!h.length&&h.push(r),h}))});function Uv(){return Mh(this)}function Dv(){return new $t(this.value(),this.__chain__)}function Wv(){this.__values__===r&&(this.__values__=jh(this.value()));var e=this.__index__>=this.__values__.length,n=e?r:this.__values__[this.__index__++];return{done:e,value:n}}function zv(){return this}function Hv(e){for(var n,s=this;s instanceof wa;){var u=Ch(s);u.__index__=0,u.__values__=r,n?l.__wrapped__=u:n=u;var l=u;s=s.__wrapped__}return l.__wrapped__=e,n}function qv(){var e=this.__wrapped__;if(e instanceof ae){var n=e;return this.__actions__.length&&(n=new ae(this)),n=n.reverse(),n.__actions__.push({func:La,args:[Pc],thisArg:r}),new $t(n,this.__chain__)}return this.thru(Pc)}function Gv(){return Jf(this.__wrapped__,this.__actions__)}var jv=Pa(function(e,n,s){me.call(e,s)?++e[s]:kn(e,s,1)});function Xv(e,n,s){var u=Q(e)?af:$_;return s&&ut(e,n,s)&&(n=r),u(e,H(n,3))}function Jv(e,n){var s=Q(e)?or:Of;return s(e,H(n,3))}var Vv=sh(Ph),Kv=sh(Eh);function Zv(e,n){return Ze(ka(e,n),1)}function Yv(e,n){return Ze(ka(e,n),Pn)}function Qv(e,n,s){return s=s===r?1:te(s),Ze(ka(e,n),s)}function Fh(e,n){var s=Q(e)?kt:fr;return s(e,H(n,3))}function Lh(e,n){var s=Q(e)?vm:Tf;return s(e,H(n,3))}var ew=Pa(function(e,n,s){me.call(e,s)?e[s].push(n):kn(e,s,[n])});function tw(e,n,s,u){e=_t(e)?e:fs(e),s=s&&!u?te(s):0;var l=e.length;return s<0&&(s=ze(l+s,0)),Da(e)?s<=l&&e.indexOf(n,s)>-1:!!l&&es(e,n,s)>-1}var nw=ie(function(e,n,s){var u=-1,l=typeof n=="function",h=_t(e)?y(e.length):[];return fr(e,function(p){h[++u]=l?xt(n,p,s):so(p,n,s)}),h}),rw=Pa(function(e,n,s){kn(e,s,n)});function ka(e,n){var s=Q(e)?Ae:$f;return s(e,H(n,3))}function iw(e,n,s,u){return e==null?[]:(Q(n)||(n=n==null?[]:[n]),s=u?r:s,Q(s)||(s=s==null?[]:[s]),Wf(e,n,s))}var sw=Pa(function(e,n,s){e[s?0:1].push(n)},function(){return[[],[]]});function ow(e,n,s){var u=Q(e)?Uu:ff,l=arguments.length<3;return u(e,H(n,4),s,l,fr)}function aw(e,n,s){var u=Q(e)?wm:ff,l=arguments.length<3;return u(e,H(n,4),s,l,Tf)}function uw(e,n){var s=Q(e)?or:Of;return s(e,Ba(H(n,3)))}function cw(e){var n=Q(e)?Pf:tg;return n(e)}function lw(e,n,s){(s?ut(e,n,s):n===r)?n=1:n=te(n);var u=Q(e)?M_:ng;return u(e,n)}function fw(e){var n=Q(e)?F_:ig;return n(e)}function hw(e){if(e==null)return 0;if(_t(e))return Da(e)?ns(e):e.length;var n=tt(e);return n==Qe||n==Me?e.size:ic(e).length}function dw(e,n,s){var u=Q(e)?Du:sg;return s&&ut(e,n,s)&&(n=r),u(e,H(n,3))}var pw=ie(function(e,n){if(e==null)return[];var s=n.length;return s>1&&ut(e,n[0],n[1])?n=[]:s>2&&ut(n[0],n[1],n[2])&&(n=[n[0]]),Wf(e,Ze(n,1),[])}),Na=Jm||function(){return Xe.Date.now()};function mw(e,n){if(typeof n!="function")throw new Nt(a);return e=te(e),function(){if(--e<1)return n.apply(this,arguments)}}function kh(e,n,s){return n=s?r:n,n=e&&n==null?e.length:n,Nn(e,J,r,r,r,r,n)}function Nh(e,n){var s;if(typeof n!="function")throw new Nt(a);return e=te(e),function(){return--e>0&&(s=n.apply(this,arguments)),e<=1&&(n=r),s}}var Ic=ie(function(e,n,s){var u=M;if(s.length){var l=ur(s,cs(Ic));u|=ne}return Nn(e,u,n,s,l)}),$h=ie(function(e,n,s){var u=M|q;if(s.length){var l=ur(s,cs($h));u|=ne}return Nn(n,u,e,s,l)});function Bh(e,n,s){n=s?r:n;var u=Nn(e,k,r,r,r,r,r,n);return u.placeholder=Bh.placeholder,u}function Uh(e,n,s){n=s?r:n;var u=Nn(e,U,r,r,r,r,r,n);return u.placeholder=Uh.placeholder,u}function Dh(e,n,s){var u,l,h,p,m,v,S=0,C=!1,P=!1,L=!0;if(typeof e!="function")throw new Nt(a);n=Wt(n)||0,Se(s)&&(C=!!s.leading,P="maxWait"in s,h=P?ze(Wt(s.maxWait)||0,n):h,L="trailing"in s?!!s.trailing:L);function B(Ne){var Qt=u,Wn=l;return u=l=r,S=Ne,p=e.apply(Wn,Qt),p}function G(Ne){return S=Ne,m=lo(se,n),C?B(Ne):p}function re(Ne){var Qt=Ne-v,Wn=Ne-S,sd=n-Qt;return P?et(sd,h-Wn):sd}function j(Ne){var Qt=Ne-v,Wn=Ne-S;return v===r||Qt>=n||Qt<0||P&&Wn>=h}function se(){var Ne=Na();if(j(Ne))return ue(Ne);m=lo(se,re(Ne))}function ue(Ne){return m=r,L&&u?B(Ne):(u=l=r,p)}function Pt(){m!==r&&Kf(m),S=0,u=v=l=m=r}function ct(){return m===r?p:ue(Na())}function Et(){var Ne=Na(),Qt=j(Ne);if(u=arguments,l=this,v=Ne,Qt){if(m===r)return G(v);if(P)return Kf(m),m=lo(se,n),B(v)}return m===r&&(m=lo(se,n)),p}return Et.cancel=Pt,Et.flush=ct,Et}var _w=ie(function(e,n){return Rf(e,1,n)}),gw=ie(function(e,n,s){return Rf(e,Wt(n)||0,s)});function vw(e){return Nn(e,_e)}function $a(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new Nt(a);var s=function(){var u=arguments,l=n?n.apply(this,u):u[0],h=s.cache;if(h.has(l))return h.get(l);var p=e.apply(this,u);return s.cache=h.set(l,p)||h,p};return s.cache=new($a.Cache||Ln),s}$a.Cache=Ln;function Ba(e){if(typeof e!="function")throw new Nt(a);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function ww(e){return Nh(2,e)}var yw=og(function(e,n){n=n.length==1&&Q(n[0])?Ae(n[0],At(H())):Ae(Ze(n,1),At(H()));var s=n.length;return ie(function(u){for(var l=-1,h=et(u.length,s);++l<h;)u[l]=n[l].call(this,u[l]);return xt(e,this,u)})}),Rc=ie(function(e,n){var s=ur(n,cs(Rc));return Nn(e,ne,r,n,s)}),Wh=ie(function(e,n){var s=ur(n,cs(Wh));return Nn(e,V,r,n,s)}),bw=$n(function(e,n){return Nn(e,pe,r,r,r,n)});function xw(e,n){if(typeof e!="function")throw new Nt(a);return n=n===r?n:te(n),ie(e,n)}function Aw(e,n){if(typeof e!="function")throw new Nt(a);return n=n==null?0:ze(te(n),0),ie(function(s){var u=s[n],l=pr(s,0,n);return u&&ar(l,u),xt(e,this,l)})}function Sw(e,n,s){var u=!0,l=!0;if(typeof e!="function")throw new Nt(a);return Se(s)&&(u="leading"in s?!!s.leading:u,l="trailing"in s?!!s.trailing:l),Dh(e,n,{leading:u,maxWait:n,trailing:l})}function Cw(e){return kh(e,1)}function Pw(e,n){return Rc(dc(n),e)}function Ew(){if(!arguments.length)return[];var e=arguments[0];return Q(e)?e:[e]}function Iw(e){return Bt(e,w)}function Rw(e,n){return n=typeof n=="function"?n:r,Bt(e,w,n)}function Tw(e){return Bt(e,x|w)}function Ow(e,n){return n=typeof n=="function"?n:r,Bt(e,x|w,n)}function Mw(e,n){return n==null||If(e,n,Je(n))}function Yt(e,n){return e===n||e!==e&&n!==n}var Fw=Ta(tc),Lw=Ta(function(e,n){return e>=n}),Qr=Lf(function(){return arguments}())?Lf:function(e){return Ie(e)&&me.call(e,"callee")&&!yf.call(e,"callee")},Q=y.isArray,kw=ef?At(ef):H_;function _t(e){return e!=null&&Ua(e.length)&&!Un(e)}function ke(e){return Ie(e)&&_t(e)}function Nw(e){return e===!0||e===!1||Ie(e)&&at(e)==Ke}var mr=Km||Dc,$w=tf?At(tf):q_;function Bw(e){return Ie(e)&&e.nodeType===1&&!fo(e)}function Uw(e){if(e==null)return!0;if(_t(e)&&(Q(e)||typeof e=="string"||typeof e.splice=="function"||mr(e)||ls(e)||Qr(e)))return!e.length;var n=tt(e);if(n==Qe||n==Me)return!e.size;if(co(e))return!ic(e).length;for(var s in e)if(me.call(e,s))return!1;return!0}function Dw(e,n){return oo(e,n)}function Ww(e,n,s){s=typeof s=="function"?s:r;var u=s?s(e,n):r;return u===r?oo(e,n,r,s):!!u}function Tc(e){if(!Ie(e))return!1;var n=at(e);return n==wt||n==Bi||typeof e.message=="string"&&typeof e.name=="string"&&!fo(e)}function zw(e){return typeof e=="number"&&xf(e)}function Un(e){if(!Se(e))return!1;var n=at(e);return n==ht||n==$r||n==it||n==Di}function zh(e){return typeof e=="number"&&e==te(e)}function Ua(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ln}function Se(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Ie(e){return e!=null&&typeof e=="object"}var Hh=nf?At(nf):j_;function Hw(e,n){return e===n||rc(e,n,yc(n))}function qw(e,n,s){return s=typeof s=="function"?s:r,rc(e,n,yc(n),s)}function Gw(e){return qh(e)&&e!=+e}function jw(e){if(Rg(e))throw new Z(o);return kf(e)}function Xw(e){return e===null}function Jw(e){return e==null}function qh(e){return typeof e=="number"||Ie(e)&&at(e)==Qn}function fo(e){if(!Ie(e)||at(e)!=Mt)return!1;var n=ha(e);if(n===null)return!0;var s=me.call(n,"constructor")&&n.constructor;return typeof s=="function"&&s instanceof s&&ua.call(s)==qm}var Oc=rf?At(rf):X_;function Vw(e){return zh(e)&&e>=-ln&&e<=ln}var Gh=sf?At(sf):J_;function Da(e){return typeof e=="string"||!Q(e)&&Ie(e)&&at(e)==dt}function Ct(e){return typeof e=="symbol"||Ie(e)&&at(e)==Br}var ls=of?At(of):V_;function Kw(e){return e===r}function Zw(e){return Ie(e)&&tt(e)==yt}function Yw(e){return Ie(e)&&at(e)==Dr}var Qw=Ta(sc),ey=Ta(function(e,n){return e<=n});function jh(e){if(!e)return[];if(_t(e))return Da(e)?Kt(e):mt(e);if(Ys&&e[Ys])return Mm(e[Ys]());var n=tt(e),s=n==Qe?ju:n==Me?sa:fs;return s(e)}function Dn(e){if(!e)return e===0?e:0;if(e=Wt(e),e===Pn||e===-Pn){var n=e<0?-1:1;return n*Go}return e===e?e:0}function te(e){var n=Dn(e),s=n%1;return n===n?s?n-s:n:0}function Xh(e){return e?Vr(te(e),0,fe):0}function Wt(e){if(typeof e=="number")return e;if(Ct(e))return K;if(Se(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Se(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=hf(e);var s=Lu.test(e);return s||Zo.test(e)?mm(e.slice(2),s?2:8):Ko.test(e)?K:+e}function Jh(e){return _n(e,gt(e))}function ty(e){return e?Vr(te(e),-ln,ln):e===0?e:0}function de(e){return e==null?"":St(e)}var ny=as(function(e,n){if(co(n)||_t(n)){_n(n,Je(n),e);return}for(var s in n)me.call(n,s)&&ro(e,s,n[s])}),Vh=as(function(e,n){_n(n,gt(n),e)}),Wa=as(function(e,n,s,u){_n(n,gt(n),e,u)}),ry=as(function(e,n,s,u){_n(n,Je(n),e,u)}),iy=$n(Yu);function sy(e,n){var s=os(e);return n==null?s:Ef(s,n)}var oy=ie(function(e,n){e=ge(e);var s=-1,u=n.length,l=u>2?n[2]:r;for(l&&ut(n[0],n[1],l)&&(u=1);++s<u;)for(var h=n[s],p=gt(h),m=-1,v=p.length;++m<v;){var S=p[m],C=e[S];(C===r||Yt(C,rs[S])&&!me.call(e,S))&&(e[S]=h[S])}return e}),ay=ie(function(e){return e.push(r,hh),xt(Kh,r,e)});function uy(e,n){return uf(e,H(n,3),mn)}function cy(e,n){return uf(e,H(n,3),ec)}function ly(e,n){return e==null?e:Qu(e,H(n,3),gt)}function fy(e,n){return e==null?e:Mf(e,H(n,3),gt)}function hy(e,n){return e&&mn(e,H(n,3))}function dy(e,n){return e&&ec(e,H(n,3))}function py(e){return e==null?[]:xa(e,Je(e))}function my(e){return e==null?[]:xa(e,gt(e))}function Mc(e,n,s){var u=e==null?r:Kr(e,n);return u===r?s:u}function _y(e,n){return e!=null&&mh(e,n,U_)}function Fc(e,n){return e!=null&&mh(e,n,D_)}var gy=ah(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=ca.call(n)),e[n]=s},kc(vt)),vy=ah(function(e,n,s){n!=null&&typeof n.toString!="function"&&(n=ca.call(n)),me.call(e,n)?e[n].push(s):e[n]=[s]},H),wy=ie(so);function Je(e){return _t(e)?Cf(e):ic(e)}function gt(e){return _t(e)?Cf(e,!0):K_(e)}function yy(e,n){var s={};return n=H(n,3),mn(e,function(u,l,h){kn(s,n(u,l,h),u)}),s}function by(e,n){var s={};return n=H(n,3),mn(e,function(u,l,h){kn(s,l,n(u,l,h))}),s}var xy=as(function(e,n,s){Aa(e,n,s)}),Kh=as(function(e,n,s,u){Aa(e,n,s,u)}),Ay=$n(function(e,n){var s={};if(e==null)return s;var u=!1;n=Ae(n,function(h){return h=dr(h,e),u||(u=h.length>1),h}),_n(e,vc(e),s),u&&(s=Bt(s,x|F|w,gg));for(var l=n.length;l--;)lc(s,n[l]);return s});function Sy(e,n){return Zh(e,Ba(H(n)))}var Cy=$n(function(e,n){return e==null?{}:Y_(e,n)});function Zh(e,n){if(e==null)return{};var s=Ae(vc(e),function(u){return[u]});return n=H(n),zf(e,s,function(u,l){return n(u,l[0])})}function Py(e,n,s){n=dr(n,e);var u=-1,l=n.length;for(l||(l=1,e=r);++u<l;){var h=e==null?r:e[gn(n[u])];h===r&&(u=l,h=s),e=Un(h)?h.call(e):h}return e}function Ey(e,n,s){return e==null?e:ao(e,n,s)}function Iy(e,n,s,u){return u=typeof u=="function"?u:r,e==null?e:ao(e,n,s,u)}var Yh=lh(Je),Qh=lh(gt);function Ry(e,n,s){var u=Q(e),l=u||mr(e)||ls(e);if(n=H(n,4),s==null){var h=e&&e.constructor;l?s=u?new h:[]:Se(e)?s=Un(h)?os(ha(e)):{}:s={}}return(l?kt:mn)(e,function(p,m,v){return n(s,p,m,v)}),s}function Ty(e,n){return e==null?!0:lc(e,n)}function Oy(e,n,s){return e==null?e:Xf(e,n,dc(s))}function My(e,n,s,u){return u=typeof u=="function"?u:r,e==null?e:Xf(e,n,dc(s),u)}function fs(e){return e==null?[]:Gu(e,Je(e))}function Fy(e){return e==null?[]:Gu(e,gt(e))}function Ly(e,n,s){return s===r&&(s=n,n=r),s!==r&&(s=Wt(s),s=s===s?s:0),n!==r&&(n=Wt(n),n=n===n?n:0),Vr(Wt(e),n,s)}function ky(e,n,s){return n=Dn(n),s===r?(s=n,n=0):s=Dn(s),e=Wt(e),W_(e,n,s)}function Ny(e,n,s){if(s&&typeof s!="boolean"&&ut(e,n,s)&&(n=s=r),s===r&&(typeof n=="boolean"?(s=n,n=r):typeof e=="boolean"&&(s=e,e=r)),e===r&&n===r?(e=0,n=1):(e=Dn(e),n===r?(n=e,e=0):n=Dn(n)),e>n){var u=e;e=n,n=u}if(s||e%1||n%1){var l=Af();return et(e+l*(n-e+pm("1e-"+((l+"").length-1))),n)}return ac(e,n)}var $y=us(function(e,n,s){return n=n.toLowerCase(),e+(s?ed(n):n)});function ed(e){return Lc(de(e).toLowerCase())}function td(e){return e=de(e),e&&e.replace(Ki,Em).replace(im,"")}function By(e,n,s){e=de(e),n=St(n);var u=e.length;s=s===r?u:Vr(te(s),0,u);var l=s;return s-=n.length,s>=0&&e.slice(s,l)==n}function Uy(e){return e=de(e),e&&zs.test(e)?e.replace(Ws,Im):e}function Dy(e){return e=de(e),e&&Ji.test(e)?e.replace(Hr,"\\$&"):e}var Wy=us(function(e,n,s){return e+(s?"-":"")+n.toLowerCase()}),zy=us(function(e,n,s){return e+(s?" ":"")+n.toLowerCase()}),Hy=ih("toLowerCase");function qy(e,n,s){e=de(e),n=te(n);var u=n?ns(e):0;if(!n||u>=n)return e;var l=(n-u)/2;return Ra(_a(l),s)+e+Ra(ma(l),s)}function Gy(e,n,s){e=de(e),n=te(n);var u=n?ns(e):0;return n&&u<n?e+Ra(n-u,s):e}function jy(e,n,s){e=de(e),n=te(n);var u=n?ns(e):0;return n&&u<n?Ra(n-u,s)+e:e}function Xy(e,n,s){return s||n==null?n=0:n&&(n=+n),e_(de(e).replace(nr,""),n||0)}function Jy(e,n,s){return(s?ut(e,n,s):n===r)?n=1:n=te(n),uc(de(e),n)}function Vy(){var e=arguments,n=de(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var Ky=us(function(e,n,s){return e+(s?"_":"")+n.toLowerCase()});function Zy(e,n,s){return s&&typeof s!="number"&&ut(e,n,s)&&(n=s=r),s=s===r?fe:s>>>0,s?(e=de(e),e&&(typeof n=="string"||n!=null&&!Oc(n))&&(n=St(n),!n&&ts(e))?pr(Kt(e),0,s):e.split(n,s)):[]}var Yy=us(function(e,n,s){return e+(s?" ":"")+Lc(n)});function Qy(e,n,s){return e=de(e),s=s==null?0:Vr(te(s),0,e.length),n=St(n),e.slice(s,s+n.length)==n}function e0(e,n,s){var u=f.templateSettings;s&&ut(e,n,s)&&(n=r),e=de(e),n=Wa({},n,u,fh);var l=Wa({},n.imports,u.imports,fh),h=Je(l),p=Gu(l,h),m,v,S=0,C=n.interpolate||rr,P="__p += '",L=Xu((n.escape||rr).source+"|"+C.source+"|"+(C===tr?Vo:rr).source+"|"+(n.evaluate||rr).source+"|$","g"),B="//# sourceURL="+(me.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cm+"]")+`
`;e.replace(L,function(j,se,ue,Pt,ct,Et){return ue||(ue=Pt),P+=e.slice(S,Et).replace(Zi,Rm),se&&(m=!0,P+=`' +
__e(`+se+`) +
'`),ct&&(v=!0,P+=`';
`+ct+`;
__p += '`),ue&&(P+=`' +
((__t = (`+ue+`)) == null ? '' : __t) +
'`),S=Et+j.length,j}),P+=`';
`;var G=me.call(n,"variable")&&n.variable;if(!G)P=`with (obj) {
`+P+`
}
`;else if(Jo.test(G))throw new Z(c);P=(v?P.replace(qi,""):P).replace(Us,"$1").replace(Ds,"$1;"),P="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var re=rd(function(){return he(h,B+"return "+P).apply(r,p)});if(re.source=P,Tc(re))throw re;return re}function t0(e){return de(e).toLowerCase()}function n0(e){return de(e).toUpperCase()}function r0(e,n,s){if(e=de(e),e&&(s||n===r))return hf(e);if(!e||!(n=St(n)))return e;var u=Kt(e),l=Kt(n),h=df(u,l),p=pf(u,l)+1;return pr(u,h,p).join("")}function i0(e,n,s){if(e=de(e),e&&(s||n===r))return e.slice(0,_f(e)+1);if(!e||!(n=St(n)))return e;var u=Kt(e),l=pf(u,Kt(n))+1;return pr(u,0,l).join("")}function s0(e,n,s){if(e=de(e),e&&(s||n===r))return e.replace(nr,"");if(!e||!(n=St(n)))return e;var u=Kt(e),l=df(u,Kt(n));return pr(u,l).join("")}function o0(e,n){var s=De,u=Ve;if(Se(n)){var l="separator"in n?n.separator:l;s="length"in n?te(n.length):s,u="omission"in n?St(n.omission):u}e=de(e);var h=e.length;if(ts(e)){var p=Kt(e);h=p.length}if(s>=h)return e;var m=s-ns(u);if(m<1)return u;var v=p?pr(p,0,m).join(""):e.slice(0,m);if(l===r)return v+u;if(p&&(m+=v.length-m),Oc(l)){if(e.slice(m).search(l)){var S,C=v;for(l.global||(l=Xu(l.source,de(Xs.exec(l))+"g")),l.lastIndex=0;S=l.exec(C);)var P=S.index;v=v.slice(0,P===r?m:P)}}else if(e.indexOf(St(l),m)!=m){var L=v.lastIndexOf(l);L>-1&&(v=v.slice(0,L))}return v+u}function a0(e){return e=de(e),e&&ji.test(e)?e.replace(Gi,Nm):e}var u0=us(function(e,n,s){return e+(s?" ":"")+n.toUpperCase()}),Lc=ih("toUpperCase");function nd(e,n,s){return e=de(e),n=s?r:n,n===r?Om(e)?Um(e):xm(e):e.match(n)||[]}var rd=ie(function(e,n){try{return xt(e,r,n)}catch(s){return Tc(s)?s:new Z(s)}}),c0=$n(function(e,n){return kt(n,function(s){s=gn(s),kn(e,s,Ic(e[s],e))}),e});function l0(e){var n=e==null?0:e.length,s=H();return e=n?Ae(e,function(u){if(typeof u[1]!="function")throw new Nt(a);return[s(u[0]),u[1]]}):[],ie(function(u){for(var l=-1;++l<n;){var h=e[l];if(xt(h[0],this,u))return xt(h[1],this,u)}})}function f0(e){return N_(Bt(e,x))}function kc(e){return function(){return e}}function h0(e,n){return e==null||e!==e?n:e}var d0=oh(),p0=oh(!0);function vt(e){return e}function Nc(e){return Nf(typeof e=="function"?e:Bt(e,x))}function m0(e){return Bf(Bt(e,x))}function _0(e,n){return Uf(e,Bt(n,x))}var g0=ie(function(e,n){return function(s){return so(s,e,n)}}),v0=ie(function(e,n){return function(s){return so(e,s,n)}});function $c(e,n,s){var u=Je(n),l=xa(n,u);s==null&&!(Se(n)&&(l.length||!u.length))&&(s=n,n=e,e=this,l=xa(n,Je(n)));var h=!(Se(s)&&"chain"in s)||!!s.chain,p=Un(e);return kt(l,function(m){var v=n[m];e[m]=v,p&&(e.prototype[m]=function(){var S=this.__chain__;if(h||S){var C=e(this.__wrapped__),P=C.__actions__=mt(this.__actions__);return P.push({func:v,args:arguments,thisArg:e}),C.__chain__=S,C}return v.apply(e,ar([this.value()],arguments))})}),e}function w0(){return Xe._===this&&(Xe._=Gm),this}function Bc(){}function y0(e){return e=te(e),ie(function(n){return Df(n,e)})}var b0=mc(Ae),x0=mc(af),A0=mc(Du);function id(e){return xc(e)?Wu(gn(e)):Q_(e)}function S0(e){return function(n){return e==null?r:Kr(e,n)}}var C0=uh(),P0=uh(!0);function Uc(){return[]}function Dc(){return!1}function E0(){return{}}function I0(){return""}function R0(){return!0}function T0(e,n){if(e=te(e),e<1||e>ln)return[];var s=fe,u=et(e,fe);n=H(n),e-=fe;for(var l=qu(u,n);++s<e;)n(s);return l}function O0(e){return Q(e)?Ae(e,gn):Ct(e)?[e]:mt(Sh(de(e)))}function M0(e){var n=++Hm;return de(e)+n}var F0=Ia(function(e,n){return e+n},0),L0=_c("ceil"),k0=Ia(function(e,n){return e/n},1),N0=_c("floor");function $0(e){return e&&e.length?ba(e,vt,tc):r}function B0(e,n){return e&&e.length?ba(e,H(n,2),tc):r}function U0(e){return lf(e,vt)}function D0(e,n){return lf(e,H(n,2))}function W0(e){return e&&e.length?ba(e,vt,sc):r}function z0(e,n){return e&&e.length?ba(e,H(n,2),sc):r}var H0=Ia(function(e,n){return e*n},1),q0=_c("round"),G0=Ia(function(e,n){return e-n},0);function j0(e){return e&&e.length?Hu(e,vt):0}function X0(e,n){return e&&e.length?Hu(e,H(n,2)):0}return f.after=mw,f.ary=kh,f.assign=ny,f.assignIn=Vh,f.assignInWith=Wa,f.assignWith=ry,f.at=iy,f.before=Nh,f.bind=Ic,f.bindAll=c0,f.bindKey=$h,f.castArray=Ew,f.chain=Mh,f.chunk=Ng,f.compact=$g,f.concat=Bg,f.cond=l0,f.conforms=f0,f.constant=kc,f.countBy=jv,f.create=sy,f.curry=Bh,f.curryRight=Uh,f.debounce=Dh,f.defaults=oy,f.defaultsDeep=ay,f.defer=_w,f.delay=gw,f.difference=Ug,f.differenceBy=Dg,f.differenceWith=Wg,f.drop=zg,f.dropRight=Hg,f.dropRightWhile=qg,f.dropWhile=Gg,f.fill=jg,f.filter=Jv,f.flatMap=Zv,f.flatMapDeep=Yv,f.flatMapDepth=Qv,f.flatten=Ih,f.flattenDeep=Xg,f.flattenDepth=Jg,f.flip=vw,f.flow=d0,f.flowRight=p0,f.fromPairs=Vg,f.functions=py,f.functionsIn=my,f.groupBy=ew,f.initial=Zg,f.intersection=Yg,f.intersectionBy=Qg,f.intersectionWith=ev,f.invert=gy,f.invertBy=vy,f.invokeMap=nw,f.iteratee=Nc,f.keyBy=rw,f.keys=Je,f.keysIn=gt,f.map=ka,f.mapKeys=yy,f.mapValues=by,f.matches=m0,f.matchesProperty=_0,f.memoize=$a,f.merge=xy,f.mergeWith=Kh,f.method=g0,f.methodOf=v0,f.mixin=$c,f.negate=Ba,f.nthArg=y0,f.omit=Ay,f.omitBy=Sy,f.once=ww,f.orderBy=iw,f.over=b0,f.overArgs=yw,f.overEvery=x0,f.overSome=A0,f.partial=Rc,f.partialRight=Wh,f.partition=sw,f.pick=Cy,f.pickBy=Zh,f.property=id,f.propertyOf=S0,f.pull=iv,f.pullAll=Th,f.pullAllBy=sv,f.pullAllWith=ov,f.pullAt=av,f.range=C0,f.rangeRight=P0,f.rearg=bw,f.reject=uw,f.remove=uv,f.rest=xw,f.reverse=Pc,f.sampleSize=lw,f.set=Ey,f.setWith=Iy,f.shuffle=fw,f.slice=cv,f.sortBy=pw,f.sortedUniq=_v,f.sortedUniqBy=gv,f.split=Zy,f.spread=Aw,f.tail=vv,f.take=wv,f.takeRight=yv,f.takeRightWhile=bv,f.takeWhile=xv,f.tap=$v,f.throttle=Sw,f.thru=La,f.toArray=jh,f.toPairs=Yh,f.toPairsIn=Qh,f.toPath=O0,f.toPlainObject=Jh,f.transform=Ry,f.unary=Cw,f.union=Av,f.unionBy=Sv,f.unionWith=Cv,f.uniq=Pv,f.uniqBy=Ev,f.uniqWith=Iv,f.unset=Ty,f.unzip=Ec,f.unzipWith=Oh,f.update=Oy,f.updateWith=My,f.values=fs,f.valuesIn=Fy,f.without=Rv,f.words=nd,f.wrap=Pw,f.xor=Tv,f.xorBy=Ov,f.xorWith=Mv,f.zip=Fv,f.zipObject=Lv,f.zipObjectDeep=kv,f.zipWith=Nv,f.entries=Yh,f.entriesIn=Qh,f.extend=Vh,f.extendWith=Wa,$c(f,f),f.add=F0,f.attempt=rd,f.camelCase=$y,f.capitalize=ed,f.ceil=L0,f.clamp=Ly,f.clone=Iw,f.cloneDeep=Tw,f.cloneDeepWith=Ow,f.cloneWith=Rw,f.conformsTo=Mw,f.deburr=td,f.defaultTo=h0,f.divide=k0,f.endsWith=By,f.eq=Yt,f.escape=Uy,f.escapeRegExp=Dy,f.every=Xv,f.find=Vv,f.findIndex=Ph,f.findKey=uy,f.findLast=Kv,f.findLastIndex=Eh,f.findLastKey=cy,f.floor=N0,f.forEach=Fh,f.forEachRight=Lh,f.forIn=ly,f.forInRight=fy,f.forOwn=hy,f.forOwnRight=dy,f.get=Mc,f.gt=Fw,f.gte=Lw,f.has=_y,f.hasIn=Fc,f.head=Rh,f.identity=vt,f.includes=tw,f.indexOf=Kg,f.inRange=ky,f.invoke=wy,f.isArguments=Qr,f.isArray=Q,f.isArrayBuffer=kw,f.isArrayLike=_t,f.isArrayLikeObject=ke,f.isBoolean=Nw,f.isBuffer=mr,f.isDate=$w,f.isElement=Bw,f.isEmpty=Uw,f.isEqual=Dw,f.isEqualWith=Ww,f.isError=Tc,f.isFinite=zw,f.isFunction=Un,f.isInteger=zh,f.isLength=Ua,f.isMap=Hh,f.isMatch=Hw,f.isMatchWith=qw,f.isNaN=Gw,f.isNative=jw,f.isNil=Jw,f.isNull=Xw,f.isNumber=qh,f.isObject=Se,f.isObjectLike=Ie,f.isPlainObject=fo,f.isRegExp=Oc,f.isSafeInteger=Vw,f.isSet=Gh,f.isString=Da,f.isSymbol=Ct,f.isTypedArray=ls,f.isUndefined=Kw,f.isWeakMap=Zw,f.isWeakSet=Yw,f.join=tv,f.kebabCase=Wy,f.last=Dt,f.lastIndexOf=nv,f.lowerCase=zy,f.lowerFirst=Hy,f.lt=Qw,f.lte=ey,f.max=$0,f.maxBy=B0,f.mean=U0,f.meanBy=D0,f.min=W0,f.minBy=z0,f.stubArray=Uc,f.stubFalse=Dc,f.stubObject=E0,f.stubString=I0,f.stubTrue=R0,f.multiply=H0,f.nth=rv,f.noConflict=w0,f.noop=Bc,f.now=Na,f.pad=qy,f.padEnd=Gy,f.padStart=jy,f.parseInt=Xy,f.random=Ny,f.reduce=ow,f.reduceRight=aw,f.repeat=Jy,f.replace=Vy,f.result=Py,f.round=q0,f.runInContext=g,f.sample=cw,f.size=hw,f.snakeCase=Ky,f.some=dw,f.sortedIndex=lv,f.sortedIndexBy=fv,f.sortedIndexOf=hv,f.sortedLastIndex=dv,f.sortedLastIndexBy=pv,f.sortedLastIndexOf=mv,f.startCase=Yy,f.startsWith=Qy,f.subtract=G0,f.sum=j0,f.sumBy=X0,f.template=e0,f.times=T0,f.toFinite=Dn,f.toInteger=te,f.toLength=Xh,f.toLower=t0,f.toNumber=Wt,f.toSafeInteger=ty,f.toString=de,f.toUpper=n0,f.trim=r0,f.trimEnd=i0,f.trimStart=s0,f.truncate=o0,f.unescape=a0,f.uniqueId=M0,f.upperCase=u0,f.upperFirst=Lc,f.each=Fh,f.eachRight=Lh,f.first=Rh,$c(f,function(){var e={};return mn(f,function(n,s){me.call(f.prototype,s)||(e[s]=n)}),e}(),{chain:!1}),f.VERSION=t,kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),kt(["drop","take"],function(e,n){ae.prototype[e]=function(s){s=s===r?1:ze(te(s),0);var u=this.__filtered__&&!n?new ae(this):this.clone();return u.__filtered__?u.__takeCount__=et(s,u.__takeCount__):u.__views__.push({size:et(s,fe),type:e+(u.__dir__<0?"Right":"")}),u},ae.prototype[e+"Right"]=function(s){return this.reverse()[e](s).reverse()}}),kt(["filter","map","takeWhile"],function(e,n){var s=n+1,u=s==ki||s==$i;ae.prototype[e]=function(l){var h=this.clone();return h.__iteratees__.push({iteratee:H(l,3),type:s}),h.__filtered__=h.__filtered__||u,h}}),kt(["head","last"],function(e,n){var s="take"+(n?"Right":"");ae.prototype[e]=function(){return this[s](1).value()[0]}}),kt(["initial","tail"],function(e,n){var s="drop"+(n?"":"Right");ae.prototype[e]=function(){return this.__filtered__?new ae(this):this[s](1)}}),ae.prototype.compact=function(){return this.filter(vt)},ae.prototype.find=function(e){return this.filter(e).head()},ae.prototype.findLast=function(e){return this.reverse().find(e)},ae.prototype.invokeMap=ie(function(e,n){return typeof e=="function"?new ae(this):this.map(function(s){return so(s,e,n)})}),ae.prototype.reject=function(e){return this.filter(Ba(H(e)))},ae.prototype.slice=function(e,n){e=te(e);var s=this;return s.__filtered__&&(e>0||n<0)?new ae(s):(e<0?s=s.takeRight(-e):e&&(s=s.drop(e)),n!==r&&(n=te(n),s=n<0?s.dropRight(-n):s.take(n-e)),s)},ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ae.prototype.toArray=function(){return this.take(fe)},mn(ae.prototype,function(e,n){var s=/^(?:filter|find|map|reject)|While$/.test(n),u=/^(?:head|last)$/.test(n),l=f[u?"take"+(n=="last"?"Right":""):n],h=u||/^find/.test(n);l&&(f.prototype[n]=function(){var p=this.__wrapped__,m=u?[1]:arguments,v=p instanceof ae,S=m[0],C=v||Q(p),P=function(se){var ue=l.apply(f,ar([se],m));return u&&L?ue[0]:ue};C&&s&&typeof S=="function"&&S.length!=1&&(v=C=!1);var L=this.__chain__,B=!!this.__actions__.length,G=h&&!L,re=v&&!B;if(!h&&C){p=re?p:new ae(this);var j=e.apply(p,m);return j.__actions__.push({func:La,args:[P],thisArg:r}),new $t(j,L)}return G&&re?e.apply(this,m):(j=this.thru(P),G?u?j.value()[0]:j.value():j)})}),kt(["pop","push","shift","sort","splice","unshift"],function(e){var n=oa[e],s=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",u=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var l=arguments;if(u&&!this.__chain__){var h=this.value();return n.apply(Q(h)?h:[],l)}return this[s](function(p){return n.apply(Q(p)?p:[],l)})}}),mn(ae.prototype,function(e,n){var s=f[n];if(s){var u=s.name+"";me.call(ss,u)||(ss[u]=[]),ss[u].push({name:n,func:s})}}),ss[Ea(r,q).name]=[{name:"wrapper",func:r}],ae.prototype.clone=a_,ae.prototype.reverse=u_,ae.prototype.value=c_,f.prototype.at=Bv,f.prototype.chain=Uv,f.prototype.commit=Dv,f.prototype.next=Wv,f.prototype.plant=Hv,f.prototype.reverse=qv,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=Gv,f.prototype.first=f.prototype.head,Ys&&(f.prototype[Ys]=zv),f},cr=Dm();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Xe._=cr,define(function(){return cr})):Gr?((Gr.exports=cr)._=cr,Nu._=cr):Xe._=cr}).call(Bs)});(function(r){typeof define=="function"&&define.amd?define(r):r()})(function(){"use strict";let r="5.3.2",i="data-iframe-size",o="data-overflowed",a="bottom",c="right",d="resizeParent",_=(K,fe,Oe,qt)=>K.addEventListener(fe,Oe,qt||!1),b=["<iy><yi>Puchspk Spjluzl Rlf</><iy><iy>","<iy><yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>."];Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5"].map((K,fe)=>[K,Math.max(0,fe-1)]));let x=K=>(fe=>fe.replaceAll(/[A-Za-z]/g,Oe=>String.fromCodePoint((Oe<="Z"?90:122)>=(Oe=Oe.codePointAt(0)+19)?Oe:Oe-26)))(b[K]),F=K=>K,w=1e5,R=K=>Math.round(K*w)/w,O="",M=!1,q=K=>{O=K.id,M=K.logging},N=K=>`${K}`!=""&&K!==void 0,k=(...K)=>[`[iframe-resizer][${O||"child"}]`,...K].join(" "),U=(...K)=>M&&console?.info(`%c[iframe-resizer][${O}]%c`,"font-weight: bold;","font-weight: normal;",...K),ne=(...K)=>console?.warn(k(...K)),V=(...K)=>console?.warn((fe=>Oe=>window.chrome?fe(Oe.replaceAll("<br>",`
`).replaceAll("<rb>","\x1B[31;1m").replaceAll("</>","\x1B[m").replaceAll("<b>","\x1B[1m").replaceAll("<i>","\x1B[3m").replaceAll("<u>","\x1B[4m")):fe(Oe.replaceAll("<br>",`
`).replaceAll(/<[/a-z]+>/gi,"")))(k)(...K)),J=K=>V(K),pe=K=>{let fe=K.side||a,Oe=K.onChange||F,qt={root:K.root,rootMargin:"0px",threshold:1};function En(){let it=document.querySelectorAll(`[${o}]`);Oe(it)}let Ot=new IntersectionObserver(function(it){for(let Ke of it){let{boundingClientRect:fn,rootBounds:Bi,target:wt}=Ke,ht=fn[fe],$r=ht===0||ht>Bi[fe];wt.toggleAttribute(o,$r)}requestAnimationFrame(En)},qt),ft=new WeakSet;return function(it){for(let Ke of it)Ke.nodeType!==Node.ELEMENT_NODE||ft.has(Ke)||(Ot.observe(Ke),ft.add(Ke))}},_e="--ifr-start",De="--ifr-end",Ve="--ifr-measure",Ee=[],Cn=new WeakSet,ki=K=>typeof K=="object"&&Cn.add(K),Ni=null,$i={},Pn=setInterval(()=>{if(Ee.length<10||$i.hasTags&&$i.len<25)return;Ee.sort();let K=Math.min(Ee.reduce((fe,Oe)=>fe+Oe,0)/Ee.length,Ee[Math.floor(Ee.length/2)]);K<=4||(clearInterval(Pn),V(`<rb>Performance Warning</>

Calculating the page size is taking an excessive amount of time (${R(K)}ms).

To improve performance add the <b>data-iframe-size</> attribute to the ${$i.Side.toLowerCase()} most element on the page. For more details see: <u>https://iframe-resizer.com/perf</>.`))},5e3);function ln(K){K.getEntries().forEach(fe=>{if(fe.name===De){let{duration:Oe}=performance.measure(Ve,_e,De);(function(qt,En){let{Side:Ot,len:ft,hasTags:it,logging:Ke}=qt;$i=qt,Cn.has(Ni)||it&&ft<=1||(Ke||ki(Ni),U(`
  ${Ot} position calculated from:`,Ni,`
  Parsed ${ft} ${it?"tagged":"potentially overflowing"} elements in ${R(En)}ms`))})(fe.detail,Oe),Ee.push(Oe),Ee.length>100&&Ee.shift()}})}function Go(){new PerformanceObserver(ln).observe({entryTypes:["mark"]}),ki(document.documentElement),ki(document.body)}typeof document<"u"&&typeof PerformanceObserver<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Go):Go()),typeof window<"u"&&function(){let K={contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0},fe={height:()=>(ne("Custom height calculation function not defined"),Ft.auto()),width:()=>(ne("Custom width calculation function not defined"),jt.auto())},Oe={bodyOffset:1,bodyScroll:1,offset:1,documentElementOffset:1,documentElementScroll:1,boundingClientRect:1,max:1,min:1,grow:1,lowestElement:1},qt=128,En={},Ot="checkVisibility"in window,ft="auto",it="[iFrameSizer]",Ke=it.length,fn={max:1,min:1,bodyScroll:1,documentElementScroll:1},Bi="scroll",wt,ht,$r,Qe,Qn,Gt=!0,Mt="",Ui=0,Di="",er="",Me=!0,dt=!1,Br=!0,Ur=!1,yt=!1,Dr=1,Fe=ft,In=!0,Wi="",Rn={},Tn=!1,bt=0,Wr=!1,On="",zi=F,zr=[],Hi="child",qi=null,Us=!1,Ds="",Gi=[],Ws=window.parent,ji="*",zs=0,Xi=!1,hn="",tr=1,pt=Bi,Hs=window,qs=()=>{ne("onMessage function not defined")},Hr=()=>{},Ji=null,nr=null;function Mu(){var T,z,ce;(function(){let E=ee=>ee==="true",I=Wi.slice(Ke).split(":");On=I[0],Ui=I[1]===void 0?Ui:Number(I[1]),dt=I[2]===void 0?dt:E(I[2]),Tn=I[3]===void 0?Tn:E(I[3]),Gt=I[6]===void 0?Gt:E(I[6]),Di=I[7],Fe=I[8]===void 0?Fe:I[8],Mt=I[9],er=I[10],zs=I[11]===void 0?zs:Number(I[11]),Rn.enable=I[12]!==void 0&&E(I[12]),Hi=I[13]===void 0?Hi:I[13],pt=I[14]===void 0?pt:I[14],Wr=I[15]===void 0?Wr:E(I[15]),wt=I[16]===void 0?wt:Number(I[16]),ht=I[17]===void 0?ht:Number(I[17]),Me=I[18]===void 0?Me:E(I[18]),I[19],hn=I[20]||hn,bt=I[21]===void 0?bt:Number(I[21])})(),q({id:On,logging:Tn}),function(){function E(X){qs=X?.onMessage||qs,Hr=X?.onReady||Hr,typeof X?.offset=="number"&&(V(`<rb>Deprecated option</>

 The <b>offset</> option has been renamed to <b>offsetSize</>. Use of the old name will be removed in a future version of <i>iframe-resizer</>.`),Me&&(wt=X?.offset),dt&&(ht=X?.offset)),typeof X?.offsetSize=="number"&&(Me&&(wt=X?.offsetSize),dt&&(ht=X?.offsetSize)),Object.prototype.hasOwnProperty.call(X,"sizeSelector")&&(Ds=X.sizeSelector),ji=X?.targetOrigin||ji,Fe=X?.heightCalculationMethod||Fe,pt=X?.widthCalculationMethod||pt}function I(X,xe){return typeof X=="function"&&(fe[xe]=X,X="custom"),X}if(bt===1)return;let ee=window.iframeResizer||window.iFrameResizer;typeof ee=="object"&&(E(ee),Fe=I(Fe,"height"),pt=I(pt,"width"))}(),function(){try{Us="iframeParentListener"in window.parent}catch{}}(),bt<0?J(`${x(bt+2)}${x(2)}`):hn.codePointAt(0)>4||bt<2&&J(x(3)),hn&&hn!==""&&hn!=="false"?hn!==r&&V(`<b>Version mismatch</>

The parent and child pages are running different versions of <i>iframe resizer</>.

Parent page: ${hn} - Child page: ${r}.
`):V(`<rb>Legacy version detected on parent page</>

Detected legacy version of parent page script. It is recommended to update the parent page to use <b>@iframe-resizer/parent</>.

See <u>https://iframe-resizer.com/setup/</> for more details.
`),Xs(),Ko(),function(){let E=!1,I=ee=>document.querySelectorAll(`[${ee}]`).forEach(X=>{E=!0,X.removeAttribute(ee),X.toggleAttribute(i,!0)});I("data-iframe-height"),I("data-iframe-width"),E&&V(`<rb>Deprecated Attributes</>
          
The <b>data-iframe-height</> and <b>data-iframe-width</> attributes have been deprecated and replaced with the single <b>data-iframe-size</> attribute. Use of the old attributes will be removed in a future version of <i>iframe-resizer</>.`)}(),jo(),Me!==dt&&(zi=pe({onChange:Fu,root:document.documentElement,side:Me?a:c})),bt!==1&&(Hs.parentIframe=Object.freeze({autoResize:E=>(E===!0&&Gt===!1?(Gt=!0,pn("autoResizeEnabled","Auto Resize enabled")):E===!1&&Gt===!0&&(Gt=!1),$e(0,0,"autoResize",JSON.stringify(Gt)),Gt),close(){$e(0,0,"close")},getId:()=>On,getOrigin:()=>$r,getPageInfo(E){if(typeof E=="function")return Ji=E,$e(0,0,"pageInfo"),void V(`<rb>Deprecated Method</>
          
The <b>getPageInfo()</> method has been deprecated and replaced with  <b>getParentProps()</>. Use of this method will be removed in a future version of <i>iframe-resizer</>.
`);Ji=null,$e(0,0,"pageInfoStop")},getParentProps(E){if(typeof E!="function")throw new TypeError("parentIframe.getParentProps(callback) callback not a function");return nr=E,$e(0,0,"parentInfo"),()=>{nr=null,$e(0,0,"parentInfoStop")}},getParentProperties(E){V(`<rb>Renamed Method</>
          
The <b>getParentProperties()</> method has been renamed <b>getParentProps()</>. Use of the old name will be removed in a future version of <i>iframe-resizer</>.
`),this.getParentProps(E)},moveToAnchor(E){Rn.findTarget(E)},reset(){ta()},scrollBy(E,I){$e(I,E,"scrollBy")},scrollTo(E,I){$e(I,E,"scrollTo")},scrollToOffset(E,I){$e(I,E,"scrollToOffset")},sendMessage(E,I){$e(0,0,"message",JSON.stringify(E),I)},setHeightCalculationMethod(E){Fe=E,Xs()},setWidthCalculationMethod(E){pt=E,Ko()},setTargetOrigin(E){ji=E},resize(E,I){pn(d,`parentIframe.resize(${E||""}${I?`,${I}`:""})`,E,I)},size(E,I){V(`<rb>Deprecated Method</>
          
The <b>size()</> method has been deprecated and replaced with  <b>resize()</>. Use of this method will be removed in a future version of <i>iframe-resizer</>.
`),this.resize(E,I)}}),Hs.parentIFrame=Hs.parentIframe),function(){function E(ee){$e(0,0,ee.type,`${ee.screenY}:${ee.screenX}`)}function I(ee,X){_(window.document,ee,E)}Wr===!0&&(I("mouseenter"),I("mouseleave"))}(),Rn=function(){let E=()=>({x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop});function I(Le){let st=Le.getBoundingClientRect(),Xt=E();return{x:parseInt(st.left,10)+parseInt(Xt.x,10),y:parseInt(st.top,10)+parseInt(Xt.y,10)}}function ee(Le){function st(Vt){let sr=I(Vt);$e(sr.y,sr.x,"scrollToOffset")}let Xt=Le.split("#")[1]||Le,Jt=decodeURIComponent(Xt),ot=document.getElementById(Jt)||document.getElementsByName(Jt)[0];ot===void 0?$e(0,0,"inPageLink",`#${Xt}`):st(ot)}function X(){let{hash:Le,href:st}=window.location;Le!==""&&Le!=="#"&&ee(st)}function xe(){for(let Le of document.querySelectorAll('a[href^="#"]'))Le.getAttribute("href")!=="#"&&_(Le,"click",st=>{st.preventDefault(),ee(Le.getAttribute("href"))})}function je(){_(window,"hashchange",X)}function Mn(){setTimeout(X,qt)}function ir(){xe(),je(),Mn()}return Rn.enable&&(bt===1?V("In page linking requires a Professional or Business license. Please see https://iframe-resizer.com/pricing for more details."):ir()),{findTarget:ee}}(),Xo(rr(document)()),Di===void 0&&(Di=`${Ui}px`),Gs("margin",(z="margin",(ce=Di).includes("-")&&(ne(`Negative CSS value ignored for ${z}`),ce=""),ce)),Gs("background",Mt),Gs("padding",er),function(){let E=document.createElement("div");E.style.clear="both",E.style.display="block",E.style.height="0",document.body.append(E)}(),function(){let E=I=>I.style.setProperty("height","auto","important");E(document.documentElement),E(document.body)}(),Jo(),pn("init","Init message from host page",void 0,void 0,r),document.title&&document.title!==""&&$e(0,0,"title",document.title),js({method:T="add",eventType:"After Print",eventName:"afterprint"}),js({method:T,eventType:"Before Print",eventName:"beforeprint"}),js({method:T,eventType:"Ready State Change",eventName:"readystatechange"}),function(){let E=new Set,I=!1,ee=0,X=[],xe=ot=>{for(let Vt of ot){let{addedNodes:sr,removedNodes:na}=Vt;for(let Qi of sr)E.add(Qi);for(let Qi of na)E.delete(Qi)}},je=16,Mn=2,ir=200,Le=1;function st(){let ot=performance.now(),Vt=ot-ee;if(Vt>je*Le+++Mn&&Vt<ir)return setTimeout(st,je*Le),void(ee=ot);Le=1,X.forEach(xe),X=[],E.size!==0&&(Jo(),jo(),Xo(E),E.forEach(Zo),E.clear()),I=!1}function Xt(ot){X.push(ot),I||(ee=performance.now(),I=!0,requestAnimationFrame(st))}function Jt(){let ot=new window.MutationObserver(Xt),Vt=document.querySelector("body"),sr={attributes:!1,attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0};return ot.observe(Vt,sr),ot}Jt()}(),qi=new ResizeObserver(Lu),qi.observe(document.body),qr.add(document.body),Zo(document.body),setTimeout(Hr)}function Fu(T){zr=T,Ur=zr.length>0,pn("overflowChanged","Overflow updated")}function jo(){Gi=document.querySelectorAll(`[${i}]`),yt=Gi.length>0}function Xo(T){yt||zi(T)}function Gs(T,z){z!==void 0&&z!==""&&z!=="null"&&document.body.style.setProperty(T,z)}function Jo(){if(Ds!=="")for(let T of document.querySelectorAll(Ds))T.dataset.iframeSize=!0}function js(T){({add(z){function ce(){pn(T.eventName,T.eventType)}En[z]=ce,_(window,z,ce,{passive:!0})},remove(z){let ce=En[z];var E,I;delete En[z],E=z,I=ce,window.removeEventListener(E,I,!1)}})[T.method](T.eventName)}function Vo(T,z,ce,E){return z!==T&&(T in ce||(ne(`${T} is not a valid option for ${E}CalculationMethod.`),T=z),T in Oe&&V(`<rb>Deprecated ${E}CalculationMethod (${T})</>

This version of <i>iframe-resizer</> can auto detect the most suitable ${E} calculation method. It is recommended that you remove this option.`)),T}function Xs(){Fe=Vo(Fe,ft,Ft,"height")}function Ko(){pt=Vo(pt,Bi,jt,"width")}function Lu(T){Array.isArray(T)&&T.length!==0&&pn("resizeObserver",`Resize Observed: ${function(z){switch(!0){case!N(z):return"";case N(z.id):return`${z.nodeName.toUpperCase()}#${z.id}`;case N(z.name):return`${z.nodeName.toUpperCase()} (${z.name})`;default:return z.nodeName.toUpperCase()+(N(z.className)?`.${z.className}`:"")}}(T[0].target)}`)}let qr=new WeakSet;function Zo(T){if(T.nodeType!==Node.ELEMENT_NODE)return;if(!qr.has(T)){let ce=getComputedStyle(T)?.position;ce!==""&&ce!=="static"&&(qi.observe(T),qr.add(T))}let z=rr(T)();for(let ce of z){if(qr.has(ce)||ce?.nodeType!==Node.ELEMENT_NODE)continue;let E=getComputedStyle(ce)?.position;E!==""&&E!=="static"&&(qi.observe(ce),qr.add(ce))}}function Vi(T){performance.mark(_e);let z=(ce=T).charAt(0).toUpperCase()+ce.slice(1);var ce;let E=0,I=document.documentElement,ee=yt?0:document.documentElement.getBoundingClientRect().bottom;performance.mark(_e);let X=yt?Gi:Ur?zr:rr(document)(),xe=X.length;for(let je of X)yt||!Ot||je.checkVisibility(K)?(E=je.getBoundingClientRect()[T]+parseFloat(getComputedStyle(je).getPropertyValue(`margin-${T}`)),E>ee&&(ee=E,I=je)):xe-=1;return Ni=I,performance.mark(De,{detail:{Side:z,len:xe,hasTags:yt,logging:Tn}}),ee}let Ki=T=>[T.bodyOffset(),T.bodyScroll(),T.documentElementOffset(),T.documentElementScroll(),T.boundingClientRect()],rr=T=>()=>T.querySelectorAll("* :not(head):not(meta):not(base):not(title):not(script):not(link):not(style):not(map):not(area):not(option):not(optgroup):not(template):not(track):not(wbr):not(nobr)"),Zi={height:0,width:0},dn={height:0,width:0};function Yo(T){function z(){return dn[E]=I,Zi[E]=xe,I}let ce=T===Ft,E=ce?"height":"width",I=T.boundingClientRect(),ee=Math.ceil(I),X=Math.floor(I),xe=(je=>je.documentElementScroll()+Math.max(0,je.getOffset()))(T);switch(!0){case!T.enabled():return xe;case yt:return T.taggedElement();case(!Ur&&dn[E]===0&&Zi[E]===0):return z();case(Xi&&I===dn[E]&&xe===Zi[E]):return Math.max(I,xe);case I===0:return xe;case(!Ur&&I!==dn[E]&&xe<=Zi[E]):return z();case!ce:return T.taggedElement();case(!Ur&&I<dn[E]):case(xe===X||xe===ee):case I>xe:return z()}return Math.max(T.taggedElement(),z())}let Ft={enabled:()=>Me,getOffset:()=>wt,auto:()=>Yo(Ft),bodyOffset:()=>{let{body:T}=document,z=getComputedStyle(T);return T.offsetHeight+parseInt(z.marginTop,10)+parseInt(z.marginBottom,10)},bodyScroll:()=>document.body.scrollHeight,offset:()=>Ft.bodyOffset(),custom:()=>fe.height(),documentElementOffset:()=>document.documentElement.offsetHeight,documentElementScroll:()=>document.documentElement.scrollHeight,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().bottom,document.body.getBoundingClientRect().bottom),max:()=>Math.max(...Ki(Ft)),min:()=>Math.min(...Ki(Ft)),grow:()=>Ft.max(),lowestElement:()=>Vi(a),taggedElement:()=>Vi(a)},jt={enabled:()=>dt,getOffset:()=>ht,auto:()=>Yo(jt),bodyScroll:()=>document.body.scrollWidth,bodyOffset:()=>document.body.offsetWidth,custom:()=>fe.width(),documentElementScroll:()=>document.documentElement.scrollWidth,documentElementOffset:()=>document.documentElement.offsetWidth,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().right,document.body.getBoundingClientRect().right),max:()=>Math.max(...Ki(jt)),min:()=>Math.min(...Ki(jt)),rightMostElement:()=>Vi(c),scroll:()=>Math.max(jt.bodyScroll(),jt.documentElementScroll()),taggedElement:()=>Vi(c)},Js=(T,z)=>!(Math.abs(T-z)<=zs),Yi=!1;function pn(T,z,ce,E,I){Qn=performance.now(),(Gt||T===d)&&(document.hidden||(Yi||(Qe=!0,function(ee,X,xe,je,Mn){let ir=xe===void 0?Ft[Fe]():xe,Le=je===void 0?jt[pt]():je;Me&&Js(Dr,ir)||dt&&Js(tr,Le)||ee==="init"?(Qo(),Dr=ir,tr=Le,$e(Dr,tr,ee,Mn)):!ee!==d&&(Me&&Fe in fn||dt&&pt in fn)?ta():Qe=!1}(T,0,ce,E,I),requestAnimationFrame(()=>{Yi=!1})),Yi=!0))}function Qo(){Xi||(Xi=!0,requestAnimationFrame(()=>{Xi=!1}))}function ea(T){Dr=Ft[Fe](),tr=jt[pt](),$e(Dr,tr,T)}function ta(T){let z=Fe;Fe=ft,Qo(),ea("reset"),Fe=z}function $e(T,z,ce,E,I){bt<-1||(I!==void 0||(I=ji),function(){let ee=`${On}:${T+(wt||0)}:${z+(ht||0)}:${ce}${E===void 0?"":`:${E}`}`;Tn&&(console.group(`[iframe-resizer][${On}]`),console.info("Sending message to host page via "+(Us?"sameDomain":"postMessage")),console.info(`%c${ee}`,"font-style: italic"),Qe&&console.info(function(){let X=R(performance.now()-Qn);return ce==="init"?`Initialised iFrame in %c${X}ms`:`Content size recalculated in %c${X}ms`}(),"font-weight:bold;color:#777"),console.groupEnd()),Qe=!1,Us?window.parent.iframeParentListener(it+ee):Ws.postMessage(it+ee,I)}())}function Vs(T){let z={init:function(){Wi=T.data,Ws=T.source,$r=T.origin,Mu(),Br=!1,setTimeout(()=>{In=!1},qt)},reset(){In||ea("resetPage")},resize(){pn(d)},moveToAnchor(){Rn.findTarget(E())},inPageLink(){this.moveToAnchor()},pageInfo(){let X=E();Ji?setTimeout(()=>Ji(JSON.parse(X))):$e(0,0,"pageInfoStop")},parentInfo(){let X=E();nr?setTimeout(nr(Object.freeze(JSON.parse(X)))):$e(0,0,"parentInfoStop")},message(){let X=E();qs(JSON.parse(X))}},ce=()=>T.data.split("]")[1].split(":")[0],E=()=>T.data.slice(T.data.indexOf(":")+1),I=()=>"iframeResize"in window||window.jQuery!==void 0&&""in window.jQuery.prototype,ee=()=>T.data.split(":")[2]in{true:1,false:1};it===`${T.data}`.slice(0,Ke)&&(Br!==!1?ee()&&z.init():function(){let X=ce();X in z?z[X]():I()||ee()||ne(`Unexpected message (${T.data})`)}())}function Ks(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}"iframeChildListener"in window?ne("Already setup"):(window.iframeChildListener=T=>setTimeout(()=>Vs({data:T,sameDomain:!0})),_(window,"message",Vs),_(window,"readystatechange",Ks),Ks())}()});var mo,le,ld,jc,ei,ad,fd,zc,Xc,Hc,qc,hd,po={},dd=[],nb=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Jc=Array.isArray;function zn(r,t){for(var i in t)r[i]=t[i];return r}function pd(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function zt(r,t,i){var o,a,c,d={};for(c in t)c=="key"?o=t[c]:c=="ref"?a=t[c]:d[c]=t[c];if(arguments.length>2&&(d.children=arguments.length>3?mo.call(arguments,2):i),typeof r=="function"&&r.defaultProps!=null)for(c in r.defaultProps)d[c]===void 0&&(d[c]=r.defaultProps[c]);return ho(r,d,o,a,null)}function ho(r,t,i,o,a){var c={type:r,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++ld,__i:-1,__u:0};return a==null&&le.vnode!=null&&le.vnode(c),c}function _o(r){return r.children}function hs(r,t){this.props=r,this.context=t}function ds(r,t){if(t==null)return r.__?ds(r.__,r.__i+1):null;for(var i;t<r.__k.length;t++)if((i=r.__k[t])!=null&&i.__e!=null)return i.__e;return typeof r.type=="function"?ds(r):null}function md(r){var t,i;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((i=r.__k[t])!=null&&i.__e!=null){r.__e=r.__c.base=i.__e;break}return md(r)}}function Gc(r){(!r.__d&&(r.__d=!0)&&ei.push(r)&&!Ha.__r++||ad!==le.debounceRendering)&&((ad=le.debounceRendering)||fd)(Ha)}function Ha(){var r,t,i,o,a,c,d,_;for(ei.sort(zc);r=ei.shift();)r.__d&&(t=ei.length,o=void 0,c=(a=(i=r).__v).__e,d=[],_=[],i.__P&&((o=zn({},a)).__v=a.__v+1,le.vnode&&le.vnode(o),Vc(i.__P,o,a,i.__n,i.__P.namespaceURI,32&a.__u?[c]:null,d,c??ds(a),!!(32&a.__u),_),o.__v=a.__v,o.__.__k[o.__i]=o,vd(d,o,_),o.__e!=c&&md(o)),ei.length>t&&ei.sort(zc));Ha.__r=0}function _d(r,t,i,o,a,c,d,_,b,x,F){var w,R,O,M,q,N=o&&o.__k||dd,k=t.length;for(i.__d=b,rb(i,t,N),b=i.__d,w=0;w<k;w++)(O=i.__k[w])!=null&&(R=O.__i===-1?po:N[O.__i]||po,O.__i=w,Vc(r,O,R,a,c,d,_,b,x,F),M=O.__e,O.ref&&R.ref!=O.ref&&(R.ref&&Kc(R.ref,null,O),F.push(O.ref,O.__c||M,O)),q==null&&M!=null&&(q=M),65536&O.__u||R.__k===O.__k?b=gd(O,b,r):typeof O.type=="function"&&O.__d!==void 0?b=O.__d:M&&(b=M.nextSibling),O.__d=void 0,O.__u&=-196609);i.__d=b,i.__e=q}function rb(r,t,i){var o,a,c,d,_,b=t.length,x=i.length,F=x,w=0;for(r.__k=[],o=0;o<b;o++)(a=t[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(d=o+w,(a=r.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?ho(null,a,null,null,null):Jc(a)?ho(_o,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?ho(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=r,a.__b=r.__b+1,c=null,(_=a.__i=ib(a,i,d,F))!==-1&&(F--,(c=i[_])&&(c.__u|=131072)),c==null||c.__v===null?(_==-1&&w--,typeof a.type!="function"&&(a.__u|=65536)):_!==d&&(_==d-1?w--:_==d+1?w++:(_>d?w--:w++,a.__u|=65536))):a=r.__k[o]=null;if(F)for(o=0;o<x;o++)(c=i[o])!=null&&!(131072&c.__u)&&(c.__e==r.__d&&(r.__d=ds(c)),wd(c,c))}function gd(r,t,i){var o,a;if(typeof r.type=="function"){for(o=r.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=r,t=gd(o[a],t,i));return t}r.__e!=t&&(t&&r.type&&!i.contains(t)&&(t=ds(r)),i.insertBefore(r.__e,t||null),t=r.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function ib(r,t,i,o){var a=r.key,c=r.type,d=i-1,_=i+1,b=t[i];if(b===null||b&&a==b.key&&c===b.type&&!(131072&b.__u))return i;if((typeof c!="function"||c===_o||a)&&o>(b!=null&&!(131072&b.__u)?1:0))for(;d>=0||_<t.length;){if(d>=0){if((b=t[d])&&!(131072&b.__u)&&a==b.key&&c===b.type)return d;d--}if(_<t.length){if((b=t[_])&&!(131072&b.__u)&&a==b.key&&c===b.type)return _;_++}}return-1}function ud(r,t,i){t[0]==="-"?r.setProperty(t,i??""):r[t]=i==null?"":typeof i!="number"||nb.test(t)?i:i+"px"}function za(r,t,i,o,a){var c;e:if(t==="style")if(typeof i=="string")r.style.cssText=i;else{if(typeof o=="string"&&(r.style.cssText=o=""),o)for(t in o)i&&t in i||ud(r.style,t,"");if(i)for(t in i)o&&i[t]===o[t]||ud(r.style,t,i[t])}else if(t[0]==="o"&&t[1]==="n")c=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in r||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),r.l||(r.l={}),r.l[t+c]=i,i?o?i.u=o.u:(i.u=Xc,r.addEventListener(t,c?qc:Hc,c)):r.removeEventListener(t,c?qc:Hc,c);else{if(a=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in r)try{r[t]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&t[4]!=="-"?r.removeAttribute(t):r.setAttribute(t,t=="popover"&&i==1?"":i))}}function cd(r){return function(t){if(this.l){var i=this.l[t.type+r];if(t.t==null)t.t=Xc++;else if(t.t<i.u)return;return le.event&&(t=le.event(t)),"handleEvent"in i?i.handleEvent(t):i(t)}}}function Vc(r,t,i,o,a,c,d,_,b,x){var F,w,R,O,M,q,N,k,U,ne,V,J,pe,_e,De,Ve,Ee=t.type;if(t.constructor!==void 0)return null;128&i.__u&&(b=!!(32&i.__u),c=[_=t.__e=i.__e]),(F=le.__b)&&F(t);e:if(typeof Ee=="function")try{if(k=t.props,U="prototype"in Ee&&Ee.prototype.render,ne=(F=Ee.contextType)&&o[F.__c],V=F?ne?ne.props.value:F.__:o,i.__c?N=(w=t.__c=i.__c).__=w.__E:(U?t.__c=w=new Ee(k,V):(t.__c=w=new hs(k,V),w.constructor=Ee,w.render=ob),ne&&ne.sub(w),w.props=k,w.state||(w.state={}),w.context=V,w.__n=o,R=w.__d=!0,w.__h=[],w._sb=[]),U&&w.__s==null&&(w.__s=w.state),U&&Ee.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=zn({},w.__s)),zn(w.__s,Ee.getDerivedStateFromProps(k,w.__s))),O=w.props,M=w.state,w.__v=t,R)U&&Ee.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),U&&w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(U&&Ee.getDerivedStateFromProps==null&&k!==O&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(k,V),!w.__e&&(w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(k,w.__s,V)===!1||t.__v===i.__v)){for(t.__v!==i.__v&&(w.props=k,w.state=w.__s,w.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.some(function(Cn){Cn&&(Cn.__=t)}),J=0;J<w._sb.length;J++)w.__h.push(w._sb[J]);w._sb=[],w.__h.length&&d.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(k,w.__s,V),U&&w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(O,M,q)})}if(w.context=V,w.props=k,w.__P=r,w.__e=!1,pe=le.__r,_e=0,U){for(w.state=w.__s,w.__d=!1,pe&&pe(t),F=w.render(w.props,w.state,w.context),De=0;De<w._sb.length;De++)w.__h.push(w._sb[De]);w._sb=[]}else do w.__d=!1,pe&&pe(t),F=w.render(w.props,w.state,w.context),w.state=w.__s;while(w.__d&&++_e<25);w.state=w.__s,w.getChildContext!=null&&(o=zn(zn({},o),w.getChildContext())),U&&!R&&w.getSnapshotBeforeUpdate!=null&&(q=w.getSnapshotBeforeUpdate(O,M)),_d(r,Jc(Ve=F!=null&&F.type===_o&&F.key==null?F.props.children:F)?Ve:[Ve],t,i,o,a,c,d,_,b,x),w.base=t.__e,t.__u&=-161,w.__h.length&&d.push(w),N&&(w.__E=w.__=null)}catch(Cn){if(t.__v=null,b||c!=null){for(t.__u|=b?160:128;_&&_.nodeType===8&&_.nextSibling;)_=_.nextSibling;c[c.indexOf(_)]=null,t.__e=_}else t.__e=i.__e,t.__k=i.__k;le.__e(Cn,t,i)}else c==null&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=sb(i.__e,t,i,o,a,c,d,b,x);(F=le.diffed)&&F(t)}function vd(r,t,i){t.__d=void 0;for(var o=0;o<i.length;o++)Kc(i[o],i[++o],i[++o]);le.__c&&le.__c(t,r),r.some(function(a){try{r=a.__h,a.__h=[],r.some(function(c){c.call(a)})}catch(c){le.__e(c,a.__v)}})}function sb(r,t,i,o,a,c,d,_,b){var x,F,w,R,O,M,q,N=i.props,k=t.props,U=t.type;if(U==="svg"?a="http://www.w3.org/2000/svg":U==="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),c!=null){for(x=0;x<c.length;x++)if((O=c[x])&&"setAttribute"in O==!!U&&(U?O.localName===U:O.nodeType===3)){r=O,c[x]=null;break}}if(r==null){if(U===null)return document.createTextNode(k);r=document.createElementNS(a,U,k.is&&k),_&&(le.__m&&le.__m(t,c),_=!1),c=null}if(U===null)N===k||_&&r.data===k||(r.data=k);else{if(c=c&&mo.call(r.childNodes),N=i.props||po,!_&&c!=null)for(N={},x=0;x<r.attributes.length;x++)N[(O=r.attributes[x]).name]=O.value;for(x in N)if(O=N[x],x!="children"){if(x=="dangerouslySetInnerHTML")w=O;else if(!(x in k)){if(x=="value"&&"defaultValue"in k||x=="checked"&&"defaultChecked"in k)continue;za(r,x,null,O,a)}}for(x in k)O=k[x],x=="children"?R=O:x=="dangerouslySetInnerHTML"?F=O:x=="value"?M=O:x=="checked"?q=O:_&&typeof O!="function"||N[x]===O||za(r,x,O,N[x],a);if(F)_||w&&(F.__html===w.__html||F.__html===r.innerHTML)||(r.innerHTML=F.__html),t.__k=[];else if(w&&(r.innerHTML=""),_d(r,Jc(R)?R:[R],t,i,o,U==="foreignObject"?"http://www.w3.org/1999/xhtml":a,c,d,c?c[0]:i.__k&&ds(i,0),_,b),c!=null)for(x=c.length;x--;)pd(c[x]);_||(x="value",U==="progress"&&M==null?r.removeAttribute("value"):M!==void 0&&(M!==r[x]||U==="progress"&&!M||U==="option"&&M!==N[x])&&za(r,x,M,N[x],a),x="checked",q!==void 0&&q!==r[x]&&za(r,x,q,N[x],a))}return r}function Kc(r,t,i){try{if(typeof r=="function"){var o=typeof r.__u=="function";o&&r.__u(),o&&t==null||(r.__u=r(t))}else r.current=t}catch(a){le.__e(a,i)}}function wd(r,t,i){var o,a;if(le.unmount&&le.unmount(r),(o=r.ref)&&(o.current&&o.current!==r.__e||Kc(o,null,t)),(o=r.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(c){le.__e(c,t)}o.base=o.__P=null}if(o=r.__k)for(a=0;a<o.length;a++)o[a]&&wd(o[a],t,i||typeof r.type!="function");i||pd(r.__e),r.__c=r.__=r.__e=r.__d=void 0}function ob(r,t,i){return this.constructor(r,i)}function yd(r,t,i){var o,a,c,d;le.__&&le.__(r,t),a=(o=typeof i=="function")?null:i&&i.__k||t.__k,c=[],d=[],Vc(t,r=(!o&&i||t).__k=zt(_o,null,[r]),a||po,po,t.namespaceURI,!o&&i?[i]:a?null:t.firstChild?mo.call(t.childNodes):null,c,!o&&i?i:a?a.__e:t.firstChild,o,d),vd(c,r,d)}function Zc(r,t){yd(r,t,Zc)}function Yc(r,t,i){var o,a,c,d,_=zn({},r.props);for(c in r.type&&r.type.defaultProps&&(d=r.type.defaultProps),t)c=="key"?o=t[c]:c=="ref"?a=t[c]:_[c]=t[c]===void 0&&d!==void 0?d[c]:t[c];return arguments.length>2&&(_.children=arguments.length>3?mo.call(arguments,2):i),ho(r.type,_,o||r.key,a||r.ref,null)}function bd(r,t){var i={__c:t="__cC"+hd++,__:r,Consumer:function(o,a){return o.children(a)},Provider:function(o){var a,c;return this.getChildContext||(a=new Set,(c={})[t]=this,this.getChildContext=function(){return c},this.componentWillUnmount=function(){a=null},this.shouldComponentUpdate=function(d){this.props.value!==d.value&&a.forEach(function(_){_.__e=!0,Gc(_)})},this.sub=function(d){a.add(d);var _=d.componentWillUnmount;d.componentWillUnmount=function(){a&&a.delete(d),_&&_.call(d)}}),o.children}};return i.Provider.__=i.Consumer.contextType=i}mo=dd.slice,le={__e:function(r,t,i,o){for(var a,c,d;t=t.__;)if((a=t.__c)&&!a.__)try{if((c=a.constructor)&&c.getDerivedStateFromError!=null&&(a.setState(c.getDerivedStateFromError(r)),d=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(r,o||{}),d=a.__d),d)return a.__E=a}catch(_){r=_}throw r}},ld=0,jc=function(r){return r!=null&&r.constructor==null},hs.prototype.setState=function(r,t){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zn({},this.state),typeof r=="function"&&(r=r(zn({},i),this.props)),r&&zn(i,r),r!=null&&this.__v&&(t&&this._sb.push(t),Gc(this))},hs.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Gc(this))},hs.prototype.render=_o,ei=[],fd=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zc=function(r,t){return r.__v.__b-t.__v.__b},Ha.__r=0,Xc=0,Hc=cd(!1),qc=cd(!0),hd=0;var go,nt,Qc,xd,Ga=0,Td=[],Be=le,Ad=Be.__b,Sd=Be.__r,Cd=Be.diffed,Pd=Be.__c,Ed=Be.unmount,Id=Be.__;function tl(r,t){Be.__h&&Be.__h(nt,r,Ga||t),Ga=0;var i=nt.__H||(nt.__H={__:[],__h:[]});return r>=i.__.length&&i.__.push({}),i.__[r]}function ja(r,t){var i=tl(go++,3);!Be.__s&&Od(i.__H,t)&&(i.__=r,i.i=t,nt.__H.__h.push(i))}function _r(r){return Ga=5,Hn(function(){return{current:r}},[])}function Hn(r,t){var i=tl(go++,7);return Od(i.__H,t)&&(i.__=r(),i.__H=t,i.__h=r),i.__}function nl(r,t){return Ga=8,Hn(function(){return r},t)}function vo(r){var t=nt.context[r.__c],i=tl(go++,9);return i.c=r,t?(i.__==null&&(i.__=!0,t.sub(nt)),t.props.value):r.__}function ab(){for(var r;r=Td.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(qa),r.__H.__h.forEach(el),r.__H.__h=[]}catch(t){r.__H.__h=[],Be.__e(t,r.__v)}}Be.__b=function(r){nt=null,Ad&&Ad(r)},Be.__=function(r,t){r&&t.__k&&t.__k.__m&&(r.__m=t.__k.__m),Id&&Id(r,t)},Be.__r=function(r){Sd&&Sd(r),go=0;var t=(nt=r.__c).__H;t&&(Qc===nt?(t.__h=[],nt.__h=[],t.__.forEach(function(i){i.__N&&(i.__=i.__N),i.i=i.__N=void 0})):(t.__h.forEach(qa),t.__h.forEach(el),t.__h=[],go=0)),Qc=nt},Be.diffed=function(r){Cd&&Cd(r);var t=r.__c;t&&t.__H&&(t.__H.__h.length&&(Td.push(t)!==1&&xd===Be.requestAnimationFrame||((xd=Be.requestAnimationFrame)||ub)(ab)),t.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.i=void 0})),Qc=nt=null},Be.__c=function(r,t){t.some(function(i){try{i.__h.forEach(qa),i.__h=i.__h.filter(function(o){return!o.__||el(o)})}catch(o){t.some(function(a){a.__h&&(a.__h=[])}),t=[],Be.__e(o,i.__v)}}),Pd&&Pd(r,t)},Be.unmount=function(r){Ed&&Ed(r);var t,i=r.__c;i&&i.__H&&(i.__H.__.forEach(function(o){try{qa(o)}catch(a){t=a}}),i.__H=void 0,t&&Be.__e(t,i.__v))};var Rd=typeof requestAnimationFrame=="function";function ub(r){var t,i=function(){clearTimeout(o),Rd&&cancelAnimationFrame(t),setTimeout(r)},o=setTimeout(i,100);Rd&&(t=requestAnimationFrame(i))}function qa(r){var t=nt,i=r.__c;typeof i=="function"&&(r.__c=void 0,i()),nt=t}function el(r){var t=nt;r.__c=r.__(),nt=t}function Od(r,t){return!r||r.length!==t.length||t.some(function(i,o){return i!==r[o]})}var cb=Symbol.for("preact-signals");function Ja(){if(gr>1)gr--;else{for(var r,t=!1;wo!==void 0;){var i=wo;for(wo=void 0,rl++;i!==void 0;){var o=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&Fd(i))try{i.c()}catch(a){t||(r=a,t=!0)}i=o}}if(rl=0,gr--,t)throw r}}function ps(r){if(gr>0)return r();gr++;try{return r()}finally{Ja()}}var ve=void 0;var wo=void 0,gr=0,rl=0,Xa=0;function Md(r){if(ve!==void 0){var t=r.n;if(t===void 0||t.t!==ve)return t={i:0,S:r,p:ve.s,n:void 0,t:ve,e:void 0,x:void 0,r:t},ve.s!==void 0&&(ve.s.n=t),ve.s=t,r.n=t,32&ve.f&&r.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=ve.s,t.n=void 0,ve.s.n=t,ve.s=t),t}}function He(r){this.v=r,this.i=0,this.n=void 0,this.t=void 0}He.prototype.brand=cb;He.prototype.h=function(){return!0};He.prototype.S=function(r){this.t!==r&&r.e===void 0&&(r.x=this.t,this.t!==void 0&&(this.t.e=r),this.t=r)};He.prototype.U=function(r){if(this.t!==void 0){var t=r.e,i=r.x;t!==void 0&&(t.x=i,r.e=void 0),i!==void 0&&(i.e=t,r.x=void 0),r===this.t&&(this.t=i)}};He.prototype.subscribe=function(r){var t=this;return ti(function(){var i=t.value,o=ve;ve=void 0;try{r(i)}finally{ve=o}})};He.prototype.valueOf=function(){return this.value};He.prototype.toString=function(){return this.value+""};He.prototype.toJSON=function(){return this.value};He.prototype.peek=function(){var r=ve;ve=void 0;try{return this.value}finally{ve=r}};Object.defineProperty(He.prototype,"value",{get:function(){var r=Md(this);return r!==void 0&&(r.i=this.i),this.v},set:function(r){if(r!==this.v){if(rl>100)throw new Error("Cycle detected");this.v=r,this.i++,Xa++,gr++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Ja()}}}});function qn(r){return new He(r)}function Fd(r){for(var t=r.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Ld(r){for(var t=r.s;t!==void 0;t=t.n){var i=t.S.n;if(i!==void 0&&(t.r=i),t.S.n=t,t.i=-1,t.n===void 0){r.s=t;break}}}function kd(r){for(var t=r.s,i=void 0;t!==void 0;){var o=t.p;t.i===-1?(t.S.U(t),o!==void 0&&(o.n=t.n),t.n!==void 0&&(t.n.p=o)):i=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=o}r.s=i}function ms(r){He.call(this,void 0),this.x=r,this.s=void 0,this.g=Xa-1,this.f=4}(ms.prototype=new He).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Xa))return!0;if(this.g=Xa,this.f|=1,this.i>0&&!Fd(this))return this.f&=-2,!0;var r=ve;try{Ld(this),ve=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(i){this.v=i,this.f|=16,this.i++}return ve=r,kd(this),this.f&=-2,!0};ms.prototype.S=function(r){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}He.prototype.S.call(this,r)};ms.prototype.U=function(r){if(this.t!==void 0&&(He.prototype.U.call(this,r),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};ms.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var r=this.t;r!==void 0;r=r.x)r.t.N()}};Object.defineProperty(ms.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var r=Md(this);if(this.h(),r!==void 0&&(r.i=this.i),16&this.f)throw this.v;return this.v}});function yo(r){return new ms(r)}function Nd(r){var t=r.u;if(r.u=void 0,typeof t=="function"){gr++;var i=ve;ve=void 0;try{t()}catch(o){throw r.f&=-2,r.f|=8,il(r),o}finally{ve=i,Ja()}}}function il(r){for(var t=r.s;t!==void 0;t=t.n)t.S.U(t);r.x=void 0,r.s=void 0,Nd(r)}function lb(r){if(ve!==this)throw new Error("Out-of-order effect");kd(this),ve=r,this.f&=-2,8&this.f&&il(this),Ja()}function bo(r){this.x=r,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}bo.prototype.c=function(){var r=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{r()}};bo.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Nd(this),Ld(this),gr++;var r=ve;return ve=this,lb.bind(this,r)};bo.prototype.N=function(){2&this.f||(this.f|=2,this.o=wo,wo=this)};bo.prototype.d=function(){this.f|=8,1&this.f||il(this)};function ti(r){var t=new bo(r);try{t.c()}catch(i){throw t.d(),i}return t.d.bind(t)}var ol,sl;function _s(r,t){le[r]=t.bind(null,le[r]||function(){})}function Va(r){sl&&sl(),sl=r&&r.S()}function $d(r){var t=this,i=r.data,o=hb(i);o.value=i;var a=Hn(function(){for(var c=t.__v;c=c.__;)if(c.__c){c.__c.__$f|=4;break}return t.__$u.c=function(){var d,_=t.__$u.S(),b=a.value;_(),jc(b)||((d=t.base)==null?void 0:d.nodeType)!==3?(t.__$f|=1,t.setState({})):t.base.data=b},yo(function(){var d=o.value.value;return d===0?0:d===!0?"":d||""})},[]);return a.value}$d.displayName="_st";Object.defineProperties(He.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:$d},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});_s("__b",function(r,t){if(typeof t.type=="string"){var i,o=t.props;for(var a in o)if(a!=="children"){var c=o[a];c instanceof He&&(i||(t.__np=i={}),i[a]=c,o[a]=c.peek())}}r(t)});_s("__r",function(r,t){Va();var i,o=t.__c;o&&(o.__$f&=-2,(i=o.__$u)===void 0&&(o.__$u=i=function(a){var c;return ti(function(){c=this}),c.c=function(){o.__$f|=1,o.setState({})},c}())),ol=o,Va(i),r(t)});_s("__e",function(r,t,i,o){Va(),ol=void 0,r(t,i,o)});_s("diffed",function(r,t){Va(),ol=void 0;var i;if(typeof t.type=="string"&&(i=t.__e)){var o=t.__np,a=t.props;if(o){var c=i.U;if(c)for(var d in c){var _=c[d];_!==void 0&&!(d in o)&&(_.d(),c[d]=void 0)}else i.U=c={};for(var b in o){var x=c[b],F=o[b];x===void 0?(x=fb(i,b,F,a),c[b]=x):x.o(F,a)}}}r(t)});function fb(r,t,i,o){var a=t in r&&r.ownerSVGElement===void 0,c=qn(i);return{o:function(d,_){c.value=d,o=_},d:ti(function(){var d=c.value.value;o[t]!==d&&(o[t]=d,a?r[t]=d:d?r.setAttribute(t,d):r.removeAttribute(t))})}}_s("unmount",function(r,t){if(typeof t.type=="string"){var i=t.__e;if(i){var o=i.U;if(o){i.U=void 0;for(var a in o){var c=o[a];c&&c.d()}}}}else{var d=t.__c;if(d){var _=d.__$u;_&&(d.__$u=void 0,_.d())}}r(t)});_s("__h",function(r,t,i,o){(o<3||o===9)&&(t.__$f|=2),r(t,i,o)});hs.prototype.shouldComponentUpdate=function(r,t){var i=this.__$u;if(!(i&&i.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var o in t)return!0;for(var a in r)if(a!=="__source"&&r[a]!==this.props[a])return!0;for(var c in this.props)if(!(c in r))return!0;return!1};function hb(r){return Hn(function(){return qn(r)},[])}var al=[],ni=()=>al.slice(-1)[0],en=r=>{al.push(r)},tn=()=>{al.pop()};var cl=[],vn=()=>cl.slice(-1)[0],ri=r=>{cl.push(r)},ii=()=>{cl.pop()},ul=new WeakMap,Bd=()=>{throw new Error("Please use `data-wp-bind` to modify the attributes of an element.")},db={get(r,t,i){let o=Reflect.get(r,t,i);return o&&typeof o=="object"?Ud(o):o},set:Bd,deleteProperty:Bd},Ud=r=>(ul.has(r)||ul.set(r,new Proxy(r,db)),ul.get(r)),qe=r=>{let t=vn();if(globalThis.SCRIPT_DEBUG&&!t)throw Error("Cannot call `getContext()` when there is no scope. If you are using an async function, please consider using a generator instead. If you are using some sort of async callbacks, like `setTimeout`, please wrap the callback with `withScope(callback)`.");return t.context[r||ni()]},ll=()=>{let r=vn();if(globalThis.SCRIPT_DEBUG&&!r)throw Error("Cannot call `getElement()` when there is no scope. If you are using an async function, please consider using a generator instead. If you are using some sort of async callbacks, like `setTimeout`, please wrap the callback with `withScope(callback)`.");let{ref:t,attributes:i}=r;return Object.freeze({ref:t.current,attributes:Ud(i)})};var pb=r=>new Promise(t=>{let i=()=>{clearTimeout(o),window.cancelAnimationFrame(a),setTimeout(()=>{r(),t()})},o=setTimeout(i,100),a=window.requestAnimationFrame(i)}),si=typeof window.scheduler?.yield=="function"?window.scheduler.yield.bind(window.scheduler):()=>new Promise(r=>{setTimeout(r,0)});function mb(r,t){let i=()=>{},o=ti(function(){return i=this.c.bind(this),this.x=r,this.c=t,r()});return{flush:i,dispose:o}}function _b(r){ja(()=>{let t=null,i=!1;return t=mb(r,async()=>{t&&!i&&(i=!0,await pb(t.flush),i=!1)}),t.dispose},[])}function oi(r){let t=vn(),i=ni();return r?.constructor?.name==="GeneratorFunction"?async(...o)=>{let a=r(...o),c,d;for(;;){en(i),ri(t);try{d=a.next(c)}finally{ii(),tn()}try{c=await d.value}catch(_){en(i),ri(t),a.throw(_)}finally{ii(),tn()}if(d.done)break}return c}:(...o)=>{en(i),ri(t);try{return r(...o)}finally{tn(),ii()}}}function fl(r){_b(oi(r))}function vr(r){ja(oi(r),[])}var Wd=(r,t)=>{t=[].concat(t);let i=t[t.length-1].nextSibling;function o(a,c){r.insertBefore(a,c||i)}return r.__k={nodeType:1,parentNode:r,firstChild:t[0],childNodes:t,insertBefore:o,appendChild:o,removeChild(a){r.removeChild(a)}}};function zd(r){return r.replace(/^-+|-+$/g,"").toLowerCase().replace(/-([a-z])/g,function(t,i){return i.toUpperCase()})}var Dd=new Set,gs=r=>{if(globalThis.SCRIPT_DEBUG){if(Dd.has(r))return;console.warn(r);try{throw Error(r)}catch{}Dd.add(r)}},lt=r=>!!(r&&typeof r=="object"&&r.constructor===Object);var Ka=new WeakMap,Hd=new WeakMap,hl=new WeakMap,gb=new Set([Object,Array]),Za=(r,t,i)=>{if(!ai(t))throw Error("This object cannot be proxified.");if(!Ka.has(t)){let o=new Proxy(t,i);Ka.set(t,o),Hd.set(o,t),hl.set(o,r)}return Ka.get(t)},vs=r=>Ka.get(r),nn=r=>hl.get(r),ai=r=>typeof r!="object"||r===null?!1:!hl.has(r)&&gb.has(r.constructor),qd=r=>Hd.get(r);var vb={},Ya=class{constructor(t){this.owner=t,this.computedsByScope=new WeakMap}setValue(t){this.update({value:t})}setGetter(t){this.update({get:t})}getComputed(){let t=vn()||vb;if(!this.valueSignal&&!this.getterSignal&&this.update({}),!this.computedsByScope.has(t)){let i=()=>{let o=this.getterSignal?.value;return o?o.call(this.owner):this.valueSignal?.value};en(nn(this.owner)),this.computedsByScope.set(t,yo(oi(i))),tn()}return this.computedsByScope.get(t)}update({get:t,value:i}){this.valueSignal?(i!==this.valueSignal.peek()||t!==this.getterSignal.peek())&&ps(()=>{this.valueSignal.value=i,this.getterSignal.value=t}):(this.valueSignal=qn(i),this.getterSignal=qn(t))}};var wb=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(r=>typeof r=="symbol")),ws=new WeakMap,yb=(r,t)=>ws.has(r)&&ws.get(r).has(t),Ao=new WeakSet,xo=(r,t,i)=>{ws.has(r)||ws.set(r,new Map),t=typeof t=="number"?`${t}`:t;let o=ws.get(r);if(!o.has(t)){let a=nn(r),c=new Ya(r);if(o.set(t,c),i){let{get:d,value:_}=i;if(d)c.setGetter(d);else{let b=Ao.has(r);c.setValue(ai(_)?It(a,_,{readOnly:b}):_)}}}return o.get(t)},wn=new WeakMap,bb=!1,xb={get(r,t,i){if(bb||!r.hasOwnProperty(t)&&t in r||typeof t=="symbol"&&wb.has(t))return Reflect.get(r,t,i);let o=Object.getOwnPropertyDescriptor(r,t),c=xo(i,t,o).getComputed().value;if(typeof c=="function"){let d=nn(i);return(..._)=>{en(d);try{return c.call(i,..._)}finally{tn()}}}return c},set(r,t,i,o){if(Ao.has(o))return!1;en(nn(o));try{return Reflect.set(r,t,i,o)}finally{tn()}},defineProperty(r,t,i){if(Ao.has(vs(r)))return!1;let o=!(t in r),a=Reflect.defineProperty(r,t,i);if(a){let c=vs(r),d=xo(c,t),{get:_,value:b}=i;if(_)d.setGetter(_);else{let x=nn(c);d.setValue(ai(b)?It(x,b):b)}o&&wn.has(r)&&wn.get(r).value++,Array.isArray(r)&&ws.get(c)?.has("length")&&xo(c,"length").setValue(r.length)}return a},deleteProperty(r,t){if(Ao.has(vs(r)))return!1;let i=Reflect.deleteProperty(r,t);return i&&(xo(vs(r),t).setValue(void 0),wn.has(r)&&wn.get(r).value++),i},ownKeys(r){return wn.has(r)||wn.set(r,qn(0)),wn._=wn.get(r).value,Reflect.ownKeys(r)}},It=(r,t,i)=>{let o=Za(r,t,xb);return i?.readOnly&&Ao.add(o),o};var Gd=(r,t,i=!0)=>{if(!(lt(r)&&lt(t)))return;let o=!1;for(let a in t){let c=!(a in r);o=o||c;let d=Object.getOwnPropertyDescriptor(t,a),_=vs(r),b=!!_&&yb(_,a)&&xo(_,a);if(typeof d.get=="function"||typeof d.set=="function")(i||c)&&(Object.defineProperty(r,a,{...d,configurable:!0,enumerable:!0}),d.get&&b&&b.setGetter(d.get));else if(lt(t[a])){if((c||i&&!lt(r[a]))&&(r[a]={},b)){let x=nn(_);b.setValue(It(x,r[a]))}lt(r[a])&&Gd(r[a],t[a],i)}else if((i||c)&&(Object.defineProperty(r,a,d),b)){let{value:x}=d,F=nn(_);b.setValue(ai(x)?It(F,x):x)}}o&&wn.has(r)&&wn.get(r).value++},Gn=(r,t,i=!0)=>ps(()=>Gd(qd(r)||r,t,i));var jd=new WeakSet,Ab={get:(r,t,i)=>{let o=Reflect.get(r,t),a=nn(i);if(typeof o>"u"&&jd.has(i)){let c={};return Reflect.set(r,t,c),So(a,c,!1)}if(typeof o=="function"){en(a);let c=oi(o);return tn(),c}return lt(o)&&ai(o)?So(a,o,!1):o}},So=(r,t,i=!0)=>{let o=Za(r,t,Ab);return o&&i&&jd.add(o),o};var dl=new WeakMap,ys=new WeakMap,Xd=new WeakSet,Jd=Reflect.getOwnPropertyDescriptor,Sb={get:(r,t)=>{let i=ys.get(r),o=r[t];return t in r?o:i[t]},set:(r,t,i)=>{let o=ys.get(r),a=t in r||!(t in o)?r:o;return a[t]=i,!0},ownKeys:r=>[...new Set([...Object.keys(ys.get(r)),...Object.keys(r)])],getOwnPropertyDescriptor:(r,t)=>Jd(r,t)||Jd(ys.get(r),t),has:(r,t)=>Reflect.has(r,t)||Reflect.has(ys.get(r),t)},Co=(r,t={})=>{if(Xd.has(r))throw Error("This object cannot be proxified.");if(ys.set(r,t),!dl.has(r)){let i=new Proxy(r,Sb);dl.set(r,i),Xd.add(i)}return dl.get(r)};var Po=new Map,Vd=new Map,Qa=new Map,Cb=new Map,pl=new Map;var Kd=r=>{let t=r||ni();return pl.has(t)||pl.set(t,It(t,{},{readOnly:!0})),pl.get(t)},bs="I acknowledge that using a private store means my plugin will inevitably break on the next store release.";function Ht(r,{state:t={},...i}={},{lock:o=!1}={}){if(Po.has(r)){if(o!==bs&&!Qa.has(r))Qa.set(r,o);else{let c=Qa.get(r);if(!(o===bs||o!==!0&&o===c))throw Error(c?"Cannot unlock a private store with an invalid lock code":"Cannot lock a public store")}let a=Vd.get(r);Gn(a,i),Gn(a.state,t)}else{o!==bs&&Qa.set(r,o);let a={state:It(r,lt(t)?t:{}),...i},c=So(r,a);Vd.set(r,a),Po.set(r,c)}return Po.get(r)}var Zd=(r=document)=>{var t;let i=(t=r.getElementById("wp-script-module-data-@wordpress/interactivity"))!==null&&t!==void 0?t:r.getElementById("wp-interactivity-data");if(i?.textContent)try{return JSON.parse(i.textContent)}catch{}return{}},Yd=r=>{lt(r?.state)&&Object.entries(r.state).forEach(([t,i])=>{let o=Ht(t,{},{lock:bs});Gn(o.state,i,!1),Gn(Kd(t),i)}),lt(r?.config)&&Object.entries(r.config).forEach(([t,i])=>{Cb.set(t,i)})},Pb=Zd();Yd(Pb);function jn(r){return r.suffix!==null}function eu(r){return r.suffix===null}var Qd=bd({client:{},server:{}}),ml={},tp={},Ge=(r,t,{priority:i=10}={})=>{ml[r]=t,tp[r]=i},Eb=(r,t)=>{if(!t){gs(`Namespace missing for "${r}". The value for that path won't be resolved.`);return}let i=Po.get(t);typeof i>"u"&&(i=Ht(t,{},{lock:bs}));let o={...i,context:vn().context[t]};try{return r.split(".").reduce((a,c)=>a[c],o)}catch{}},_l=({scope:r})=>(t,...i)=>{let{value:o,namespace:a}=t;if(typeof o!="string")throw new Error("The `value` prop should be a string path");let c=o[0]==="!"&&!!(o=o.slice(1));ri(r);let d=Eb(o,a),_=typeof d=="function"?d(...i):d;return ii(),c?!_:_},Ib=r=>{let t=Object.keys(r).reduce((i,o)=>{if(ml[o]){let a=tp[o];(i[a]=i[a]||[]).push(o)}return i},{});return Object.entries(t).sort(([i],[o])=>parseInt(i)-parseInt(o)).map(([,i])=>i)},np=({directives:r,priorityLevels:[t,...i],element:o,originalProps:a,previousScope:c})=>{let d=_r({}).current;d.evaluate=nl(_l({scope:d}),[]);let{client:_,server:b}=vo(Qd);d.context=_,d.serverContext=b,d.ref=c?.ref||_r(null),o=Yc(o,{ref:d.ref}),d.attributes=o.props;let x=i.length>0?zt(np,{directives:r,priorityLevels:i,element:o,originalProps:a,previousScope:d}):o,F={...a,children:x},w={directives:r,props:F,element:o,context:Qd,evaluate:d.evaluate};ri(d);for(let R of t){let O=ml[R]?.(w);O!==void 0&&(F.children=O)}return ii(),F.children},ep=le.vnode;le.vnode=r=>{if(r.props.__directives){let t=r.props,i=t.__directives;i.key&&(r.key=i.key.find(eu).value),delete t.__directives;let o=Ib(i);o.length>0&&(r.props={directives:i,priorityLevels:o,originalProps:t,type:r.type,element:zt(r.type,t),top:!0},r.type=np)}ep&&ep(r)};function tu(r){return lt(r)?Object.fromEntries(Object.entries(r).map(([t,i])=>[t,tu(i)])):Array.isArray(r)?r.map(t=>tu(t)):r}var Rb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Tb=/\/\*[^]*?\*\/|  +/g,rp=/\n+/g,ip=" ",Ob=r=>{let t=[{}],i,o;for(;i=Rb.exec(r.replace(Tb,""));)i[4]?t.shift():i[3]?(o=i[3].replace(rp,ip).trim(),t.unshift(t[0][o]=t[0][o]||{})):t[0][i[1]]=i[2].replace(rp,ip).trim();return t[0]},sp=r=>({directives:t,evaluate:i})=>{t[`on-${r}`].filter(jn).forEach(o=>{let a=o.suffix.split("--",1)[0];vr(()=>{let c=_=>i(o,_),d=r==="window"?window:document;return d.addEventListener(a,c),()=>d.removeEventListener(a,c)})})},op=r=>({directives:t,evaluate:i})=>{t[`on-async-${r}`].filter(jn).forEach(o=>{let a=o.suffix.split("--",1)[0];vr(()=>{let c=async _=>{await si(),i(o,_)},d=r==="window"?window:document;return d.addEventListener(a,c,{passive:!0}),()=>d.removeEventListener(a,c)})})},ap=()=>{Ge("context",({directives:{context:r},props:{children:t},context:i})=>{let{Provider:o}=i,a=r.find(eu),{client:c,server:d}=vo(i),_=a.namespace,b=_r(It(_,{})),x=_r(It(_,{},{readOnly:!0})),F=Hn(()=>{let w={client:{...c},server:{...d}};if(a){let{namespace:R,value:O}=a;lt(O)||gs(`The value of data-wp-context in "${R}" store must be a valid stringified JSON object.`),Gn(b.current,tu(O),!1),Gn(x.current,tu(O)),w.client[R]=Co(b.current,c[R]),w.server[R]=Co(x.current,d[R])}return w},[a,c,d]);return zt(o,{value:F},t)},{priority:5}),Ge("watch",({directives:{watch:r},evaluate:t})=>{r.forEach(i=>{fl(()=>{let o;globalThis.IS_GUTENBERG_PLUGIN&&globalThis.SCRIPT_DEBUG&&(o=performance.now());let a=t(i);return globalThis.IS_GUTENBERG_PLUGIN&&globalThis.SCRIPT_DEBUG&&performance.measure(`interactivity api watch ${i.namespace}`,{start:o,end:performance.now(),detail:{devtools:{track:`IA: watch ${i.namespace}`}}}),a})})}),Ge("init",({directives:{init:r},evaluate:t})=>{r.forEach(i=>{vr(()=>{let o;globalThis.IS_GUTENBERG_PLUGIN&&globalThis.SCRIPT_DEBUG&&(o=performance.now());let a=t(i);return globalThis.IS_GUTENBERG_PLUGIN&&globalThis.SCRIPT_DEBUG&&performance.measure(`interactivity api init ${i.namespace}`,{start:o,end:performance.now(),detail:{devtools:{track:`IA: init ${i.namespace}`}}}),a})})}),Ge("on",({directives:{on:r},element:t,evaluate:i})=>{let o=new Map;r.filter(jn).forEach(a=>{let c=a.suffix.split("--")[0];o.has(c)||o.set(c,new Set),o.get(c).add(a)}),o.forEach((a,c)=>{let d=t.props[`on${c}`];t.props[`on${c}`]=_=>{a.forEach(b=>{d&&d(_);let x;globalThis.IS_GUTENBERG_PLUGIN&&globalThis.SCRIPT_DEBUG&&(x=performance.now()),i(b,_),globalThis.IS_GUTENBERG_PLUGIN&&globalThis.SCRIPT_DEBUG&&performance.measure(`interactivity api on ${b.namespace}`,{start:x,end:performance.now(),detail:{devtools:{track:`IA: on ${b.namespace}`}}})})}})}),Ge("on-async",({directives:{"on-async":r},element:t,evaluate:i})=>{let o=new Map;r.filter(jn).forEach(a=>{let c=a.suffix.split("--")[0];o.has(c)||o.set(c,new Set),o.get(c).add(a)}),o.forEach((a,c)=>{let d=t.props[`on${c}`];t.props[`on${c}`]=_=>{d&&d(_),a.forEach(async b=>{await si(),i(b,_)})}})}),Ge("on-window",sp("window")),Ge("on-document",sp("document")),Ge("on-async-window",op("window")),Ge("on-async-document",op("document")),Ge("class",({directives:{class:r},element:t,evaluate:i})=>{r.filter(jn).forEach(o=>{let a=o.suffix,c=i(o),d=t.props.class||"",_=new RegExp(`(^|\\s)${a}(\\s|$)`,"g");c?_.test(d)||(t.props.class=d?`${d} ${a}`:a):t.props.class=d.replace(_," ").trim(),vr(()=>{c?t.ref.current.classList.add(a):t.ref.current.classList.remove(a)})})}),Ge("style",({directives:{style:r},element:t,evaluate:i})=>{r.filter(jn).forEach(o=>{let a=o.suffix,c=i(o);t.props.style=t.props.style||{},typeof t.props.style=="string"&&(t.props.style=Ob(t.props.style)),c?t.props.style[a]=c:delete t.props.style[a],vr(()=>{c?t.ref.current.style[a]=c:t.ref.current.style.removeProperty(a)})})}),Ge("bind",({directives:{bind:r},element:t,evaluate:i})=>{r.filter(jn).forEach(o=>{let a=o.suffix,c=i(o);t.props[a]=c,vr(()=>{let d=t.ref.current;if(a==="style"){typeof c=="string"&&(d.style.cssText=c);return}else if(a!=="width"&&a!=="height"&&a!=="href"&&a!=="list"&&a!=="form"&&a!=="tabIndex"&&a!=="download"&&a!=="rowSpan"&&a!=="colSpan"&&a!=="role"&&a in d)try{d[a]=c??"";return}catch{}c!=null&&(c!==!1||a[4]==="-")?d.setAttribute(a,c):d.removeAttribute(a)})})}),Ge("ignore",({element:{type:r,props:{innerHTML:t,...i}}})=>{let o=Hn(()=>t,[]);return zt(r,{dangerouslySetInnerHTML:{__html:o},...i})}),Ge("text",({directives:{text:r},element:t,evaluate:i})=>{let o=r.find(eu);if(!o){t.props.children=null;return}try{let a=i(o);t.props.children=typeof a=="object"?null:a.toString()}catch{t.props.children=null}}),Ge("run",({directives:{run:r},evaluate:t})=>{r.forEach(i=>t(i))}),Ge("each",({directives:{each:r,"each-key":t},context:i,element:o,evaluate:a})=>{if(o.type!=="template")return;let{Provider:c}=i,d=vo(i),[_]=r,{namespace:b}=_,x=a(_),F=jn(_)?zd(_.suffix):"item";return x.map(w=>{let R=Co(It(b,{}),d.client[b]),O={client:{...d.client,[b]:R},server:{...d.server}};O.client[b][F]=w;let M={...vn(),context:O.client,serverContext:O.server},q=t?_l({scope:M})(t[0]):w;return zt(c,{value:O,key:q},o.props.content)})},{priority:20}),Ge("each-child",()=>null,{priority:1})};var wr="wp";var Mb=`data-${wr}-ignore`,Fb=`data-${wr}-interactive`,gl=`data-${wr}-`,nu=[],Lb=()=>{var r;return(r=nu[nu.length-1])!==null&&r!==void 0?r:null},kb=r=>!!(r&&typeof r=="object"&&r.constructor===Object),Nb=new RegExp(`^data-${wr}-([a-z0-9]+(?:-[a-z0-9]+)*)(?:--([a-z0-9_-]+))?$`,"i"),$b=/^([\w_\/-]+)::(.+)$/,vl=new WeakSet;function ru(r){let t=document.createTreeWalker(r,205);function i(o){let{nodeType:a}=o;if(a===3)return[o.data];if(a===4){var c;let N=t.nextSibling();return o.replaceWith(new window.Text((c=o.nodeValue)!==null&&c!==void 0?c:"")),[o.nodeValue,N]}if(a===8||a===7){let N=t.nextSibling();return o.remove(),[null,N]}let d=o,{attributes:_}=d,b=d.localName,x={},F=[],w=[],R=!1,O=!1;for(let N=0;N<_.length;N++){let k=_[N].name,U=_[N].value;if(k[gl.length]&&k.slice(0,gl.length)===gl)if(k===Mb)R=!0;else{var M,q;let ne=$b.exec(U),V=(M=ne?.[1])!==null&&M!==void 0?M:null,J=(q=ne?.[2])!==null&&q!==void 0?q:U;try{let pe=JSON.parse(J);J=kb(pe)?pe:J}catch{}if(k===Fb){O=!0;let pe=typeof J=="string"?J:typeof J?.namespace=="string"?J.namespace:null;nu.push(pe)}else w.push([k,V,J])}else if(k==="ref")continue;x[k]=U}if(R&&!O)return[zt(b,{...x,innerHTML:d.innerHTML,__directives:{ignore:!0}})];if(O&&vl.add(d),w.length&&(x.__directives=w.reduce((N,[k,U,ne])=>{let V=Nb.exec(k);if(V===null)return gs(`Found malformed directive name: ${k}.`),N;let J=V[1]||"",pe=V[2]||null;return N[J]=N[J]||[],N[J].push({namespace:U??Lb(),value:ne,suffix:pe}),N},{})),b==="template")x.content=[...d.content.childNodes].map(N=>ru(N));else{let N=t.firstChild();if(N){for(;N;){let[k,U]=i(N);k&&F.push(k),N=U||t.nextSibling()}t.parentNode()}}return O&&nu.pop(),[zt(b,x,F)]}return i(t.currentNode)}var wl=new WeakMap,up=r=>{if(!r.parentElement)throw Error("The passed region should be an element with a parent.");return wl.has(r)||wl.set(r,Wd(r.parentElement,r)),wl.get(r)},cp=new WeakMap,lp=async()=>{let r=document.querySelectorAll(`[data-${wr}-interactive]`);await new Promise(t=>{setTimeout(t,0)});for(let t of r)if(!vl.has(t)){await si();let i=up(t),o=ru(t);cp.set(t,o),await si(),Zc(o,i)}};ap();lp();var Fl={};eb(Fl,{APIConnectionError:()=>Jn,APIConnectionTimeoutError:()=>Vn,APIError:()=>Ue,APIUserAbortError:()=>Re,AuthenticationError:()=>Ps,BadRequestError:()=>Cs,ConflictError:()=>Rs,InternalServerError:()=>Ms,NotFoundError:()=>Is,OpenAIError:()=>Y,PermissionDeniedError:()=>Es,RateLimitError:()=>Os,UnprocessableEntityError:()=>Ts});var ui="4.52.1";var fp=!1,ci,yl,Bb,Ub,Db,bl,Wb,iu,xl,Al,Sl,su,Cl;function hp(r,t={auto:!1}){if(fp)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(ci)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${ci}'\``);fp=t.auto,ci=r.kind,yl=r.fetch,Bb=r.Request,Ub=r.Response,Db=r.Headers,bl=r.FormData,Wb=r.Blob,iu=r.File,xl=r.ReadableStream,Al=r.getMultipartRequestOptions,Sl=r.getDefaultAgent,su=r.fileFromPath,Cl=r.isFsReadStream}var ou=class{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}};function dp({manuallyImported:r}={}){let t=r?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n",i,o,a,c;try{i=fetch,o=Request,a=Response,c=Headers}catch(d){throw new Error(`this environment is missing the following Web Fetch API type: ${d.message}. ${t}`)}return{kind:"web",fetch:i,Request:o,Response:a,Headers:c,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(d,_)=>({..._,body:new ou(d)}),getDefaultAgent:d=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:d=>!1}}ci||hp(dp(),{auto:!0});var yn=class r{constructor(t,i){this.iterator=t,this.controller=i}static fromSSEResponse(t,i){let o=!1;async function*a(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let c=!1;try{for await(let d of Hb(t,i))if(!c){if(d.data.startsWith("[DONE]")){c=!0;continue}if(d.event===null){let _;try{_=JSON.parse(d.data)}catch(b){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),b}if(_&&_.error)throw new Ue(void 0,_.error,void 0,void 0);yield _}else{let _;try{_=JSON.parse(d.data)}catch(b){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),b}if(d.event=="error")throw new Ue(void 0,_.error,_.message,void 0);yield{event:d.event,data:_}}}c=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{c||i.abort()}}return new r(a,i)}static fromReadableStream(t,i){let o=!1;async function*a(){let d=new xs,_=pp(t);for await(let b of _)for(let x of d.decode(b))yield x;for(let b of d.flush())yield b}async function*c(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let d=!1;try{for await(let _ of a())d||_&&(yield JSON.parse(_));d=!0}catch(_){if(_ instanceof Error&&_.name==="AbortError")return;throw _}finally{d||i.abort()}}return new r(c,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],i=[],o=this.iterator(),a=c=>({next:()=>{if(c.length===0){let d=o.next();t.push(d),i.push(d)}return c.shift()}});return[new r(()=>a(t),this.controller),new r(()=>a(i),this.controller)]}toReadableStream(){let t=this,i,o=new TextEncoder;return new xl({async start(){i=t[Symbol.asyncIterator]()},async pull(a){try{let{value:c,done:d}=await i.next();if(d)return a.close();let _=o.encode(JSON.stringify(c)+`
`);a.enqueue(_)}catch(c){a.error(c)}},async cancel(){await i.return?.()}})}};async function*Hb(r,t){if(!r.body)throw t.abort(),new Y("Attempted to iterate over a response with no body");let i=new Pl,o=new xs,a=pp(r.body);for await(let c of qb(a))for(let d of o.decode(c)){let _=i.decode(d);_&&(yield _)}for(let c of o.flush()){let d=i.decode(c);d&&(yield d)}}async function*qb(r){let t=new Uint8Array;for await(let i of r){if(i==null)continue;let o=i instanceof ArrayBuffer?new Uint8Array(i):typeof i=="string"?new TextEncoder().encode(i):i,a=new Uint8Array(t.length+o.length);a.set(t),a.set(o,t.length),t=a;let c;for(;(c=Gb(t))!==-1;)yield t.slice(0,c),t=t.slice(c)}t.length>0&&(yield t)}function Gb(r){for(let o=0;o<r.length-2;o++){if(r[o]===10&&r[o+1]===10||r[o]===13&&r[o+1]===13)return o+2;if(r[o]===13&&r[o+1]===10&&o+3<r.length&&r[o+2]===13&&r[o+3]===10)return o+4}return-1}var Pl=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,o,a]=jb(t,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}},xs=class r{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let i=this.decodeText(t);if(this.trailingCR&&(i="\r"+i,this.trailingCR=!1),i.endsWith("\r")&&(this.trailingCR=!0,i=i.slice(0,-1)),!i)return[];let o=r.NEWLINE_CHARS.has(i[i.length-1]||""),a=i.split(r.NEWLINE_REGEXP);return o&&a.pop(),a.length===1&&!o?(this.buffer.push(a[0]),[]):(this.buffer.length>0&&(a=[this.buffer.join("")+a[0],...a.slice(1)],this.buffer=[]),o||(this.buffer=[a.pop()||""]),a)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new Y(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new Y(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new Y("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}};xs.NEWLINE_CHARS=new Set([`
`,"\r"]);xs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function jb(r,t){let i=r.indexOf(t);return i!==-1?[r.substring(0,i),t,r.substring(i+t.length)]:[r,"",""]}function pp(r){if(r[Symbol.asyncIterator])return r;let t=r.getReader();return{async next(){try{let i=await t.read();return i?.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){let i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}var mp=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",_p=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&au(r),au=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Xb=r=>_p(r)||mp(r)||Cl(r);async function Rl(r,t,i){if(r=await r,i??(i=_p(r)?{lastModified:r.lastModified,type:r.type}:{}),mp(r)){let a=await r.blob();return t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new iu([a],t,i)}let o=await Jb(r);if(t||(t=Kb(r)??"unknown_file"),!i.type){let a=o[0]?.type;typeof a=="string"&&(i={...i,type:a})}return new iu(o,t,i)}async function Jb(r){let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(au(r))t.push(await r.arrayBuffer());else if(Zb(r))for await(let i of r)t.push(i);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${r?.constructor?.name}; props: ${Vb(r)}`);return t}function Vb(r){return`[${Object.getOwnPropertyNames(r).map(i=>`"${i}"`).join(", ")}]`}function Kb(r){return El(r.name)||El(r.filename)||El(r.path)?.split(/[\\/]/).pop()}var El=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},Zb=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Tl=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody";var bn=async r=>{let t=await gp(r.body);return Al(t,r)},gp=async r=>{let t=new bl;return await Promise.all(Object.entries(r||{}).map(([i,o])=>Il(t,i,o))),t};var Il=async(r,t,i)=>{if(i!==void 0){if(i==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")r.append(t,String(i));else if(Xb(i)){let o=await Rl(i);r.append(t,o)}else if(Array.isArray(i))await Promise.all(i.map(o=>Il(r,t+"[]",o)));else if(typeof i=="object")await Promise.all(Object.entries(i).map(([o,a])=>Il(r,`${t}[${o}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${i} instead`)}};var Qb=function(r,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,i):a?a.value=i:t.set(r,i),i},ex=function(r,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:t.get(r)},uu;async function Ap(r){let{response:t}=r;if(r.options.stream)return As("response",t.status,t.url,t.headers,t.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(t,r.controller):yn.fromSSEResponse(t,r.controller);if(t.status===204)return null;if(r.options.__binaryResponse)return t;let i=t.headers.get("content-type");if(i?.includes("application/json")||i?.includes("application/vnd.api+json")){let c=await t.json();return As("response",t.status,t.url,t.headers,c),c}let a=await t.text();return As("response",t.status,t.url,t.headers,a),a}var cu=class r extends Promise{constructor(t,i=Ap){super(o=>{o(null)}),this.responsePromise=t,this.parseResponse=i}_thenUnwrap(t){return new r(this.responsePromise,async i=>t(await this.parseResponse(i)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}},lu=class{constructor({baseURL:t,maxRetries:i=2,timeout:o=6e5,httpAgent:a,fetch:c}){this.baseURL=t,this.maxRetries=Ol("maxRetries",i),this.timeout=Ol("timeout",o),this.httpAgent=a,this.fetch=c??yl}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...sx(),...this.authHeaders(t)}}validateHeaders(t,i){}defaultIdempotencyKey(){return`stainless-node-retry-${cx()}`}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,o){return this.request(Promise.resolve(o).then(async a=>{let c=a&&au(a?.body)?new DataView(await a.body.arrayBuffer()):a?.body instanceof DataView?a.body:a?.body instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a?.body)?new DataView(a.body.buffer):a?.body;return{method:t,path:i,...a,body:c}}))}getAPIList(t,i,o){return this.requestAPIList(i,{method:"get",path:t,...o})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t){let{method:i,path:o,query:a,headers:c={}}=t,d=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Tl(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,_=this.calculateContentLength(d),b=this.buildURL(o,a);"timeout"in t&&Ol("timeout",t.timeout);let x=t.timeout??this.timeout,F=t.httpAgent??this.httpAgent??Sl(b),w=x+1e3;typeof F?.options?.timeout=="number"&&w>(F.options.timeout??0)&&(F.options.timeout=w),this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);let R=this.buildHeaders({options:t,headers:c,contentLength:_});return{req:{method:i,...d&&{body:d},headers:R,...F&&{agent:F},signal:t.signal??null},url:b,timeout:x}}buildHeaders({options:t,headers:i,contentLength:o}){let a={};o&&(a["content-length"]=o);let c=this.defaultHeaders(t);return xp(a,c),xp(a,i),Tl(t.body)&&ci!=="node"&&delete a["content-type"],this.validateHeaders(a,i),a}async prepareOptions(t){}async prepareRequest(t,{url:i,options:o}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(i=>[...i])):{...t}:{}}makeStatusError(t,i,o,a){return Ue.generate(t,i,o,a)}request(t,i=null){return new cu(this.makeRequest(t,i))}async makeRequest(t,i){let o=await t;i==null&&(i=o.maxRetries??this.maxRetries),await this.prepareOptions(o);let{req:a,url:c,timeout:d}=this.buildRequest(o);if(await this.prepareRequest(a,{url:c,options:o}),As("request",c,o,a.headers),o.signal?.aborted)throw new Re;let _=new AbortController,b=await this.fetchWithTimeout(c,a,d,_).catch(fu);if(b instanceof Error){if(o.signal?.aborted)throw new Re;if(i)return this.retryRequest(o,i);throw b.name==="AbortError"?new Vn:new Jn({cause:b})}let x=tx(b.headers);if(!b.ok){if(i&&this.shouldRetry(b)){let q=`retrying, ${i} attempts remaining`;return As(`response (error; ${q})`,b.status,c,x),this.retryRequest(o,i,x)}let F=await b.text().catch(q=>fu(q).message),w=ox(F),R=w?void 0:F;throw As(`response (error; ${i?"(error; no more retries left)":"(error; not retryable)"})`,b.status,c,x,R),this.makeStatusError(b.status,w,R,x)}return{response:b,options:o,controller:_}}requestAPIList(t,i){let o=this.makeRequest(i,null);return new Ml(this,o,t)}buildURL(t,i){let o=ux(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Sp(a)||(i={...a,...i}),typeof i=="object"&&i&&!Array.isArray(i)&&(o.search=this.stringifyQuery(i)),o.toString()}stringifyQuery(t){return Object.entries(t).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new Y(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,i,o,a){let{signal:c,...d}=i||{};c&&c.addEventListener("abort",()=>a.abort());let _=setTimeout(()=>a.abort(),o);return this.getRequestClient().fetch.call(void 0,t,{signal:a.signal,...d}).finally(()=>{clearTimeout(_)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){let i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,o){let a,c=o?.["retry-after-ms"];if(c){let _=parseFloat(c);Number.isNaN(_)||(a=_)}let d=o?.["retry-after"];if(d&&!a){let _=parseFloat(d);Number.isNaN(_)?a=Date.parse(d)-Date.now():a=_*1e3}if(!(a&&0<=a&&a<60*1e3)){let _=t.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(i,_)}return await Xn(a),this.makeRequest(t,i-1)}calculateDefaultRetryTimeoutMillis(t,i){let c=i-t,d=Math.min(.5*Math.pow(2,c),8),_=1-Math.random()*.25;return d*_*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ui}`}},Eo=class{constructor(t,i,o,a){uu.set(this,void 0),Qb(this,uu,t,"f"),this.options=a,this.response=i,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){let t=this.nextPageInfo();if(!t)throw new Y("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let i={...this.options};if("params"in t&&typeof i.query=="object")i.query={...i.query,...t.params};else if("url"in t){let o=[...Object.entries(i.query||{}),...t.url.searchParams.entries()];for(let[a,c]of o)t.url.searchParams.set(a,c);i.query=void 0,i.path=t.url.toString()}return await ex(this,uu,"f").requestAPIList(this.constructor,i)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(uu=new WeakMap,Symbol.asyncIterator)](){for await(let t of this.iterPages())for(let i of t.getPaginatedItems())yield i}},Ml=class extends cu{constructor(t,i,o){super(i,async a=>new o(t,a.response,await Ap(a),a.options))}async*[Symbol.asyncIterator](){let t=await this;for await(let i of t)yield i}},tx=r=>new Proxy(Object.fromEntries(r.entries()),{get(t,i){let o=i.toString();return t[o.toLowerCase()]||t[o]}}),nx={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},be=r=>typeof r=="object"&&r!==null&&!Sp(r)&&Object.keys(r).every(t=>Cp(nx,t)),rx=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":yp(Deno.build.os),"X-Stainless-Arch":vp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":yp(process.platform),"X-Stainless-Arch":vp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};let r=ix();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ix(){if(typeof navigator>"u"||!navigator)return null;let r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:i}of r){let o=i.exec(navigator.userAgent);if(o){let a=o[1]||0,c=o[2]||0,d=o[3]||0;return{browser:t,version:`${a}.${c}.${d}`}}}return null}var vp=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",yp=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown"),bp,sx=()=>bp??(bp=rx()),ox=r=>{try{return JSON.parse(r)}catch{return}},ax=new RegExp("^(?:[a-z]+:)?//","i"),ux=r=>ax.test(r),Xn=r=>new Promise(t=>setTimeout(t,r)),Ol=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Y(`${r} must be an integer`);if(t<0)throw new Y(`${r} must be a positive integer`);return t},fu=r=>r instanceof Error?r:new Error(r);var Io=r=>{if(typeof process<"u")return process.env?.[r]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(r)?.trim()};function Sp(r){if(!r)return!0;for(let t in r)return!1;return!0}function Cp(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function xp(r,t){for(let i in t){if(!Cp(t,i))continue;let o=i.toLowerCase();if(!o)continue;let a=t[i];a===null?delete r[o]:a!==void 0&&(r[o]=a)}}function As(r,...t){typeof process<"u"&&process?.env?.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${r}`,...t)}var cx=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)}),Pp=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function hu(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}var Y=class extends Error{},Ue=class r extends Y{constructor(t,i,o,a){super(`${r.makeMessage(t,i,o)}`),this.status=t,this.headers=a,this.request_id=a?.["x-request-id"];let c=i;this.error=c,this.code=c?.code,this.param=c?.param,this.type=c?.type}static makeMessage(t,i,o){let a=i?.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,i,o,a){if(!t)return new Jn({cause:fu(i)});let c=i?.error;return t===400?new Cs(t,c,o,a):t===401?new Ps(t,c,o,a):t===403?new Es(t,c,o,a):t===404?new Is(t,c,o,a):t===409?new Rs(t,c,o,a):t===422?new Ts(t,c,o,a):t===429?new Os(t,c,o,a):t>=500?new Ms(t,c,o,a):new r(t,c,o,a)}},Re=class extends Ue{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}},Jn=class extends Ue{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,i&&(this.cause=i)}},Vn=class extends Jn{constructor({message:t}={}){super({message:t??"Request timed out."})}},Cs=class extends Ue{constructor(){super(...arguments),this.status=400}},Ps=class extends Ue{constructor(){super(...arguments),this.status=401}},Es=class extends Ue{constructor(){super(...arguments),this.status=403}},Is=class extends Ue{constructor(){super(...arguments),this.status=404}},Rs=class extends Ue{constructor(){super(...arguments),this.status=409}},Ts=class extends Ue{constructor(){super(...arguments),this.status=422}},Os=class extends Ue{constructor(){super(...arguments),this.status=429}},Ms=class extends Ue{};var yr=class extends Eo{constructor(t,i,o,a){super(t,i,o,a),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}},Ce=class extends Eo{constructor(t,i,o,a){super(t,i,o,a),this.data=o.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){let t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;let i=Object.fromEntries(t.url.searchParams);return Object.keys(i).length?i:null}nextPageInfo(){let t=this.getPaginatedItems();if(!t.length)return null;let i=t[t.length-1]?.id;return i?{params:{after:i}}:null}};var D=class{constructor(t){this._client=t}};var li=class extends D{create(t,i){return this._client.post("/chat/completions",{body:t,...i,stream:t.stream??!1})}};li||(li={});var br=class extends D{constructor(){super(...arguments),this.completions=new li(this._client)}};(function(r){r.Completions=li})(br||(br={}));var fi=class extends D{create(t,i){return this._client.post("/audio/speech",{body:t,...i,__binaryResponse:!0})}};fi||(fi={});var hi=class extends D{create(t,i){return this._client.post("/audio/transcriptions",bn({body:t,...i}))}};hi||(hi={});var di=class extends D{create(t,i){return this._client.post("/audio/translations",bn({body:t,...i}))}};di||(di={});var xr=class extends D{constructor(){super(...arguments),this.transcriptions=new hi(this._client),this.translations=new di(this._client),this.speech=new fi(this._client)}};(function(r){r.Transcriptions=hi,r.Translations=di,r.Speech=fi})(xr||(xr={}));var Ar=class extends D{create(t,i){return this._client.post("/batches",{body:t,...i})}retrieve(t,i){return this._client.get(`/batches/${t}`,i)}list(t={},i){return be(t)?this.list({},t):this._client.getAPIList("/batches",Sr,{query:t,...i})}cancel(t,i){return this._client.post(`/batches/${t}/cancel`,i)}},Sr=class extends Ce{};(function(r){r.BatchesPage=Sr})(Ar||(Ar={}));var pi=class extends D{create(t,i){return this._client.post("/assistants",{body:t,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}retrieve(t,i){return this._client.get(`/assistants/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}update(t,i,o){return this._client.post(`/assistants/${t}`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t={},i){return be(t)?this.list({},t):this._client.getAPIList("/assistants",mi,{query:t,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}del(t,i){return this._client.delete(`/assistants/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}},mi=class extends Ce{};(function(r){r.AssistantsPage=mi})(pi||(pi={}));function Ll(r){return typeof r.parse=="function"}var Cr=r=>r?.role==="assistant",kl=r=>r?.role==="function",Nl=r=>r?.role==="tool";var rn=function(r,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,i):a?a.value=i:t.set(r,i),i},oe=function(r,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:t.get(r)},rt,du,pu,Ro,To,mu,Oo,Kn,Mo,_u,gu,Fs,$l,vu,Bl,Ul,Dl,Wl,Rp,zl,Ip=10,Ls=class{constructor(){rt.add(this),this.controller=new AbortController,du.set(this,void 0),pu.set(this,()=>{}),Ro.set(this,()=>{}),To.set(this,void 0),mu.set(this,()=>{}),Oo.set(this,()=>{}),Kn.set(this,{}),this._chatCompletions=[],this.messages=[],Mo.set(this,!1),_u.set(this,!1),gu.set(this,!1),Fs.set(this,!1),Wl.set(this,t=>{if(rn(this,_u,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Re),t instanceof Re)return rn(this,gu,!0,"f"),this._emit("abort",t);if(t instanceof Y)return this._emit("error",t);if(t instanceof Error){let i=new Y(t.message);return i.cause=t,this._emit("error",i)}return this._emit("error",new Y(String(t)))}),rn(this,du,new Promise((t,i)=>{rn(this,pu,t,"f"),rn(this,Ro,i,"f")}),"f"),rn(this,To,new Promise((t,i)=>{rn(this,mu,t,"f"),rn(this,Oo,i,"f")}),"f"),oe(this,du,"f").catch(()=>{}),oe(this,To,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},oe(this,Wl,"f"))},0)}_addChatCompletion(t){this._chatCompletions.push(t),this._emit("chatCompletion",t);let i=t.choices[0]?.message;return i&&this._addMessage(i),t}_addMessage(t,i=!0){if("content"in t||(t.content=null),this.messages.push(t),i){if(this._emit("message",t),(kl(t)||Nl(t))&&t.content)this._emit("functionCallResult",t.content);else if(Cr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Cr(t)&&t.tool_calls)for(let o of t.tool_calls)o.type==="function"&&this._emit("functionCall",o.function)}}_connected(){this.ended||(oe(this,pu,"f").call(this),this._emit("connect"))}get ended(){return oe(this,Mo,"f")}get errored(){return oe(this,_u,"f")}get aborted(){return oe(this,gu,"f")}abort(){this.controller.abort()}on(t,i){return(oe(this,Kn,"f")[t]||(oe(this,Kn,"f")[t]=[])).push({listener:i}),this}off(t,i){let o=oe(this,Kn,"f")[t];if(!o)return this;let a=o.findIndex(c=>c.listener===i);return a>=0&&o.splice(a,1),this}once(t,i){return(oe(this,Kn,"f")[t]||(oe(this,Kn,"f")[t]=[])).push({listener:i,once:!0}),this}emitted(t){return new Promise((i,o)=>{rn(this,Fs,!0,"f"),t!=="error"&&this.once("error",o),this.once(t,i)})}async done(){rn(this,Fs,!0,"f"),await oe(this,To,"f")}async finalChatCompletion(){await this.done();let t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Y("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),oe(this,rt,"m",$l).call(this)}async finalMessage(){return await this.done(),oe(this,rt,"m",vu).call(this)}async finalFunctionCall(){return await this.done(),oe(this,rt,"m",Bl).call(this)}async finalFunctionCallResult(){return await this.done(),oe(this,rt,"m",Ul).call(this)}async totalUsage(){return await this.done(),oe(this,rt,"m",Dl).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(t,...i){if(oe(this,Mo,"f"))return;t==="end"&&(rn(this,Mo,!0,"f"),oe(this,mu,"f").call(this));let o=oe(this,Kn,"f")[t];if(o&&(oe(this,Kn,"f")[t]=o.filter(a=>!a.once),o.forEach(({listener:a})=>a(...i))),t==="abort"){let a=i[0];!oe(this,Fs,"f")&&!o?.length&&Promise.reject(a),oe(this,Ro,"f").call(this,a),oe(this,Oo,"f").call(this,a),this._emit("end");return}if(t==="error"){let a=i[0];!oe(this,Fs,"f")&&!o?.length&&Promise.reject(a),oe(this,Ro,"f").call(this,a),oe(this,Oo,"f").call(this,a),this._emit("end")}}_emitFinal(){let t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);let i=oe(this,rt,"m",vu).call(this);i&&this._emit("finalMessage",i);let o=oe(this,rt,"m",$l).call(this);o&&this._emit("finalContent",o);let a=oe(this,rt,"m",Bl).call(this);a&&this._emit("finalFunctionCall",a);let c=oe(this,rt,"m",Ul).call(this);c!=null&&this._emit("finalFunctionCallResult",c),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",oe(this,rt,"m",Dl).call(this))}async _createChatCompletion(t,i,o){let a=o?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),oe(this,rt,"m",Rp).call(this,i);let c=await t.create({...i,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(c)}async _runChatCompletion(t,i,o){for(let a of i.messages)this._addMessage(a,!1);return await this._createChatCompletion(t,i,o)}async _runFunctions(t,i,o){let a="function",{function_call:c="auto",stream:d,..._}=i,b=typeof c!="string"&&c?.name,{maxChatCompletions:x=Ip}=o||{},F={};for(let R of i.functions)F[R.name||R.function.name]=R;let w=i.functions.map(R=>({name:R.name||R.function.name,parameters:R.parameters,description:R.description}));for(let R of i.messages)this._addMessage(R,!1);for(let R=0;R<x;++R){let M=(await this._createChatCompletion(t,{..._,function_call:c,functions:w,messages:[...this.messages]},o)).choices[0]?.message;if(!M)throw new Y("missing message in ChatCompletion response");if(!M.function_call)return;let{name:q,arguments:N}=M.function_call,k=F[q];if(k){if(b&&b!==q){let J=`Invalid function_call: ${JSON.stringify(q)}. ${JSON.stringify(b)} requested. Please try again`;this._addMessage({role:a,name:q,content:J});continue}}else{let J=`Invalid function_call: ${JSON.stringify(q)}. Available options are: ${w.map(pe=>JSON.stringify(pe.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:q,content:J});continue}let U;try{U=Ll(k)?await k.parse(N):N}catch(J){this._addMessage({role:a,name:q,content:J instanceof Error?J.message:String(J)});continue}let ne=await k.function(U,this),V=oe(this,rt,"m",zl).call(this,ne);if(this._addMessage({role:a,name:q,content:V}),b)return}}async _runTools(t,i,o){let a="tool",{tool_choice:c="auto",stream:d,..._}=i,b=typeof c!="string"&&c?.function?.name,{maxChatCompletions:x=Ip}=o||{},F={};for(let R of i.tools)R.type==="function"&&(F[R.function.name||R.function.function.name]=R.function);let w="tools"in i?i.tools.map(R=>R.type==="function"?{type:"function",function:{name:R.function.name||R.function.function.name,parameters:R.function.parameters,description:R.function.description}}:R):void 0;for(let R of i.messages)this._addMessage(R,!1);for(let R=0;R<x;++R){let M=(await this._createChatCompletion(t,{..._,tool_choice:c,tools:w,messages:[...this.messages]},o)).choices[0]?.message;if(!M)throw new Y("missing message in ChatCompletion response");if(!M.tool_calls)return;for(let q of M.tool_calls){if(q.type!=="function")continue;let N=q.id,{name:k,arguments:U}=q.function,ne=F[k];if(ne){if(b&&b!==k){let _e=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(b)} requested. Please try again`;this._addMessage({role:a,tool_call_id:N,content:_e});continue}}else{let _e=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${w.map(De=>JSON.stringify(De.function.name)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:N,content:_e});continue}let V;try{V=Ll(ne)?await ne.parse(U):U}catch(_e){let De=_e instanceof Error?_e.message:String(_e);this._addMessage({role:a,tool_call_id:N,content:De});continue}let J=await ne.function(V,this),pe=oe(this,rt,"m",zl).call(this,J);if(this._addMessage({role:a,tool_call_id:N,content:pe}),b)return}}}};du=new WeakMap,pu=new WeakMap,Ro=new WeakMap,To=new WeakMap,mu=new WeakMap,Oo=new WeakMap,Kn=new WeakMap,Mo=new WeakMap,_u=new WeakMap,gu=new WeakMap,Fs=new WeakMap,Wl=new WeakMap,rt=new WeakSet,$l=function(){return oe(this,rt,"m",vu).call(this).content??null},vu=function(){let t=this.messages.length;for(;t-- >0;){let i=this.messages[t];if(Cr(i)){let{function_call:o,...a}=i,c={...a,content:i.content??null};return o&&(c.function_call=o),c}}throw new Y("stream ended without producing a ChatCompletionMessage with role=assistant")},Bl=function(){for(let t=this.messages.length-1;t>=0;t--){let i=this.messages[t];if(Cr(i)&&i?.function_call)return i.function_call;if(Cr(i)&&i?.tool_calls?.length)return i.tool_calls.at(-1)?.function}},Ul=function(){for(let t=this.messages.length-1;t>=0;t--){let i=this.messages[t];if(kl(i)&&i.content!=null||Nl(i)&&i.content!=null&&this.messages.some(o=>o.role==="assistant"&&o.tool_calls?.some(a=>a.type==="function"&&a.id===i.tool_call_id)))return i.content}},Dl=function(){let t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:i}of this._chatCompletions)i&&(t.completion_tokens+=i.completion_tokens,t.prompt_tokens+=i.prompt_tokens,t.total_tokens+=i.total_tokens);return t},Rp=function(t){if(t.n!=null&&t.n>1)throw new Y("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},zl=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};var Fo=class r extends Ls{static runFunctions(t,i,o){let a=new r,c={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(t,i,c)),a}static runTools(t,i,o){let a=new r,c={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(t,i,c)),a}_addMessage(t){super._addMessage(t),Cr(t)&&t.content&&this._emit("content",t.content)}};var sn=function(r,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:t.get(r)},Hl=function(r,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,i):a?a.value=i:t.set(r,i),i},xn,Pr,ql,Gl,wu,Tp,ks=class r extends Ls{constructor(){super(...arguments),xn.add(this),Pr.set(this,void 0)}get currentChatCompletionSnapshot(){return sn(this,Pr,"f")}static fromReadableStream(t){let i=new r;return i._run(()=>i._fromReadableStream(t)),i}static createChatCompletion(t,i,o){let a=new r;return a._run(()=>a._runChatCompletion(t,{...i,stream:!0},{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(t,i,o){let a=o?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),sn(this,xn,"m",ql).call(this);let c=await t.create({...i,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(let d of c)sn(this,xn,"m",Gl).call(this,d);if(c.controller.signal?.aborted)throw new Re;return this._addChatCompletion(sn(this,xn,"m",wu).call(this))}async _fromReadableStream(t,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),sn(this,xn,"m",ql).call(this),this._connected();let a=yn.fromReadableStream(t,this.controller),c;for await(let d of a)c&&c!==d.id&&this._addChatCompletion(sn(this,xn,"m",wu).call(this)),sn(this,xn,"m",Gl).call(this,d),c=d.id;if(a.controller.signal?.aborted)throw new Re;return this._addChatCompletion(sn(this,xn,"m",wu).call(this))}[(Pr=new WeakMap,xn=new WeakSet,ql=function(){this.ended||Hl(this,Pr,void 0,"f")},Gl=function(i){if(this.ended)return;let o=sn(this,xn,"m",Tp).call(this,i);this._emit("chunk",i,o);let a=i.choices[0]?.delta?.content,c=o.choices[0]?.message;a!=null&&c?.role==="assistant"&&c?.content&&this._emit("content",a,c.content)},wu=function(){if(this.ended)throw new Y("stream has ended, this shouldn't happen");let i=sn(this,Pr,"f");if(!i)throw new Y("request ended without sending any chunks");return Hl(this,Pr,void 0,"f"),_x(i)},Tp=function(i){var o,a,c;let d=sn(this,Pr,"f"),{choices:_,...b}=i;d?Object.assign(d,b):d=Hl(this,Pr,{...b,choices:[]},"f");for(let{delta:x,finish_reason:F,index:w,logprobs:R=null,...O}of i.choices){let M=d.choices[w];if(M||(M=d.choices[w]={finish_reason:F,index:w,message:{},logprobs:R,...O}),R)if(!M.logprobs)M.logprobs=Object.assign({},R);else{let{content:V,...J}=R;Object.assign(M.logprobs,J),V&&((o=M.logprobs).content??(o.content=[]),M.logprobs.content.push(...V))}if(F&&(M.finish_reason=F),Object.assign(M,O),!x)continue;let{content:q,function_call:N,role:k,tool_calls:U,...ne}=x;if(Object.assign(M.message,ne),q&&(M.message.content=(M.message.content||"")+q),k&&(M.message.role=k),N&&(M.message.function_call?(N.name&&(M.message.function_call.name=N.name),N.arguments&&((a=M.message.function_call).arguments??(a.arguments=""),M.message.function_call.arguments+=N.arguments)):M.message.function_call=N),U){M.message.tool_calls||(M.message.tool_calls=[]);for(let{index:V,id:J,type:pe,function:_e,...De}of U){let Ve=(c=M.message.tool_calls)[V]??(c[V]={});Object.assign(Ve,De),J&&(Ve.id=J),pe&&(Ve.type=pe),_e&&(Ve.function??(Ve.function={arguments:""})),_e?.name&&(Ve.function.name=_e.name),_e?.arguments&&(Ve.function.arguments+=_e.arguments)}}}return d},Symbol.asyncIterator)](){let t=[],i=[],o=!1;return this.on("chunk",a=>{let c=i.shift();c?c.resolve(a):t.push(a)}),this.on("end",()=>{o=!0;for(let a of i)a.resolve(void 0);i.length=0}),this.on("abort",a=>{o=!0;for(let c of i)c.reject(a);i.length=0}),this.on("error",a=>{o=!0;for(let c of i)c.reject(a);i.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((c,d)=>i.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new yn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function _x(r){let{id:t,choices:i,created:o,model:a,system_fingerprint:c,...d}=r;return{...d,id:t,choices:i.map(({message:_,finish_reason:b,index:x,logprobs:F,...w})=>{if(!b)throw new Y(`missing finish_reason for choice ${x}`);let{content:R=null,function_call:O,tool_calls:M,...q}=_,N=_.role;if(!N)throw new Y(`missing role for choice ${x}`);if(O){let{arguments:k,name:U}=O;if(k==null)throw new Y(`missing function_call.arguments for choice ${x}`);if(!U)throw new Y(`missing function_call.name for choice ${x}`);return{...w,message:{content:R,function_call:{arguments:k,name:U},role:N},finish_reason:b,index:x,logprobs:F}}return M?{...w,index:x,finish_reason:b,logprobs:F,message:{...q,role:N,content:R,tool_calls:M.map((k,U)=>{let{function:ne,type:V,id:J,...pe}=k,{arguments:_e,name:De,...Ve}=ne||{};if(J==null)throw new Y(`missing choices[${x}].tool_calls[${U}].id
${yu(r)}`);if(V==null)throw new Y(`missing choices[${x}].tool_calls[${U}].type
${yu(r)}`);if(De==null)throw new Y(`missing choices[${x}].tool_calls[${U}].function.name
${yu(r)}`);if(_e==null)throw new Y(`missing choices[${x}].tool_calls[${U}].function.arguments
${yu(r)}`);return{...pe,id:J,type:V,function:{...Ve,name:De,arguments:_e}}})}}:{...w,message:{...q,content:R,role:N},finish_reason:b,index:x,logprobs:F}}),created:o,model:a,object:"chat.completion",...c?{system_fingerprint:c}:{}}}function yu(r){return JSON.stringify(r)}var Lo=class r extends ks{static fromReadableStream(t){let i=new r;return i._run(()=>i._fromReadableStream(t)),i}static runFunctions(t,i,o){let a=new r,c={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(t,i,c)),a}static runTools(t,i,o){let a=new r,c={...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(t,i,c)),a}};var ko=class extends D{runFunctions(t,i){return t.stream?Lo.runFunctions(this._client.chat.completions,t,i):Fo.runFunctions(this._client.chat.completions,t,i)}runTools(t,i){return t.stream?Lo.runTools(this._client.chat.completions,t,i):Fo.runTools(this._client.chat.completions,t,i)}stream(t,i){return ks.createChatCompletion(this._client.chat.completions,t,i)}};var _i=class extends D{constructor(){super(...arguments),this.completions=new ko(this._client)}};(function(r){r.Completions=ko})(_i||(_i={}));var on=function(r,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,i):a?a.value=i:t.set(r,i),i},Pe=function(r,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:t.get(r)},bu,xu,No,$o,Au,Bo,Zn,Uo,Su,Cu,Ns,jl,Pu=class{constructor(){this.controller=new AbortController,bu.set(this,void 0),xu.set(this,()=>{}),No.set(this,()=>{}),$o.set(this,void 0),Au.set(this,()=>{}),Bo.set(this,()=>{}),Zn.set(this,{}),Uo.set(this,!1),Su.set(this,!1),Cu.set(this,!1),Ns.set(this,!1),jl.set(this,t=>{if(on(this,Su,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Re),t instanceof Re)return on(this,Cu,!0,"f"),this._emit("abort",t);if(t instanceof Y)return this._emit("error",t);if(t instanceof Error){let i=new Y(t.message);return i.cause=t,this._emit("error",i)}return this._emit("error",new Y(String(t)))}),on(this,bu,new Promise((t,i)=>{on(this,xu,t,"f"),on(this,No,i,"f")}),"f"),on(this,$o,new Promise((t,i)=>{on(this,Au,t,"f"),on(this,Bo,i,"f")}),"f"),Pe(this,bu,"f").catch(()=>{}),Pe(this,$o,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emit("end")},Pe(this,jl,"f"))},0)}_addRun(t){return t}_connected(){this.ended||(Pe(this,xu,"f").call(this),this._emit("connect"))}get ended(){return Pe(this,Uo,"f")}get errored(){return Pe(this,Su,"f")}get aborted(){return Pe(this,Cu,"f")}abort(){this.controller.abort()}on(t,i){return(Pe(this,Zn,"f")[t]||(Pe(this,Zn,"f")[t]=[])).push({listener:i}),this}off(t,i){let o=Pe(this,Zn,"f")[t];if(!o)return this;let a=o.findIndex(c=>c.listener===i);return a>=0&&o.splice(a,1),this}once(t,i){return(Pe(this,Zn,"f")[t]||(Pe(this,Zn,"f")[t]=[])).push({listener:i,once:!0}),this}emitted(t){return new Promise((i,o)=>{on(this,Ns,!0,"f"),t!=="error"&&this.once("error",o),this.once(t,i)})}async done(){on(this,Ns,!0,"f"),await Pe(this,$o,"f")}_emit(t,...i){if(Pe(this,Uo,"f"))return;t==="end"&&(on(this,Uo,!0,"f"),Pe(this,Au,"f").call(this));let o=Pe(this,Zn,"f")[t];if(o&&(Pe(this,Zn,"f")[t]=o.filter(a=>!a.once),o.forEach(({listener:a})=>a(...i))),t==="abort"){let a=i[0];!Pe(this,Ns,"f")&&!o?.length&&Promise.reject(a),Pe(this,No,"f").call(this,a),Pe(this,Bo,"f").call(this,a),this._emit("end");return}if(t==="error"){let a=i[0];!Pe(this,Ns,"f")&&!o?.length&&Promise.reject(a),Pe(this,No,"f").call(this,a),Pe(this,Bo,"f").call(this,a),this._emit("end")}}async _threadAssistantStream(t,i,o){return await this._createThreadAssistantStream(i,t,o)}async _runAssistantStream(t,i,o,a){return await this._createAssistantStream(i,t,o,a)}async _runToolAssistantStream(t,i,o,a,c){return await this._createToolAssistantStream(o,t,i,a,c)}async _createThreadAssistantStream(t,i,o){let a=o?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));let c=await t.createAndRun({...i,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addRun(c)}async _createToolAssistantStream(t,i,o,a,c){let d=c?.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));let _=await t.submitToolOutputs(i,o,{...a,stream:!1},{...c,signal:this.controller.signal});return this._connected(),this._addRun(_)}async _createAssistantStream(t,i,o,a){let c=a?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));let d=await t.create(i,{...o,stream:!1},{...a,signal:this.controller.signal});return this._connected(),this._addRun(d)}};bu=new WeakMap,xu=new WeakMap,No=new WeakMap,$o=new WeakMap,Au=new WeakMap,Bo=new WeakMap,Zn=new WeakMap,Uo=new WeakMap,Su=new WeakMap,Cu=new WeakMap,Ns=new WeakMap,jl=new WeakMap;var W=function(r,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(r):o?o.value:t.get(r)},Rt=function(r,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!a:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(r,i):a?a.value=i:t.set(r,i),i},Ye,Xl,An,Eu,an,vi,$s,gi,Tu,Tt,Iu,Ru,zo,Do,Wo,Op,Mp,Fp,Lp,kp,Np,$p,Sn=class r extends Pu{constructor(){super(...arguments),Ye.add(this),Xl.set(this,[]),An.set(this,{}),Eu.set(this,{}),an.set(this,void 0),vi.set(this,void 0),$s.set(this,void 0),gi.set(this,void 0),Tu.set(this,void 0),Tt.set(this,void 0),Iu.set(this,void 0),Ru.set(this,void 0),zo.set(this,void 0)}[(Xl=new WeakMap,An=new WeakMap,Eu=new WeakMap,an=new WeakMap,vi=new WeakMap,$s=new WeakMap,gi=new WeakMap,Tu=new WeakMap,Tt=new WeakMap,Iu=new WeakMap,Ru=new WeakMap,zo=new WeakMap,Ye=new WeakSet,Symbol.asyncIterator)](){let t=[],i=[],o=!1;return this.on("event",a=>{let c=i.shift();c?c.resolve(a):t.push(a)}),this.on("end",()=>{o=!0;for(let a of i)a.resolve(void 0);i.length=0}),this.on("abort",a=>{o=!0;for(let c of i)c.reject(a);i.length=0}),this.on("error",a=>{o=!0;for(let c of i)c.reject(a);i.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((c,d)=>i.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){let i=new r;return i._run(()=>i._fromReadableStream(t)),i}async _fromReadableStream(t,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();let a=yn.fromReadableStream(t,this.controller);for await(let c of a)W(this,Ye,"m",Do).call(this,c);if(a.controller.signal?.aborted)throw new Re;return this._addRun(W(this,Ye,"m",Wo).call(this))}toReadableStream(){return new yn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,i,o,a,c){let d=new r;return d._run(()=>d._runToolAssistantStream(t,i,o,a,{...c,headers:{...c?.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createToolAssistantStream(t,i,o,a,c){let d=c?.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));let _={...a,stream:!0},b=await t.submitToolOutputs(i,o,_,{...c,signal:this.controller.signal});this._connected();for await(let x of b)W(this,Ye,"m",Do).call(this,x);if(b.controller.signal?.aborted)throw new Re;return this._addRun(W(this,Ye,"m",Wo).call(this))}static createThreadAssistantStream(t,i,o){let a=new r;return a._run(()=>a._threadAssistantStream(t,i,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(t,i,o,a){let c=new r;return c._run(()=>c._runAssistantStream(t,i,o,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),c}currentEvent(){return W(this,Iu,"f")}currentRun(){return W(this,Ru,"f")}currentMessageSnapshot(){return W(this,an,"f")}currentRunStepSnapshot(){return W(this,zo,"f")}async finalRunSteps(){return await this.done(),Object.values(W(this,An,"f"))}async finalMessages(){return await this.done(),Object.values(W(this,Eu,"f"))}async finalRun(){if(await this.done(),!W(this,vi,"f"))throw Error("Final run was not received.");return W(this,vi,"f")}async _createThreadAssistantStream(t,i,o){let a=o?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));let c={...i,stream:!0},d=await t.createAndRun(c,{...o,signal:this.controller.signal});this._connected();for await(let _ of d)W(this,Ye,"m",Do).call(this,_);if(d.controller.signal?.aborted)throw new Re;return this._addRun(W(this,Ye,"m",Wo).call(this))}async _createAssistantStream(t,i,o,a){let c=a?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort()));let d={...o,stream:!0},_=await t.create(i,d,{...a,signal:this.controller.signal});this._connected();for await(let b of _)W(this,Ye,"m",Do).call(this,b);if(_.controller.signal?.aborted)throw new Re;return this._addRun(W(this,Ye,"m",Wo).call(this))}static accumulateDelta(t,i){for(let[o,a]of Object.entries(i)){if(!t.hasOwnProperty(o)){t[o]=a;continue}let c=t[o];if(c==null){t[o]=a;continue}if(o==="index"||o==="type"){t[o]=a;continue}if(typeof c=="string"&&typeof a=="string")c+=a;else if(typeof c=="number"&&typeof a=="number")c+=a;else if(hu(c)&&hu(a))c=this.accumulateDelta(c,a);else if(Array.isArray(c)&&Array.isArray(a)){if(c.every(d=>typeof d=="string"||typeof d=="number")){c.push(...a);continue}}else throw Error(`Unhandled record type: ${o}, deltaValue: ${a}, accValue: ${c}`);t[o]=c}return t}};Do=function(t){if(!this.ended)switch(Rt(this,Iu,t,"f"),W(this,Ye,"m",Fp).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":W(this,Ye,"m",$p).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":W(this,Ye,"m",Mp).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":W(this,Ye,"m",Op).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wo=function(){if(this.ended)throw new Y("stream has ended, this shouldn't happen");if(!W(this,vi,"f"))throw Error("Final run has not been received");return W(this,vi,"f")},Op=function(t){let[i,o]=W(this,Ye,"m",kp).call(this,t,W(this,an,"f"));Rt(this,an,i,"f"),W(this,Eu,"f")[i.id]=i;for(let a of o){let c=i.content[a.index];c?.type=="text"&&this._emit("textCreated",c.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,i),t.data.delta.content)for(let a of t.data.delta.content){if(a.type=="text"&&a.text){let c=a.text,d=i.content[a.index];if(d&&d.type=="text")this._emit("textDelta",c,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=W(this,$s,"f")){if(W(this,gi,"f"))switch(W(this,gi,"f").type){case"text":this._emit("textDone",W(this,gi,"f").text,W(this,an,"f"));break;case"image_file":this._emit("imageFileDone",W(this,gi,"f").image_file,W(this,an,"f"));break}Rt(this,$s,a.index,"f")}Rt(this,gi,i.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(W(this,$s,"f")!==void 0){let a=t.data.content[W(this,$s,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,W(this,an,"f"));break;case"text":this._emit("textDone",a.text,W(this,an,"f"));break}}W(this,an,"f")&&this._emit("messageDone",t.data),Rt(this,an,void 0,"f")}},Mp=function(t){let i=W(this,Ye,"m",Lp).call(this,t);switch(Rt(this,zo,i,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":let o=t.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&i.step_details.type=="tool_calls")for(let c of o.step_details.tool_calls)c.index==W(this,Tu,"f")?this._emit("toolCallDelta",c,i.step_details.tool_calls[c.index]):(W(this,Tt,"f")&&this._emit("toolCallDone",W(this,Tt,"f")),Rt(this,Tu,c.index,"f"),Rt(this,Tt,i.step_details.tool_calls[c.index],"f"),W(this,Tt,"f")&&this._emit("toolCallCreated",W(this,Tt,"f")));this._emit("runStepDelta",t.data.delta,i);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Rt(this,zo,void 0,"f"),t.data.step_details.type=="tool_calls"&&W(this,Tt,"f")&&(this._emit("toolCallDone",W(this,Tt,"f")),Rt(this,Tt,void 0,"f")),this._emit("runStepDone",t.data,i);break;case"thread.run.step.in_progress":break}},Fp=function(t){W(this,Xl,"f").push(t),this._emit("event",t)},Lp=function(t){switch(t.event){case"thread.run.step.created":return W(this,An,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let i=W(this,An,"f")[t.data.id];if(!i)throw Error("Received a RunStepDelta before creation of a snapshot");let o=t.data;if(o.delta){let a=Sn.accumulateDelta(i,o.delta);W(this,An,"f")[t.data.id]=a}return W(this,An,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":W(this,An,"f")[t.data.id]=t.data;break}if(W(this,An,"f")[t.data.id])return W(this,An,"f")[t.data.id];throw new Error("No snapshot available")},kp=function(t,i){let o=[];switch(t.event){case"thread.message.created":return[t.data,o];case"thread.message.delta":if(!i)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=t.data;if(a.delta.content)for(let c of a.delta.content)if(c.index in i.content){let d=i.content[c.index];i.content[c.index]=W(this,Ye,"m",Np).call(this,c,d)}else i.content[c.index]=c,o.push(c);return[i,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(i)return[i,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Np=function(t,i){return Sn.accumulateDelta(i,t)},$p=function(t){switch(Rt(this,Ru,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Rt(this,vi,t.data,"f"),W(this,Tt,"f")&&(this._emit("toolCallDone",W(this,Tt,"f")),Rt(this,Tt,void 0,"f"));break;case"thread.run.cancelling":break}};var wi=class extends D{create(t,i,o){return this._client.post(`/threads/${t}/messages`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}retrieve(t,i,o){return this._client.get(`/threads/${t}/messages/${i}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}update(t,i,o,a){return this._client.post(`/threads/${t}/messages/${i}`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(t,i={},o){return be(i)?this.list(t,{},i):this._client.getAPIList(`/threads/${t}/messages`,yi,{query:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}del(t,i,o){return this._client.delete(`/threads/${t}/messages/${i}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}},yi=class extends Ce{};(function(r){r.MessagesPage=yi})(wi||(wi={}));var bi=class extends D{retrieve(t,i,o,a){return this._client.get(`/threads/${t}/runs/${i}/steps/${o}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(t,i,o={},a){return be(o)?this.list(t,i,{},o):this._client.getAPIList(`/threads/${t}/runs/${i}/steps`,xi,{query:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}},xi=class extends Ce{};(function(r){r.RunStepsPage=xi})(bi||(bi={}));var Ai=class extends D{constructor(){super(...arguments),this.steps=new bi(this._client)}create(t,i,o){return this._client.post(`/threads/${t}/runs`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers},stream:i.stream??!1})}retrieve(t,i,o){return this._client.get(`/threads/${t}/runs/${i}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}update(t,i,o,a){return this._client.post(`/threads/${t}/runs/${i}`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(t,i={},o){return be(i)?this.list(t,{},i):this._client.getAPIList(`/threads/${t}/runs`,Si,{query:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}cancel(t,i,o){return this._client.post(`/threads/${t}/runs/${i}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}async createAndPoll(t,i,o){let a=await this.create(t,i,o);return await this.poll(t,a.id,o)}createAndStream(t,i,o){return Sn.createAssistantStream(t,this._client.beta.threads.runs,i,o)}async poll(t,i,o){let a={...o?.headers,"X-Stainless-Poll-Helper":"true"};for(o?.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){let{data:c,response:d}=await this.retrieve(t,i,{...o,headers:{...o?.headers,...a}}).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let _=5e3;if(o?.pollIntervalMs)_=o.pollIntervalMs;else{let b=d.headers.get("openai-poll-after-ms");if(b){let x=parseInt(b);isNaN(x)||(_=x)}}await Xn(_);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}}stream(t,i,o){return Sn.createAssistantStream(t,this._client.beta.threads.runs,i,o)}submitToolOutputs(t,i,o,a){return this._client.post(`/threads/${t}/runs/${i}/submit_tool_outputs`,{body:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers},stream:o.stream??!1})}async submitToolOutputsAndPoll(t,i,o,a){let c=await this.submitToolOutputs(t,i,o,a);return await this.poll(t,c.id,a)}submitToolOutputsStream(t,i,o,a){return Sn.createToolAssistantStream(t,i,this._client.beta.threads.runs,o,a)}},Si=class extends Ce{};(function(r){r.RunsPage=Si,r.Steps=bi,r.RunStepsPage=xi})(Ai||(Ai={}));var Ci=class extends D{constructor(){super(...arguments),this.runs=new Ai(this._client),this.messages=new wi(this._client)}create(t={},i){return be(t)?this.create({},t):this._client.post("/threads",{body:t,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}retrieve(t,i){return this._client.get(`/threads/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}update(t,i,o){return this._client.post(`/threads/${t}`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}del(t,i){return this._client.delete(`/threads/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}createAndRun(t,i){return this._client.post("/threads/runs",{body:t,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers},stream:t.stream??!1})}async createAndRunPoll(t,i){let o=await this.createAndRun(t,i);return await this.runs.poll(o.thread_id,o.id,i)}createAndRunStream(t,i){return Sn.createThreadAssistantStream(t,this._client.beta.threads,i)}};(function(r){r.Runs=Ai,r.RunsPage=Si,r.Messages=wi,r.MessagesPage=yi})(Ci||(Ci={}));var Wp=async r=>{let t=await Promise.allSettled(r),i=t.filter(a=>a.status==="rejected");if(i.length){for(let a of i)console.error(a.reason);throw new Error(`${i.length} promise(s) failed - see the above errors`)}let o=[];for(let a of t)a.status==="fulfilled"&&o.push(a.value);return o};var Pi=class extends D{create(t,i,o){return this._client.post(`/vector_stores/${t}/files`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}retrieve(t,i,o){return this._client.get(`/vector_stores/${t}/files/${i}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t,i={},o){return be(i)?this.list(t,{},i):this._client.getAPIList(`/vector_stores/${t}/files`,Yn,{query:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}del(t,i,o){return this._client.delete(`/vector_stores/${t}/files/${i}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}async createAndPoll(t,i,o){let a=await this.create(t,i,o);return await this.poll(t,a.id,o)}async poll(t,i,o){let a={...o?.headers,"X-Stainless-Poll-Helper":"true"};for(o?.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){let c=await this.retrieve(t,i,{...o,headers:a}).withResponse(),d=c.data;switch(d.status){case"in_progress":let _=5e3;if(o?.pollIntervalMs)_=o.pollIntervalMs;else{let b=c.response.headers.get("openai-poll-after-ms");if(b){let x=parseInt(b);isNaN(x)||(_=x)}}await Xn(_);break;case"failed":case"completed":return d}}}async upload(t,i,o){let a=await this._client.files.create({file:i,purpose:"assistants"},o);return this.create(t,{file_id:a.id},o)}async uploadAndPoll(t,i,o){let a=await this.upload(t,i,o);return await this.poll(t,a.id,o)}},Yn=class extends Ce{};(function(r){r.VectorStoreFilesPage=Yn})(Pi||(Pi={}));var Ei=class extends D{create(t,i,o){return this._client.post(`/vector_stores/${t}/file_batches`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}retrieve(t,i,o){return this._client.get(`/vector_stores/${t}/file_batches/${i}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}cancel(t,i,o){return this._client.post(`/vector_stores/${t}/file_batches/${i}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}async createAndPoll(t,i,o){let a=await this.create(t,i);return await this.poll(t,a.id,o)}listFiles(t,i,o={},a){return be(o)?this.listFiles(t,i,{},o):this._client.getAPIList(`/vector_stores/${t}/file_batches/${i}/files`,Yn,{query:o,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}async poll(t,i,o){let a={...o?.headers,"X-Stainless-Poll-Helper":"true"};for(o?.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){let{data:c,response:d}=await this.retrieve(t,i,{...o,headers:a}).withResponse();switch(c.status){case"in_progress":let _=5e3;if(o?.pollIntervalMs)_=o.pollIntervalMs;else{let b=d.headers.get("openai-poll-after-ms");if(b){let x=parseInt(b);isNaN(x)||(_=x)}}await Xn(_);break;case"failed":case"cancelled":case"completed":return c}}}async uploadAndPoll(t,{files:i,fileIds:o=[]},a){if(i===null||i.length==0)throw new Error("No files provided to process.");let c=a?.maxConcurrency??5,d=Math.min(c,i.length),_=this._client,b=i.values(),x=[...o];async function F(R){for(let O of R){let M=await _.files.create({file:O,purpose:"assistants"},a);x.push(M.id)}}let w=Array(d).fill(b).map(F);return await Wp(w),await this.createAndPoll(t,{file_ids:x})}};Ei||(Ei={});var Ii=class extends D{constructor(){super(...arguments),this.files=new Pi(this._client),this.fileBatches=new Ei(this._client)}create(t,i){return this._client.post("/vector_stores",{body:t,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}retrieve(t,i){return this._client.get(`/vector_stores/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}update(t,i,o){return this._client.post(`/vector_stores/${t}`,{body:i,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(t={},i){return be(t)?this.list({},t):this._client.getAPIList("/vector_stores",Ri,{query:t,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}del(t,i){return this._client.delete(`/vector_stores/${t}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}},Ri=class extends Ce{};(function(r){r.VectorStoresPage=Ri,r.Files=Pi,r.VectorStoreFilesPage=Yn,r.FileBatches=Ei})(Ii||(Ii={}));var Er=class extends D{constructor(){super(...arguments),this.vectorStores=new Ii(this._client),this.chat=new _i(this._client),this.assistants=new pi(this._client),this.threads=new Ci(this._client)}};(function(r){r.VectorStores=Ii,r.VectorStoresPage=Ri,r.Chat=_i,r.Assistants=pi,r.AssistantsPage=mi,r.Threads=Ci})(Er||(Er={}));var Ir=class extends D{create(t,i){return this._client.post("/completions",{body:t,...i,stream:t.stream??!1})}};Ir||(Ir={});var Rr=class extends D{create(t,i){return this._client.post("/embeddings",{body:t,...i})}};Rr||(Rr={});var Tr=class extends D{create(t,i){return this._client.post("/files",bn({body:t,...i}))}retrieve(t,i){return this._client.get(`/files/${t}`,i)}list(t={},i){return be(t)?this.list({},t):this._client.getAPIList("/files",Or,{query:t,...i})}del(t,i){return this._client.delete(`/files/${t}`,i)}content(t,i){return this._client.get(`/files/${t}/content`,{...i,__binaryResponse:!0})}retrieveContent(t,i){return this._client.get(`/files/${t}/content`,{...i,headers:{Accept:"application/json",...i?.headers}})}async waitForProcessing(t,{pollInterval:i=5e3,maxWait:o=30*60*1e3}={}){let a=new Set(["processed","error","deleted"]),c=Date.now(),d=await this.retrieve(t);for(;!d.status||!a.has(d.status);)if(await Xn(i),d=await this.retrieve(t),Date.now()-c>o)throw new Vn({message:`Giving up on waiting for file ${t} to finish processing after ${o} milliseconds.`});return d}},Or=class extends yr{};(function(r){r.FileObjectsPage=Or})(Tr||(Tr={}));var Ti=class extends D{list(t,i={},o){return be(i)?this.list(t,{},i):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Oi,{query:i,...o})}},Oi=class extends Ce{};(function(r){r.FineTuningJobCheckpointsPage=Oi})(Ti||(Ti={}));var Mi=class extends D{constructor(){super(...arguments),this.checkpoints=new Ti(this._client)}create(t,i){return this._client.post("/fine_tuning/jobs",{body:t,...i})}retrieve(t,i){return this._client.get(`/fine_tuning/jobs/${t}`,i)}list(t={},i){return be(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Fi,{query:t,...i})}cancel(t,i){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,i)}listEvents(t,i={},o){return be(i)?this.listEvents(t,{},i):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Li,{query:i,...o})}},Fi=class extends Ce{},Li=class extends Ce{};(function(r){r.FineTuningJobsPage=Fi,r.FineTuningJobEventsPage=Li,r.Checkpoints=Ti,r.FineTuningJobCheckpointsPage=Oi})(Mi||(Mi={}));var Mr=class extends D{constructor(){super(...arguments),this.jobs=new Mi(this._client)}};(function(r){r.Jobs=Mi,r.FineTuningJobsPage=Fi,r.FineTuningJobEventsPage=Li})(Mr||(Mr={}));var Fr=class extends D{createVariation(t,i){return this._client.post("/images/variations",bn({body:t,...i}))}edit(t,i){return this._client.post("/images/edits",bn({body:t,...i}))}generate(t,i){return this._client.post("/images/generations",{body:t,...i})}};Fr||(Fr={});var Lr=class extends D{retrieve(t,i){return this._client.get(`/models/${t}`,i)}list(t){return this._client.getAPIList("/models",kr,t)}del(t,i){return this._client.delete(`/models/${t}`,i)}},kr=class extends yr{};(function(r){r.ModelsPage=kr})(Lr||(Lr={}));var Nr=class extends D{create(t,i){return this._client.post("/moderations",{body:t,...i})}};Nr||(Nr={});var jp,Te=class extends lu{constructor({baseURL:t=Io("OPENAI_BASE_URL"),apiKey:i=Io("OPENAI_API_KEY"),organization:o=Io("OPENAI_ORG_ID")??null,project:a=Io("OPENAI_PROJECT_ID")??null,...c}={}){if(i===void 0)throw new Y("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let d={apiKey:i,organization:o,project:a,...c,baseURL:t||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&Pp())throw new Y(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:d.baseURL,timeout:d.timeout??6e5,httpAgent:d.httpAgent,maxRetries:d.maxRetries,fetch:d.fetch}),this.completions=new Ir(this),this.chat=new br(this),this.embeddings=new Rr(this),this.files=new Tr(this),this.images=new Fr(this),this.audio=new xr(this),this.moderations=new Nr(this),this.models=new Lr(this),this.fineTuning=new Mr(this),this.beta=new Er(this),this.batches=new Ar(this),this._options=d,this.apiKey=i,this.organization=o,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}};jp=Te;Te.OpenAI=jp;Te.OpenAIError=Y;Te.APIError=Ue;Te.APIConnectionError=Jn;Te.APIConnectionTimeoutError=Vn;Te.APIUserAbortError=Re;Te.NotFoundError=Is;Te.ConflictError=Rs;Te.RateLimitError=Os;Te.BadRequestError=Cs;Te.AuthenticationError=Ps;Te.InternalServerError=Ms;Te.PermissionDeniedError=Es;Te.UnprocessableEntityError=Ts;Te.toFile=Rl;Te.fileFromPath=su;var{OpenAIError:N1,APIError:$1,APIConnectionError:B1,APIConnectionTimeoutError:U1,APIUserAbortError:D1,NotFoundError:W1,ConflictError:z1,RateLimitError:H1,BadRequestError:q1,AuthenticationError:G1,InternalServerError:j1,PermissionDeniedError:X1,UnprocessableEntityError:J1}=Fl;(function(r){r.Page=yr,r.CursorPage=Ce,r.Completions=Ir,r.Chat=br,r.Embeddings=Rr,r.Files=Tr,r.FileObjectsPage=Or,r.Images=Fr,r.Audio=xr,r.Moderations=Nr,r.Models=Lr,r.ModelsPage=kr,r.FineTuning=Mr,r.Beta=Er,r.Batches=Ar,r.BatchesPage=Sr})(Te||(Te={}));var Xp=Te;var Vp=od(Jl());var K1=document.querySelector('link[rel="https://api.w.org/"]')?.href||"/wp-json/",Jp=document.querySelector('meta[name="rest-nonce"]')?.content||"";var qo=class{apiUrl="";assistantId="";ai;threadId="";stream;constructor(t,i){this.apiUrl=t,this.assistantId=i,this.ai=new Xp({dangerouslyAllowBrowser:!0,baseURL:this.apiUrl,apiKey:"not_see",defaultHeaders:{"X-WP-Nonce":Jp,"OpenAI-Beta":"assistants=v2"}})}async createThread(t){let i=await this.ai.beta.threads.create({message:t});this.threadId=i.id}async addMessage(t){return this.threadId||await this.createThread(t),await this.ai.beta.threads.messages.create(this.threadId,{role:"user",content:t})}async deleteMessage(t){return this.ai.beta.threads.messages.del(this.threadId,t)}async*createRun(){this.stream=await this.ai.beta.threads.runs.create(this.threadId,{assistant_id:this.assistantId,stream:!0});let t;for await(let i of this.stream)i.event=="thread.message.created"?(t=i.data,yield t):i.event=="thread.message.delta"&&(t=(0,Vp.mergeWith)({},t,i.data.delta,this.mergeDelta),yield t)}mergeDelta(t,i){if(Array.isArray(t)&&Array.isArray(i)){let o=[];return i.forEach(a=>{let c=t.findIndex(d=>d.index===a.index);c>-1?(t[c].type==="text"&&a.type==="text"&&(t[c].text.value+=a.text.value),o.push(t[c])):o.push(a)}),t.forEach(a=>{i.some(c=>c.index===a.index)||o.push(a)}),o}}};function Ou({event:r,options:t={}}){typeof window>"u"||(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:r,...t}))}var Kp=od(Jl()),cn=Ht("AssistantChat",{state:{get isLocked(){let{isLoading:r}=qe();return(un.isLimitDisabled?!1:un.messageCount>=un.messageLimit)||r},get hasError(){return!!qe().errorMsg}},callbacks:{init(){let r=qe();r.assistant=new qo(un.apiUrl,un.assistantId)}},actions:{reset(){let r=qe();r.list=[],r.assistant=new qo(un.apiUrl,un.assistantId)},async deleteMessage(r){let t=qe();console.log(await t.assistant.deleteMessage(r)),t.list=t.list.filter(i=>i.id!=r)},async runChat(r){let t=qe();t.errorMsg="";try{t.isLoading=!0;let i=!t.assistant.threadId,o=await t.assistant.addMessage(r);i&&Ou({event:"create-thread",options:{userId:un.userId,threadId:t.assistant.threadId}}),Ou({event:"ask-question",options:{userId:un.userId,message:(0,Kp.truncate)(r,{length:24,separator:" "}),threadId:t.assistant.threadId}}),t.list.push(o),un.messageCount=o.message_count,un.messageLimit=o.max_messages;for await(let a of t.assistant.createRun()){let c=t.list.findIndex(d=>d.id==a.id);c!=-1?t.list.splice(c,1,a):t.list.push(a)}}catch(i){console.error(i),"status"in i&&i.status==403&&(i.message=wp.i18n.__("Message quota exceeded.","afm")),t.errorMsg=i.message}t.isLoading=!1}}}),{state:un,actions:_P}=cn;Ht("AssistantQuickQuestions",{actions:{start(){let{item:r}=qe(),t=cn;t.actions.reset(),t.actions.runChat(r.question||r.title)}}});var Sx=Ht("AssistantChatMessage",{state:{get messageId(){let r=qe("AssistantChat");return r.list.find(t=>t.id==r.message.id).id},get messageText(){let r=qe("AssistantChat");return r.list.find(o=>o.id==r.message.id).content.reduce((o,a)=>o+(a.type=="text"?a.text.value:""),"")},get isUserMessage(){let r=qe("AssistantChat");return r.list.find(i=>i.id==r.message.id)?.role=="user"}},callbacks:{init(){}},actions:{async delete(){await cn.actions.deleteMessage(Cx.messageId)}}}),{state:Cx,actions:CP}=Sx;function Zp(r){r.style.boxSizing="border-box";var t=r.offsetHeight-r.clientHeight;r.addEventListener("input",()=>{r.style.height="auto",r.style.height=r.scrollHeight+t+"px"}),r.removeAttribute("data-autoresize")}var Px=Ht("AssistantChatForm",{state:{get messageLimit(){return cn.state.messageLimit},get messageCount(){return cn.state.messageCount},get isLocked(){return cn.state.isLocked},get hasError(){return cn.state.hasError},get errorMsg(){return qe("AssistantChat").errorMsg},get isLoading(){return qe("AssistantChat").isLoading}},callbacks:{init(){let t=ll().ref?.querySelector("textarea");t&&Zp(t)}},actions:{setCurrentUserMessage(r){let t=qe();t.currentUserMessage=r.target.value},submit(r){r.preventDefault();let t=qe(),i=t.currentUserMessage;t.currentUserMessage="",i&&cn.actions.runChat(i)}}}),{state:OP,actions:MP}=Px;})();
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

@iframe-resizer/child/index.umd.js:
  (*!
   *  @preserve
   *  
   *  @module      iframe-resizer/child 5.3.2 (umd) - 2024-10-22
   *
   *  @license     GPL-3.0 for non-commercial use only.
   *               For commercial use, you must purchase a license from
   *               https://iframe-resizer.com/pricing
   * 
   *  @description Keep same and cross domain iFrames sized to their content 
   *
   *  @author      David J. Bradshaw <info@iframe-resizer.com>
   * 
   *  @see         {@link https://iframe-resizer.com}
   * 
   *  @copyright  (c) 2013 - 2024, David J. Bradshaw. All rights reserved.
   *)
*/
